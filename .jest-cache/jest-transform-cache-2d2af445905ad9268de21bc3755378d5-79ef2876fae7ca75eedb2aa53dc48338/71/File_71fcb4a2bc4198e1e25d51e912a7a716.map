{"version":3,"names":["cov_19x9899z49","actualCoverage","s","js_yaml_1","require","Folder","exports","File","constructor","vault","file","f","linkRegex","lock","name","path","basename","extension","getFolderPath","substring","lastIndexOf","getFile","isFolderFile","endsWith","getName","replace","getFolderFilePath","b","getParentFolderPath","md","getID","id","getMetadata","Id","v4","updateMetadata","getPath","getLink","move","targetFolderPath","targetFileName","Promise","resolve","setTimeout","console","log","subtargetPath","folder","app","moveFile","newFilePath","existingFile","renameFile","error","getFromLink","metadata","getMetadataValue","key","undefined","getAllProperties","properties","value","fileContent","readFile","body","extractFrontmatter","existingFrontmatter","frontmatter","load","newFrontmatter","dump","newContent","writeFile","waitForFileMetaDataUpdate","removeMetadata","saveFrontmatter","reorderMetadata","propertiesOrder","push","JSON","stringify","Object","keys","sortedFrontmatter","extraProperties","sortFrontmatter","filteredExtraProperties","filter","prop","trim","content","frontmatterRegex","match","formatFrontmatter","forEach","includes"],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\vault\\File.ts"],"sourcesContent":["import { IApp, IFile, IFolder } from \"../interfaces/IApp\";\r\nimport { Vault } from \"./Vault\";\r\nimport { waitForFileMetaDataUpdate, waitForMetaDataCacheUpdate } from \"./Utils\";\r\nimport { dump, load as parseYaml } from 'js-yaml';\r\n\r\nexport class Folder {\r\n\r\n}\r\n\r\nexport class File implements IFile {\r\n    /*\r\n    Allow to quickly use files methods\r\n    */\r\n    public vault : Vault;\r\n    public file: any;\r\n    private lock : boolean;\r\n    public linkRegex = /^\"?\\[\\[(.*?)\\]\\]\"?$/;\r\n\r\n    public name : string;\r\n    public path : string;\r\n    public basename : string;\r\n    public extension : string;\r\n\r\n    constructor(vault : Vault, file: IFile) {\r\n      this.vault = vault;\r\n      this.file = file;\r\n      this.lock = false\r\n\r\n      this.name = file.name;\r\n      this.path = file.path;\r\n      this.basename = file.basename;\r\n      this.extension = file.extension;\r\n\r\n    }\r\n\r\n    getFolderPath(){\r\n      return this.file.path.substring(0, this.file.path.lastIndexOf(\"/\"))\r\n    }\r\n\r\n    getFile(){\r\n      return this.file\r\n    }\r\n\r\n    isFolderFile(){\r\n      // Return true if the file is also a folder\r\n      return this.file.path.substring(0, this.file.path.lastIndexOf(\"/\")).endsWith(this.getName().replace(\".md\", \"\"))\r\n    }\r\n\r\n    getFolderFilePath(){\r\n      // Return the folderFile path\r\n      let path = this.getFolderPath()\r\n      if (this.isFolderFile()){\r\n        return path\r\n      }\r\n      return path + \"/\" + this.getName(false)\r\n    }\r\n\r\n    getParentFolderPath(){\r\n      let path = this.getFolderPath()\r\n      if (this.isFolderFile()){\r\n        path = path.substring(0, path.lastIndexOf(\"/\"))\r\n      }\r\n      return path\r\n    }\r\n\r\n    getName(md=true){\r\n      if (md){\r\n        return this.file.name\r\n      }\r\n      return this.file.name.replace(\".md\",\"\")\r\n    }\r\n\r\n    async getID(): Promise<string> {\r\n      let id = (await this.getMetadata())?.Id\r\n      if (!id){\r\n        id = require(\"uuid\").v4()\r\n        this.updateMetadata(\"Id\", id)\r\n      }\r\n      return id\r\n    }\r\n\r\n    getPath(){\r\n      // Return the file path\r\n      return this.file.path\r\n    }\r\n\r\n    getLink(){\r\n      return `[[${this.getPath()}|${this.getName(false)}]]`\r\n    }\r\n\r\n    async move(targetFolderPath: string, targetFileName?: string) {\r\n      if (this.lock) {\r\n        while (this.lock) {\r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n          console.log(\"Waiting for lock\")\r\n        }\r\n      };\r\n      this.lock = true;\r\n      if (!targetFileName){\r\n        targetFileName = this.getName();\r\n      }\r\n      try {\r\n        // Check if the folder of the target pathname exist\r\n        let subtargetPath = targetFolderPath + \"/\" + targetFileName\r\n        const folder = await this.vault.app.getFile(subtargetPath);\r\n        if (folder) {\r\n          targetFolderPath = subtargetPath;\r\n        }\r\n\r\n        // Check if we need to move the file or the folder\r\n        let moveFile : any = this.file\r\n        let newFilePath = `${targetFolderPath}/${targetFileName}`;\r\n        if (this.isFolderFile()){\r\n          let folder = await this.vault.app.getFile(this.getFolderPath())\r\n          if (folder){\r\n            moveFile = folder\r\n            newFilePath = newFilePath.replace(\".md\",\"\")\r\n          }\r\n        }\r\n\r\n        // Vérification si le fichier cible existe déjà\r\n        const existingFile = await this.vault.app.getFile(newFilePath);\r\n        if (existingFile) {\r\n            console.log('Le fichier existe déjà, impossible de déplacer.');\r\n            this.lock = false;\r\n            return;\r\n        }\r\n    \r\n        try {\r\n            // Essayer de déplacer le fichier\r\n            if (moveFile) {\r\n                await this.vault.app.renameFile(moveFile, newFilePath);\r\n                console.log(`Fichier déplacé vers ${newFilePath}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Erreur lors du déplacement du fichier :', error);\r\n        }\r\n      }\r\n      finally {\r\n          this.lock = false;\r\n      }\r\n  }\r\n  getFromLink(name:  string) : any{\r\n    return this.vault.getFromLink(name)\r\n  }\r\n\r\n    async getMetadata() : Promise <Record<string, any>>{\r\n      let metadata = await this.vault.app.getMetadata(this.file);\r\n      return metadata\r\n    }\r\n\r\n    async getMetadataValue(key: string){\r\n      let metadata = await this.getMetadata();\r\n      return metadata ? metadata[key] : undefined;\r\n    }\r\n\r\n    getAllProperties(){\r\n      let metadata = this.getMetadata();\r\n      if (!metadata) return {};\r\n      // Return property objects that match the expected format\r\n      const properties: Record<string, any> = {};\r\n      for (const key in metadata) {\r\n        properties[key] = { name: key };\r\n      }\r\n      return properties;\r\n    }\r\n\r\n  \r\n    async updateMetadata(key: string, value: any) {\r\n      if (this.lock) {\r\n        while (this.lock) {\r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n          console.log(\"Waiting for lock\")\r\n        }\r\n      };\r\n      this.lock = true;\r\n      \r\n      try {\r\n        console.log(\"Update metadata on \" + this.getName() +\" : \" + key + \" --> \" + value)\r\n        const fileContent = await this.vault.app.readFile(this.file);\r\n        const { body } = this.extractFrontmatter(fileContent);\r\n      \r\n        const { existingFrontmatter } = this.extractFrontmatter(fileContent);\r\n\r\n        if (!existingFrontmatter) {this.lock = false; return;}\r\n\r\n        try {\r\n            let frontmatter = parseYaml(existingFrontmatter) as any;\r\n\r\n            if (!frontmatter) {this.lock = false; return;};\r\n            frontmatter[key] = value;\r\n            const newFrontmatter = dump(frontmatter);\r\n\r\n            const newContent = `---\\n${newFrontmatter}\\n---\\n${body}`; //${extraText}\r\n            await this.vault.app.writeFile(this.file, newContent);\r\n            await this.vault.app.waitForFileMetaDataUpdate(this.getPath(), key, async () => { return; })\r\n            console.log(\"Metdata updated\")\r\n\r\n        } catch (error) {\r\n            console.error(\"❌ Erreur lors du parsing du frontmatter:\", error);\r\n        }\r\n      }\r\n      finally {\r\n          this.lock = false;\r\n      }\r\n    }\r\n\r\n    async removeMetadata(key: string) {\r\n      console.log(\"Remove metadata \" + key)\r\n      const frontmatter = await this.getMetadata();\r\n      if (!frontmatter) return;\r\n      delete frontmatter[key]\r\n      await this.saveFrontmatter(frontmatter);\r\n    }\r\n    \r\n    async reorderMetadata(propertiesOrder: string[]) {\r\n        const frontmatter = this.getMetadata();\r\n        if (!frontmatter) return;\r\n\r\n        propertiesOrder.push(\"Id\")\r\n\r\n        if (JSON.stringify(propertiesOrder) === JSON.stringify(Object.keys(frontmatter))) return;\r\n\r\n        console.log(\"Re-order metadata\");\r\n        // Sort properties and extract extra ones\r\n        const { sortedFrontmatter, extraProperties } = this.sortFrontmatter(frontmatter, propertiesOrder);\r\n        await this.saveFrontmatter(sortedFrontmatter, extraProperties);\r\n    }\r\n    \r\n    async saveFrontmatter(frontmatter: Record<string, any>, extraProperties: string[] = []) {\r\n        const fileContent = await this.vault.app.readFile(this.file);\r\n        const { body } = this.extractFrontmatter(fileContent);\r\n    \r\n        // Reformater le frontmatter\r\n        const newFrontmatter = dump(frontmatter);\r\n        const filteredExtraProperties = extraProperties.filter(prop => prop && prop.trim() !== \"\");\r\n        //const extraText = filteredExtraProperties.length > 0 ? `\\n${filteredExtraProperties.join(\"\\n\")}` : \"\";\r\n\r\n        \r\n        // Sauvegarde du fichier\r\n        const newContent = `---\\n${newFrontmatter}\\n---\\n${body}`; //${extraText}\r\n        await this.vault.app.writeFile(this.file, newContent);\r\n        console.log(\"Updated file\")\r\n    }\r\n\r\n    \r\n    // Extraire le frontmatter et le reste du contenu\r\n    extractFrontmatter(content: string) {\r\n        const frontmatterRegex = /^---\\n([\\s\\S]+?)\\n---\\n/;\r\n        const match = content.match(frontmatterRegex);\r\n        return {\r\n            existingFrontmatter: match ? match[1] : \"\",\r\n            body: match ? content.replace(match[0], \"\") : content,\r\n        };\r\n    }\r\n    \r\n    // Trier les propriétés et identifier celles en surplus\r\n    // Méthode simple pour les tests\r\n    formatFrontmatter(frontmatter: Record<string, any>): string {\r\n        return dump(frontmatter);\r\n    }\r\n\r\n    sortFrontmatter(frontmatter: Record<string, any>, propertiesOrder: string[]) {\r\n        let sortedFrontmatter: Record<string, any> = {};\r\n        let extraProperties: string[] = [];\r\n        \r\n        propertiesOrder.forEach(prop => {\r\n            if (prop in frontmatter) {\r\n                sortedFrontmatter[prop] = frontmatter[prop];\r\n            } else {\r\n                sortedFrontmatter[prop] = null;\r\n            }\r\n        });\r\n        \r\n        Object.keys(frontmatter).forEach(prop => {\r\n            if (!propertiesOrder.includes(prop)) {\r\n                extraProperties.push(`${prop}: ${JSON.stringify(frontmatter[prop])}`);\r\n            }\r\n        });\r\n        \r\n        return { sortedFrontmatter, extraProperties };\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}