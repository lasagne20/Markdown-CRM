{"version":3,"names":["cov_gx93jexhu","actualCoverage","s","LinkProperty_1","require","PhoneProperty","LinkProperty","constructor","name","vault","args","b","icon","f","type","validate","phoneNumber","cleaned","replace","length","corrected","getPretty","value","getLink","exports"],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\properties\\PhoneProperty.ts"],"sourcesContent":["import { LinkProperty } from \"./LinkProperty\";\r\nimport { Property } from \"./Property\";\r\nimport { Vault } from \"../vault/Vault\";\r\n\r\n\r\n\r\nexport class PhoneProperty extends LinkProperty{\r\n\r\n  public override type : string = \"phone\";\r\n    // Used for property hidden for the user\r\n    constructor(name : string, vault: Vault, args : {} = {icon: \"phone\"}) {\r\n      super(name, vault, args)\r\n    }\r\n\r\n    override validate(phoneNumber: string) {\r\n      let cleaned = phoneNumber.replace(/[^0-9]/g, \"\");\r\n  \r\n      if (cleaned.length !== 10) {\r\n          return \"\";\r\n      }\r\n  \r\n      const corrected = cleaned.replace(/(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/, \"$1.$2.$3.$4.$5\");\r\n      return corrected;\r\n  }\r\n\r\n  override getPretty(value: string) {\r\n    if (!value) return value;\r\n    return this.validate(value);  \r\n }\r\n\r\n  override getLink(value : string){\r\n    return `callto:${value?.replace(\".\",\"\")}`\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBM;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;;AArBN,MAAAC,cAAA;AAAA;AAAA,CAAAH,aAAA,GAAAE,CAAA,OAAAE,OAAA;AAMA,MAAaC,aAAc;AAAA;AAAA,CAAQF,cAAA,CAAAG,YAAY;EAG3C;EACAC,YAAYC,IAAa,EAAEC,KAAY,EAAEC,IAAA;EAAA;EAAA,CAAAV,aAAA,GAAAW,CAAA,UAAY;IAACC,IAAI,EAAE;EAAO,CAAC;IAAA;IAAAZ,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAE,CAAA;IAClE,KAAK,CAACM,IAAI,EAAEC,KAAK,EAAEC,IAAI,CAAC;IAAA;IAAAV,aAAA,GAAAE,CAAA;IAHZ,KAAAY,IAAI,GAAY,OAAO;EAIrC;EAESC,QAAQA,CAACC,WAAmB;IAAA;IAAAhB,aAAA,GAAAa,CAAA;IACnC,IAAII,OAAO;IAAA;IAAA,CAAAjB,aAAA,GAAAE,CAAA,OAAGc,WAAW,CAACE,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IAAC;IAAAlB,aAAA,GAAAE,CAAA;IAEjD,IAAIe,OAAO,CAACE,MAAM,KAAK,EAAE,EAAE;MAAA;MAAAnB,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAE,CAAA;MACvB,OAAO,EAAE;IACb,CAAC;IAAA;IAAA;MAAAF,aAAA,GAAAW,CAAA;IAAA;IAED,MAAMS,SAAS;IAAA;IAAA,CAAApB,aAAA,GAAAE,CAAA,OAAGe,OAAO,CAACC,OAAO,CAAC,qCAAqC,EAAE,gBAAgB,CAAC;IAAC;IAAAlB,aAAA,GAAAE,CAAA;IAC3F,OAAOkB,SAAS;EACpB;EAESC,SAASA,CAACC,KAAa;IAAA;IAAAtB,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAE,CAAA;IAC9B,IAAI,CAACoB,KAAK,EAAE;MAAA;MAAAtB,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAE,CAAA;MAAA,OAAOoB,KAAK;IAAA,CAAC;IAAA;IAAA;MAAAtB,aAAA,GAAAW,CAAA;IAAA;IAAAX,aAAA,GAAAE,CAAA;IACzB,OAAO,IAAI,CAACa,QAAQ,CAACO,KAAK,CAAC;EAC9B;EAEUC,OAAOA,CAACD,KAAc;IAAA;IAAAtB,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAE,CAAA;IAC7B,OAAO,UAAUoB,KAAK,EAAEJ,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC,EAAE;EAC3C;;AACD;AAAAlB,aAAA,GAAAE,CAAA;AA3BDsB,OAAA,CAAAnB,aAAA,GAAAA,aAAA","ignoreList":[]}