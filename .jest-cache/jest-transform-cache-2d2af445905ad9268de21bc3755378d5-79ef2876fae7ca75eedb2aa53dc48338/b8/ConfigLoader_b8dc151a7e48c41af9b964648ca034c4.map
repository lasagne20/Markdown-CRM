{"version":3,"names":["yaml","cov_1xc3mqu59e","s","__importStar","require","AdressProperty_1","BooleanProperty_1","ClasseProperty_1","DateProperty_1","EmailProperty_1","FileProperty_1","FormulaProperty_1","LinkProperty_1","MediaProperty_1","MultiFileProperty_1","MultiSelectProperty_1","NumberProperty_1","ObjectProperty_1","PhoneProperty_1","Property_1","RangeDateProperty_1","RatingProperty_1","SelectProperty_1","TextProperty_1","ConfigLoader","constructor","configPath","vault","app","f","loadedConfigs","Map","loadClassConfig","className","has","b","get","configFilePath","fileContent","adapter","read","error","file","getAbstractFileByPath","Error","config","load","set","console","createProperty","options","icon","type","Property","name","FileProperty","classes","MultiFileProperty","selectOptions","map","opt","color","SelectProperty","multiSelectOptions","MultiSelectProperty","EmailProperty","PhoneProperty","LinkProperty","objProperties","properties","Array","isArray","row","propConfig","parseTableRowToPropertyConfig","key","Object","entries","objOptions","display","ObjectProperty","RatingProperty","defaultValues","defaultValue","DateProperty","RangeDateProperty","AdressProperty","ClasseProperty","TextProperty","BooleanProperty","NumberProperty","static","MediaProperty","formula","formulaOptions","write","FormulaProperty","warn","getAllClassNames","default","split","c","trim","setConfigPath","exports"],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\Config\\ConfigLoader.ts"],"sourcesContent":["import * as yaml from 'js-yaml';\r\nimport { Classe } from '../vault/Classe';\r\nimport { AdressProperty } from '../properties/AdressProperty';\r\nimport { BooleanProperty } from '../properties/BooleanProperty';\r\nimport { ClasseProperty } from '../properties/ClasseProperty';\r\nimport { DateProperty } from '../properties/DateProperty';\r\nimport { EmailProperty } from '../properties/EmailProperty';\r\nimport { FileProperty } from '../properties/FileProperty';\r\nimport { FormulaProperty } from '../properties/FormulaProperty';\r\nimport { LinkProperty } from '../properties/LinkProperty';\r\nimport { MediaProperty } from '../properties/MediaProperty';\r\nimport { MultiFileProperty } from '../properties/MultiFileProperty';\r\nimport { MultiSelectProperty } from '../properties/MultiSelectProperty';\r\nimport { NumberProperty } from '../properties/NumberProperty';\r\nimport { ObjectProperty } from '../properties/ObjectProperty';\r\nimport { PhoneProperty } from '../properties/PhoneProperty';\r\nimport { Property } from '../properties/Property';\r\nimport { RangeDateProperty } from '../properties/RangeDateProperty';\r\nimport { RatingProperty } from '../properties/RatingProperty';\r\nimport { SelectProperty } from '../properties/SelectProperty';\r\nimport { TextProperty } from '../properties/TextProperty';\r\nimport { Vault } from '../vault/Vault';\r\nimport { ClassConfig, PropertyConfig, PropertyTableRow } from './interfaces';\r\n// Remove Node.js imports for Obsidian compatibility\r\n// import { readFileSync } from 'fs';\r\n// import { join } from 'path';\r\n\r\nexport class ConfigLoader {\r\n    private configPath: string;\r\n    private loadedConfigs: Map<string, ClassConfig> = new Map();\r\n    private app: any; // Obsidian App instance\r\n    private vault: Vault;\r\n\r\n    constructor(configPath: string, vault: Vault, app?: any) {\r\n        this.configPath = configPath;\r\n        this.vault = vault;\r\n        this.app = app;\r\n    }\r\n\r\n    /**\r\n     * Load a class configuration from YAML file\r\n     */\r\n    async loadClassConfig(className: string): Promise<ClassConfig> {\r\n        if (this.loadedConfigs.has(className)) {\r\n            return this.loadedConfigs.get(className)!;\r\n        }\r\n\r\n        try {\r\n            const configFilePath = `${this.configPath}/${className}.yaml`;\r\n            let fileContent: string;\r\n            \r\n            if (this.app && this.app.vault) {\r\n                // Try to read using vault adapter for plugin files\r\n                try {\r\n                    fileContent = await this.app.vault.adapter.read(configFilePath);\r\n                } catch (error) {\r\n                    // Fallback to vault API for files in the vault\r\n                    const file = this.app.vault.getAbstractFileByPath(configFilePath);\r\n                    if (!file || !('extension' in file)) {\r\n                        throw new Error(`Configuration file not found: ${configFilePath}`);\r\n                    }\r\n                    fileContent = await this.app.vault.read(file);\r\n                }\r\n            } else {\r\n                // Fallback for testing or when app is not available\r\n                throw new Error('Obsidian app instance required to read configuration files');\r\n            }\r\n            \r\n            const config = yaml.load(fileContent) as ClassConfig;\r\n            \r\n            this.loadedConfigs.set(className, config);\r\n            return config;\r\n        } catch (error) {\r\n            console.error(`Failed to load config for class ${className}:`, error);\r\n            throw new Error(`Configuration not found for class: ${className}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a Property instance from configuration\r\n     */\r\n    createProperty(config: PropertyConfig): Property {\r\n        const options = config.icon ? { icon: config.icon } : {};\r\n        \r\n        switch (config.type) {\r\n            case 'Property':\r\n                return new Property(config.name, this.vault, options);\r\n            \r\n            case 'FileProperty':\r\n                return new FileProperty(config.name, this.vault, config.classes || [], options);\r\n            \r\n            case 'MultiFileProperty':\r\n                return new MultiFileProperty(config.name, this.vault, config.classes || [], options);\r\n            \r\n            case 'SelectProperty':\r\n                const selectOptions = (config.options || []).map(opt => ({\r\n                    name: opt.name,\r\n                    color: opt.color || ''\r\n                }));\r\n                return new SelectProperty(config.name, this.vault, selectOptions, options);\r\n            \r\n            case 'MultiSelectProperty':\r\n                const multiSelectOptions = (config.options || []).map(opt => ({\r\n                    name: opt.name,\r\n                    color: opt.color || ''\r\n                }));\r\n                return new MultiSelectProperty(config.name, this.vault, multiSelectOptions, options);\r\n            \r\n            case 'EmailProperty':\r\n                return new EmailProperty(config.name, this.vault, options);\r\n            \r\n            case 'PhoneProperty':\r\n                return new PhoneProperty(config.name, this.vault, options);\r\n            \r\n            case 'LinkProperty':\r\n                return new LinkProperty(config.name, this.vault, options);\r\n            \r\n            case 'ObjectProperty':\r\n                const objProperties: { [key: string]: Property } = {};\r\n                if (config.properties) {\r\n                    // Vérifier si c'est un format tableau ou objet\r\n                    if (Array.isArray(config.properties)) {\r\n                        // Format tableau\r\n                        for (const row of config.properties) {\r\n                            const propConfig = this.parseTableRowToPropertyConfig(row);\r\n                            objProperties[row.name] = this.createProperty(propConfig);\r\n                        }\r\n                    } else {\r\n                        // Format objet classique\r\n                        for (const [key, propConfig] of Object.entries(config.properties)) {\r\n                            objProperties[key] = this.createProperty(propConfig);\r\n                        }\r\n                    }\r\n                }\r\n                // Ajouter le mode d'affichage si spécifié\r\n                const objOptions: any = { ...options };\r\n                if (config.display) {\r\n                    objOptions.display = config.display;\r\n                }\r\n                return new ObjectProperty(config.name, this.vault, objProperties, objOptions);\r\n            \r\n            case 'RatingProperty':\r\n                return new RatingProperty(config.name, this.vault, options);\r\n            \r\n            case 'DateProperty':\r\n                const defaultValues = config.defaultValue ? [config.defaultValue] : [];\r\n                return new DateProperty(config.name,  this.vault,defaultValues, options);\r\n            \r\n            case 'RangeDateProperty':\r\n                return new RangeDateProperty(config.name, this.vault, options);\r\n            \r\n            case 'AdressProperty':\r\n                return new AdressProperty(config.name, this.vault, options);\r\n            \r\n            case 'ClasseProperty':\r\n                return new ClasseProperty(config.name, this.vault, config.icon || 'box');\r\n            \r\n            case 'TextProperty':\r\n                return new TextProperty(config.name, this.vault, options);\r\n            \r\n            case 'BooleanProperty':\r\n                return new BooleanProperty(config.name, this.vault, options);\r\n            \r\n            case 'NumberProperty':\r\n                return new NumberProperty(config.name, this.vault, '', { icon: config.icon || '', static: true });\r\n            \r\n            case 'SubClassProperty':\r\n                // This will be handled separately in createSubClassProperty\r\n                return new Property(config.name, this.vault, options); // Placeholder\r\n\r\n\r\n            case 'MediaProperty':\r\n                return new MediaProperty(config.name, this.vault, options);\r\n\r\n            case 'FormulaProperty':\r\n                const formula = config.formula || config.defaultValue || '';\r\n                const formulaOptions = config.icon ? { icon: config.icon, static: true, write: true } : { icon: '', static: true, write: true };\r\n                return new FormulaProperty(config.name, this.vault, formula, formulaOptions);\r\n            \r\n            default:\r\n                console.warn(`Unknown property type: ${config.type}, falling back to Property`);\r\n                return new Property(config.name, this.vault, options);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create SubClass instances from configuration\r\n     */\r\n    /*\r\n    createSubClasses(config: ClassConfig, parentClass: typeof Classe): SubClass[] {\r\n        if (!config.subClassesProperty) {\r\n            return [];\r\n        }\r\n\r\n        const subClasses: SubClass[] = [];\r\n        const configLoader = this; // Reference to the current ConfigLoader instance\r\n        \r\n        for (const subClassConfig of config.subClassesProperty.subClasses) {\r\n            // Create a dynamic SubClass\r\n            class DynamicSubClass extends SubClass {\r\n                public subClassName = subClassConfig.name;\r\n                public subClassIcon = subClassConfig.icon || 'box';\r\n                \r\n                static Properties: { [key: string]: Property } = {};\r\n                \r\n                constructor(classe: typeof Classe, data: any = null) {\r\n                    super(classe, data);\r\n                    \r\n                    // Initialize properties if defined\r\n                    if (subClassConfig.properties && !Object.keys(DynamicSubClass.Properties).length) {\r\n                        for (const [key, propConfig] of Object.entries(subClassConfig.properties)) {\r\n                            DynamicSubClass.Properties[key] = configLoader.createProperty(propConfig);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                getConstructor(): typeof DynamicSubClass {\r\n                    return DynamicSubClass;\r\n                }\r\n            }\r\n            \r\n            subClasses.push(new DynamicSubClass(parentClass));\r\n        }\r\n        \r\n        return subClasses;\r\n    }*/\r\n\r\n    /**\r\n     * Create SubClassProperty from configuration\r\n     *//*\r\n    createSubClassProperty(config: ClassConfig, parentClass: typeof Classe): SubClassProperty | undefined {\r\n        if (!config.subClassesProperty) {\r\n            return undefined;\r\n        }\r\n\r\n        const subClasses = this.createSubClasses(config, parentClass);\r\n        return new SubClassProperty(config.subClassesProperty.name, subClasses);\r\n    }*/\r\n\r\n    /**\r\n     * Get all available class configurations\r\n     */\r\n    async getAllClassNames(): Promise<string[]> {\r\n        // This would scan the config directory for .yaml files\r\n        // For now, return a hardcoded list based on existing classes\r\n        return [\r\n            'Personne', 'Institution', 'Lieu', 'Action', 'Animateur', \r\n            'Evenement', 'Note', 'Partenariat'\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Parse une ligne de tableau de propriétés en PropertyConfig\r\n     */\r\n    private parseTableRowToPropertyConfig(row: PropertyTableRow): PropertyConfig {\r\n        const config: PropertyConfig = {\r\n            type: row.type,\r\n            name: row.name,\r\n            icon: row.icon,\r\n            defaultValue: row.default\r\n        };\r\n\r\n        // Parser les classes (string séparé par virgules)\r\n        if (row.classes) {\r\n            config.classes = row.classes.split(',').map(c => c.trim());\r\n        }\r\n\r\n        // Parser les options (format \"name1:color1,name2:color2\")\r\n        if (row.options) {\r\n            config.options = row.options.split(',').map(opt => {\r\n                const [name, color = ''] = opt.split(':').map(s => s.trim());\r\n                return { name, color };\r\n            });\r\n        }\r\n\r\n        // Autres attributs\r\n        if (row.formula) {\r\n            config.formula = row.formula;\r\n        }\r\n        \r\n        if (row.display) {\r\n            config.display = row.display;\r\n        }\r\n\r\n        return config;\r\n    }\r\n\r\n    /**\r\n     * Set the config path (useful when we need to update it)\r\n     */\r\n    setConfigPath(configPath: string): void {\r\n        this.configPath = configPath;\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}