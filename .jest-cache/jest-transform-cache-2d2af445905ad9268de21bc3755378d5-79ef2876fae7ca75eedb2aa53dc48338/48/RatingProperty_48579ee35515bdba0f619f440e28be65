8267d0ae994c8a622340c273d0eb197d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RatingProperty = void 0;
const Property_1 = require("./Property");
class RatingProperty extends Property_1.Property {
    constructor(name, vault, args = { icon: "star" }) {
        super(name, vault, args);
        this.type = "rating";
    }
    fillDisplay(vault, value, update) {
        this.vault = vault;
        const field = this.createFieldContainer();
        const fieldContainer = document.createElement("div");
        fieldContainer.classList.add("field-container-column");
        const header = document.createElement("div");
        header.classList.add("metadata-header");
        header.textContent = this.name;
        fieldContainer.appendChild(header);
        const stars = this.createStarRating(value, update);
        fieldContainer.appendChild(stars);
        field.appendChild(fieldContainer);
        return field;
    }
    // Fonction pour créer la notation par étoiles (5 étoiles cliquables)
    createStarRating(value, update) {
        const starContainer = document.createElement("div");
        starContainer.classList.add("star-rating");
        let selectedRating = 0;
        if (value) {
            selectedRating = value.length;
        }
        // Crée les 5 étoiles
        for (let i = 1; i <= 5; i++) {
            const star = document.createElement("div");
            star.classList.add("star");
            this.vault.app.setIcon(star, this.icon);
            star.setAttribute("data-value", i.toString());
            const svg = star.querySelector("svg");
            if (svg) {
                if (i <= selectedRating) {
                    svg.classList.add("filled-star");
                }
            }
            // Ajout des événements pour l'interaction utilisateur
            star.onmouseover = () => this.previewStars(starContainer, i);
            star.onmouseleave = () => this.previewStars(starContainer, selectedRating);
            star.onclick = async () => {
                selectedRating = i;
                await update('+'.repeat(i)); // Sauvegarde en métadonnées sous forme de "+"
                this.updateStarRating(starContainer, selectedRating);
            };
            starContainer.appendChild(star);
        }
        this.updateStarRating(starContainer, selectedRating); // Initial update to ensure correct state
        return starContainer;
    }
    // Met à jour l'affichage des étoiles en fonction du niveau actuel
    updateStarRating(starContainer, rating) {
        const stars = starContainer.querySelectorAll('.star');
        stars.forEach((star, index) => {
            const svg = star.querySelector("svg");
            if (svg) {
                if (index < rating) {
                    svg.classList.add("filled-star");
                }
                else {
                    svg.classList.remove("filled-star");
                }
            }
        });
    }
    // Prévisualise les étoiles en fonction du survol
    previewStars(starContainer, rating) {
        const stars = starContainer.querySelectorAll('.star');
        stars.forEach((star, index) => {
            const svg = star.querySelector("svg");
            if (svg) {
                if (index < rating) {
                    svg.classList.add("hovered-star");
                }
                else {
                    svg.classList.remove("hovered-star");
                }
            }
        });
    }
}
exports.RatingProperty = RatingProperty;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxzcmNcXHByb3BlcnRpZXNcXFJhdGluZ1Byb3BlcnR5LnRzIiwibWFwcGluZ3MiOiI7OztBQUNBLHlDQUFzQztBQUd0QyxNQUFhLGNBQWUsU0FBUSxtQkFBUTtJQUl4QyxZQUFZLElBQVksRUFBRSxLQUFZLEVBQUUsT0FBWSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUM7UUFDOUQsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFIYixTQUFJLEdBQVksUUFBUSxDQUFDO0lBSXpDLENBQUM7SUFFUSxXQUFXLENBQUMsS0FBVyxFQUFFLEtBQVcsRUFBRSxNQUF3QztRQUNuRixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtRQUNsQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUMxQyxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JELGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFFdkQsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQTtRQUM5QixjQUFjLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRW5DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbkQsY0FBYyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNs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QyxDQUFDO2dCQUN4QyxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGlEQUFpRDtJQUNqRCxZQUFZLENBQUMsYUFBNkIsRUFBRSxNQUFjO1FBQ3RELE1BQU0sS0FBSyxHQUFHLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQTRCLENBQUM7UUFDakYsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUMxQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RDLElBQUksR0FBRyxFQUFFLENBQUM7Z0JBQ04sSUFBSSxLQUFLLEdBQUcsTUFBTSxFQUFFLENBQUM7b0JBQ2pCLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUN0QyxDQUFDO3FCQUFNLENBQUM7b0JBQ0osR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQ3pDLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUEvRkQsd0NBK0ZDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbGVvZHVcXERvY3VtZW50c1xcMSAtIFByb1xcVGVzdCBwbHVnaW4gb2JzaWRpYW5cXC5vYnNpZGlhblxccGx1Z2luc1xcb2JzaWRpYW4tQ1JNXFxkeW5hbWljLWZpZWxkc1xcc3JjXFxwcm9wZXJ0aWVzXFxSYXRpbmdQcm9wZXJ0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tIFwiLi9Qcm9wZXJ0eVwiO1xyXG5pbXBvcnQgeyBWYXVsdCB9IGZyb20gXCIuLi92YXVsdC9WYXVsdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJhdGluZ1Byb3BlcnR5IGV4dGVuZHMgUHJvcGVydHkge1xyXG5cclxuICAgIHB1YmxpYyBvdmVycmlkZSB0eXBlIDogc3RyaW5nID0gXCJyYXRpbmdcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZhdWx0OiBWYXVsdCwgYXJncyA6IHt9ID0ge2ljb246IFwic3RhclwifSkge1xyXG4gICAgICAgIHN1cGVyKG5hbWUsIHZhdWx0LCBhcmdzKTsgXHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgZmlsbERpc3BsYXkodmF1bHQgOiBhbnksIHZhbHVlIDogYW55LCB1cGRhdGU6ICh2YWx1ZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+KSB7XHJcbiAgICAgICAgdGhpcy52YXVsdCA9IHZhdWx0XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmNyZWF0ZUZpZWxkQ29udGFpbmVyKCk7XHJcbiAgICAgICAgY29uc3QgZmllbGRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGZpZWxkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmaWVsZC1jb250YWluZXItY29sdW1uXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwibWV0YWRhdGEtaGVhZGVyXCIpO1xyXG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHRoaXMubmFtZVxyXG4gICAgICAgIGZpZWxkQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJzID0gdGhpcy5jcmVhdGVTdGFyUmF0aW5nKHZhbHVlLCB1cGRhdGUpOyBcclxuICAgICAgICBmaWVsZENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGFycyk7XHJcbiAgICAgICAgZmllbGQuYXBwZW5kQ2hpbGQoZmllbGRDb250YWluZXIpO1xyXG4gICAgICAgIHJldHVybiBmaWVsZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb25jdGlvbiBwb3VyIGNyw6llciBsYSBub3RhdGlvbiBwYXIgw6l0b2lsZXMgKDUgw6l0b2lsZXMgY2xpcXVhYmxlcylcclxuICAgIGNyZWF0ZVN0YXJSYXRpbmcodmFsdWU6IHN0cmluZywgdXBkYXRlOiAodmFsdWU6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPik6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBzdGFyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBzdGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzdGFyLXJhdGluZ1wiKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGVjdGVkUmF0aW5nID0gMDtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRSYXRpbmcgPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcsOpZSBsZXMgNSDDqXRvaWxlc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgc3Rhci5jbGFzc0xpc3QuYWRkKFwic3RhclwiKTtcclxuICAgICAgICAgICAgdGhpcy52YXVsdC5hcHAuc2V0SWNvbihzdGFyLCB0aGlzLmljb24pO1xyXG5cclxuICAgICAgICAgICAgc3Rhci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIsIGkudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzdmcgPSBzdGFyLnF1ZXJ5U2VsZWN0b3IoXCJzdmdcIik7XHJcbiAgICAgICAgICAgIGlmIChzdmcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDw9IHNlbGVjdGVkUmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmNsYXNzTGlzdC5hZGQoXCJmaWxsZWQtc3RhclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWpvdXQgZGVzIMOpdsOpbmVtZW50cyBwb3VyIGwnaW50ZXJhY3Rpb24gdXRpbGlzYXRldXJcclxuICAgICAgICAgICAgc3Rhci5vbm1vdXNlb3ZlciA9ICgpID0+IHRoaXMucHJldmlld1N0YXJzKHN0YXJDb250YWluZXIsIGkpO1xyXG4gICAgICAgICAgICBzdGFyLm9ubW91c2VsZWF2ZSA9ICgpID0+IHRoaXMucHJldmlld1N0YXJzKHN0YXJDb250YWluZXIsIHNlbGVjdGVkUmF0aW5nKTtcclxuICAgICAgICAgICAgc3Rhci5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSYXRpbmcgPSBpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlKCcrJy5yZXBlYXQoaSkpOyAvLyBTYXV2ZWdhcmRlIGVuIG3DqXRhZG9ubsOpZXMgc291cyBmb3JtZSBkZSBcIitcIlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGFyUmF0aW5nKHN0YXJDb250YWluZXIsIHNlbGVjdGVkUmF0aW5nKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHN0YXJDb250YWluZXIuYXBwZW5kQ2hpbGQoc3Rhcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXJSYXRpbmcoc3RhckNvbnRhaW5lciwgc2VsZWN0ZWRSYXRpbmcpOyAvLyBJbml0aWFsIHVwZGF0ZSB0byBlbnN1cmUgY29ycmVjdCBzdGF0ZVxyXG4gICAgICAgIHJldHVybiBzdGFyQ29udGFpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1ldCDDoCBqb3VyIGwnYWZmaWNoYWdlIGRlcyDDqXRvaWxlcyBlbiBmb25jdGlvbiBkdSBuaXZlYXUgYWN0dWVsXHJcbiAgICB1cGRhdGVTdGFyUmF0aW5nKHN0YXJDb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCByYXRpbmc6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHN0YXJzID0gc3RhckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhcicpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xyXG4gICAgICAgIHN0YXJzLmZvckVhY2goKHN0YXIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN2ZyA9IHN0YXIucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtcclxuICAgICAgICAgICAgaWYgKHN2Zykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmNsYXNzTGlzdC5hZGQoXCJmaWxsZWQtc3RhclwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmNsYXNzTGlzdC5yZW1vdmUoXCJmaWxsZWQtc3RhclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByw6l2aXN1YWxpc2UgbGVzIMOpdG9pbGVzIGVuIGZvbmN0aW9uIGR1IHN1cnZvbFxyXG4gICAgcHJldmlld1N0YXJzKHN0YXJDb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCByYXRpbmc6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHN0YXJzID0gc3RhckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhcicpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xyXG4gICAgICAgIHN0YXJzLmZvckVhY2goKHN0YXIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN2ZyA9IHN0YXIucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtcclxuICAgICAgICAgICAgaWYgKHN2Zykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmNsYXNzTGlzdC5hZGQoXCJob3ZlcmVkLXN0YXJcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5jbGFzc0xpc3QucmVtb3ZlKFwiaG92ZXJlZC1zdGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdLCJ2ZXJzaW9uIjozfQ==