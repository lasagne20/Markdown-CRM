e380fa374c49b4ebec2973432988b6f7
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PhoneProperty = void 0;
const LinkProperty_1 = require("./LinkProperty");
class PhoneProperty extends LinkProperty_1.LinkProperty {
    // Used for property hidden for the user
    constructor(name, vault, args = { icon: "phone" }) {
        super(name, vault, args);
        this.type = "phone";
    }
    validate(phoneNumber) {
        let cleaned = phoneNumber.replace(/[^0-9]/g, "");
        if (cleaned.length !== 10) {
            return "";
        }
        const corrected = cleaned.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/, "$1.$2.$3.$4.$5");
        return corrected;
    }
    getPretty(value) {
        if (!value)
            return value;
        return this.validate(value);
    }
    getLink(value) {
        return `callto:${value?.replace(".", "")}`;
    }
}
exports.PhoneProperty = PhoneProperty;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxzcmNcXHByb3BlcnRpZXNcXFBob25lUHJvcGVydHkudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaURBQThDO0FBTTlDLE1BQWEsYUFBYyxTQUFRLDJCQUFZO0lBRzNDLHdDQUF3QztJQUN4QyxZQUFZLElBQWEsRUFBRSxLQUFZLEVBQUUsT0FBWSxFQUFDLElBQUksRUFBRSxPQUFPLEVBQUM7UUFDbEUsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFIWixTQUFJLEdBQVksT0FBTyxDQUFDO0lBSXRDLENBQUM7SUFFUSxRQUFRLENBQUMsV0FBbUI7UUFDbkMsSUFBSSxPQUFPLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakQsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRSxDQUFDO1lBQ3hCLE9BQU8sRUFBRSxDQUFDO1FBQ2QsQ0FBQztRQUVELE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMscUNBQXFDLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUMzRixPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBRVEsU0FBUyxDQUFDLEtBQWE7UUFDOUIsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUN6QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVTLE9BQU8sQ0FBQyxLQUFjO1FBQzdCLE9BQU8sVUFBVSxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFBQyxFQUFFLENBQUMsRUFBRSxDQUFBO0lBQzNDLENBQUM7Q0FDRjtBQTNCRCxzQ0EyQkMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxzcmNcXHByb3BlcnRpZXNcXFBob25lUHJvcGVydHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGlua1Byb3BlcnR5IH0gZnJvbSBcIi4vTGlua1Byb3BlcnR5XCI7XHJcbmltcG9ydCB7IFByb3BlcnR5IH0gZnJvbSBcIi4vUHJvcGVydHlcIjtcclxuaW1wb3J0IHsgVmF1bHQgfSBmcm9tIFwiLi4vdmF1bHQvVmF1bHRcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBob25lUHJvcGVydHkgZXh0ZW5kcyBMaW5rUHJvcGVydHl7XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSB0eXBlIDogc3RyaW5nID0gXCJwaG9uZVwiO1xyXG4gICAgLy8gVXNlZCBmb3IgcHJvcGVydHkgaGlkZGVuIGZvciB0aGUgdXNlclxyXG4gICAgY29uc3RydWN0b3IobmFtZSA6IHN0cmluZywgdmF1bHQ6IFZhdWx0LCBhcmdzIDoge30gPSB7aWNvbjogXCJwaG9uZVwifSkge1xyXG4gICAgICBzdXBlcihuYW1lLCB2YXVsdCwgYXJncylcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSB2YWxpZGF0ZShwaG9uZU51bWJlcjogc3RyaW5nKSB7XHJcbiAgICAgIGxldCBjbGVhbmVkID0gcGhvbmVOdW1iZXIucmVwbGFjZSgvW14wLTldL2csIFwiXCIpO1xyXG4gIFxyXG4gICAgICBpZiAoY2xlYW5lZC5sZW5ndGggIT09IDEwKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBjb25zdCBjb3JyZWN0ZWQgPSBjbGVhbmVkLnJlcGxhY2UoLyhcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkvLCBcIiQxLiQyLiQzLiQ0LiQ1XCIpO1xyXG4gICAgICByZXR1cm4gY29ycmVjdGVkO1xyXG4gIH1cclxuXHJcbiAgb3ZlcnJpZGUgZ2V0UHJldHR5KHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIGlmICghdmFsdWUpIHJldHVybiB2YWx1ZTtcclxuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlKHZhbHVlKTsgIFxyXG4gfVxyXG5cclxuICBvdmVycmlkZSBnZXRMaW5rKHZhbHVlIDogc3RyaW5nKXtcclxuICAgIHJldHVybiBgY2FsbHRvOiR7dmFsdWU/LnJlcGxhY2UoXCIuXCIsXCJcIil9YFxyXG4gIH1cclxufSJdLCJ2ZXJzaW9uIjozfQ==