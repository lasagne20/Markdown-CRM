{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\RangeDateProperty.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\RangeDateProperty.test.ts"],"sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\r\nimport { DateProperty } from '../../src/properties/DateProperty';\r\nimport { RangeDateProperty } from '../../src/properties/RangeDateProperty';\r\n\r\n// Mock flatpickr\r\njest.mock('flatpickr', () => {\r\n    const mockFlatpickr = jest.fn();\r\n    return mockFlatpickr;\r\n});\r\njest.mock('flatpickr/dist/l10n/fr.js', () => ({}));\r\n\r\n// Mock setIcon\r\njest.mock('../../src/vault/Utils', () => ({\r\n    setIcon: jest.fn()\r\n}));\r\n\r\n// Get the mocked flatpickr function\r\nconst flatpickr = jest.requireMock('flatpickr');\r\n\r\ndescribe('RangeDateProperty', () => {\r\n    let rangeDateProperty: RangeDateProperty;\r\n    let mockUpdate: jest.Mock<Promise<void>, [string]>;\r\n\r\n    beforeEach(() => {\r\n        // Reset DOM\r\n        document.body.innerHTML = '';\r\n        // Reset all mocks\r\n        jest.clearAllMocks();\r\n\r\n        mockUpdate = jest.fn().mockResolvedValue(undefined);\r\n        \r\n        // Reset flatpickr mock\r\n        flatpickr.mockImplementation((element: any, options: any) => {\r\n            // Store options on element for testing\r\n            (element as any)._flatpickrOptions = options;\r\n            return {\r\n                destroy: jest.fn(),\r\n                clear: jest.fn(),\r\n                setDate: jest.fn()\r\n            };\r\n        });\r\n    });\r\n\r\n    describe('Constructor', () => {\r\n        test('should create RangeDateProperty with correct type', () => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n\r\n            expect(rangeDateProperty.name).toBe('dateRange');\r\n            expect(rangeDateProperty.type).toBe('dateRange');\r\n        });\r\n\r\n        test('should inherit from DateProperty', () => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n\r\n            expect(rangeDateProperty).toBeInstanceOf(DateProperty);\r\n        });\r\n\r\n        test('should handle custom arguments', () => {\r\n            const args = { icon: 'calendar', defaultValue: '2023-01-01 to 2023-01-31' };\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, args);\r\n\r\n            expect(rangeDateProperty.name).toBe('dateRange');\r\n            expect(rangeDateProperty.icon).toBe('calendar');\r\n        });\r\n    });\r\n\r\n    describe('validate', () => {\r\n        beforeEach(() => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n        });\r\n\r\n        test('should validate single date format', () => {\r\n            const result = rangeDateProperty.validate('2023-01-15');\r\n            expect(result).toBe('2023-01-15');\r\n        });\r\n\r\n        test('should validate date range format', () => {\r\n            const result = rangeDateProperty.validate('2023-01-15 to 2023-01-31');\r\n            expect(result).toBe('2023-01-15 to 2023-01-31');\r\n        });\r\n\r\n        test('should reject invalid date format', () => {\r\n            const result = rangeDateProperty.validate('2023/01/15');\r\n            expect(result).toBe('');\r\n        });\r\n\r\n        test('should reject invalid date range format', () => {\r\n            const result = rangeDateProperty.validate('2023-01-15 - 2023-01-31');\r\n            expect(result).toBe('');\r\n        });\r\n\r\n        test('should reject malformed dates', () => {\r\n            expect(rangeDateProperty.validate('invalid-date')).toBe('');\r\n            // Note: La validation actuelle est basée sur regex, pas sur la validité de la date\r\n            // Elle accepte donc des dates comme 2023-13-45 si elles suivent le format YYYY-MM-DD\r\n            expect(rangeDateProperty.validate('15-01-2023')).toBe('');\r\n        });\r\n\r\n        test('should handle empty value', () => {\r\n            expect(rangeDateProperty.validate('')).toBe('');\r\n            expect(rangeDateProperty.validate(' ')).toBe('');\r\n        });\r\n    });\r\n\r\n    describe('formatDateRangeForDisplay', () => {\r\n        beforeEach(() => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n        });\r\n\r\n        test('should format single date for display', () => {\r\n            const result = rangeDateProperty.formatDateRangeForDisplay('2023-02-26');\r\n            \r\n            expect(result).toMatch(/dimanche 26 février 2023/);\r\n        });\r\n\r\n        test('should format date range for display', () => {\r\n            const result = rangeDateProperty.formatDateRangeForDisplay('2023-02-26 to 2023-02-28');\r\n            \r\n            expect(result).toMatch(/dimanche 26 février 2023 au mardi 28 février 2023/);\r\n        });\r\n\r\n        test('should handle invalid date gracefully', () => {\r\n            // This might throw or return a default - let's test the behavior\r\n            expect(() => {\r\n                rangeDateProperty.formatDateRangeForDisplay('invalid-date');\r\n            }).not.toThrow();\r\n        });\r\n    });\r\n\r\n    describe('createFieldLink', () => {\r\n        beforeEach(() => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n        });\r\n\r\n        test('should create link with formatted date display', () => {\r\n            const link = rangeDateProperty.createFieldLink('2023-02-26');\r\n\r\n            expect(link.tagName).toBe('DIV');\r\n            expect(link.classList.contains('date-field-link')).toBe(true);\r\n            expect(link.classList.contains('field-link')).toBe(true);\r\n            expect(link.style.cursor).toBe('pointer');\r\n            expect(link.textContent).toMatch(/dimanche 26 février 2023/);\r\n        });\r\n\r\n        test('should create link with range display', () => {\r\n            const link = rangeDateProperty.createFieldLink('2023-02-26 to 2023-02-28');\r\n\r\n            expect(link.textContent).toMatch(/dimanche 26 février 2023 au mardi 28 février 2023/);\r\n        });\r\n\r\n        test('should show default text for empty value', () => {\r\n            const link = rangeDateProperty.createFieldLink('');\r\n\r\n            expect(link.textContent).toBe('Aucune date sélectionnée');\r\n        });\r\n\r\n        test('should show default text for null value', () => {\r\n            const link = rangeDateProperty.createFieldLink(null as any);\r\n\r\n            expect(link.textContent).toBe('Aucune date sélectionnée');\r\n        });\r\n\r\n        test('should have click event listener', () => {\r\n            const link = rangeDateProperty.createFieldLink('2023-02-26');\r\n            \r\n            // Mock the modifyField method\r\n            rangeDateProperty.modifyField = jest.fn();\r\n            \r\n            // Simulate click\r\n            link.click();\r\n            \r\n            expect(rangeDateProperty.modifyField).toHaveBeenCalled();\r\n        });\r\n    });\r\n\r\n    describe('createFieldDate', () => {\r\n        beforeEach(() => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n        });\r\n\r\n        test('should create input with correct attributes', () => {\r\n            const link = document.createElement('div');\r\n            const input = rangeDateProperty.createFieldDate('2023-02-26', mockUpdate, link);\r\n\r\n            expect(input.tagName).toBe('INPUT');\r\n            expect(input.type).toBe('text');\r\n            expect(input.value).toBe('2023-02-26');\r\n            expect(input.classList.contains('field-input')).toBe(true);\r\n        });\r\n\r\n        test('should initialize flatpickr with correct options', () => {\r\n            const link = document.createElement('div');\r\n            const input = rangeDateProperty.createFieldDate('2023-02-26', mockUpdate, link);\r\n\r\n            expect(flatpickr).toHaveBeenCalledWith(input, expect.objectContaining({\r\n                dateFormat: 'Y-m-d',\r\n                defaultDate: '2023-02-26',\r\n                locale: 'fr',\r\n                mode: 'range'\r\n            }));\r\n        });\r\n\r\n        test('should handle empty value', () => {\r\n            const link = document.createElement('div');\r\n            const input = rangeDateProperty.createFieldDate('', mockUpdate, link);\r\n\r\n            expect(input.value).toBe('');\r\n            expect(flatpickr).toHaveBeenCalledWith(input, expect.objectContaining({\r\n                defaultDate: ''\r\n            }));\r\n        });\r\n\r\n        test('should configure onChange callback for single date selection', async () => {\r\n            const link = document.createElement('div');\r\n            rangeDateProperty.updateField = jest.fn();\r\n            \r\n            const input = rangeDateProperty.createFieldDate('', mockUpdate, link);\r\n            const flatpickrOptions = (input as any)._flatpickrOptions;\r\n\r\n            // Simulate selecting same start and end date\r\n            const sameDate = new Date('2023-02-26');\r\n            await flatpickrOptions.onChange([sameDate, sameDate]);\r\n\r\n            expect(input.value).toBe('2023-02-26');\r\n        });\r\n\r\n        test('should configure onChange callback for date range selection', async () => {\r\n            const link = document.createElement('div');\r\n            rangeDateProperty.updateField = jest.fn();\r\n            \r\n            const input = rangeDateProperty.createFieldDate('', mockUpdate, link);\r\n            const flatpickrOptions = (input as any)._flatpickrOptions;\r\n\r\n            // Simulate selecting date range\r\n            const startDate = new Date('2023-02-26');\r\n            const endDate = new Date('2023-02-28');\r\n            await flatpickrOptions.onChange([startDate, endDate]);\r\n\r\n            expect(input.value).toBe('2023-02-26 to 2023-02-28');\r\n        });\r\n\r\n        test('should handle onChange with incomplete selection', async () => {\r\n            const link = document.createElement('div');\r\n            rangeDateProperty.updateField = jest.fn();\r\n            \r\n            const input = rangeDateProperty.createFieldDate('', mockUpdate, link);\r\n            const flatpickrOptions = (input as any)._flatpickrOptions;\r\n\r\n            // Simulate selecting only one date\r\n            const startDate = new Date('2023-02-26');\r\n            await flatpickrOptions.onChange([startDate]);\r\n\r\n            expect(rangeDateProperty.updateField).not.toHaveBeenCalled();\r\n        });\r\n\r\n        test('should configure onClose callback', async () => {\r\n            const link = document.createElement('div');\r\n            rangeDateProperty.updateField = jest.fn();\r\n            \r\n            const input = rangeDateProperty.createFieldDate('2023-02-26', mockUpdate, link);\r\n            const flatpickrOptions = (input as any)._flatpickrOptions;\r\n\r\n            await flatpickrOptions.onClose();\r\n\r\n            expect(rangeDateProperty.updateField).toHaveBeenCalledWith(mockUpdate, input, link);\r\n        });\r\n    });\r\n\r\n    describe('createFieldContainerContent', () => {\r\n        beforeEach(() => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n        });\r\n\r\n        test('should create container with correct structure', () => {\r\n            const container = rangeDateProperty.createFieldContainerContent(mockUpdate, '2023-02-26');\r\n\r\n            expect(container.tagName).toBe('DIV');\r\n            expect(container.classList.contains('field-container')).toBe(true);\r\n            expect(container.classList.contains('metadata-field')).toBe(true);\r\n            expect(container.children.length).toBe(2); // link and input\r\n        });\r\n\r\n        test('should show link and hide input for valid date', () => {\r\n            const container = rangeDateProperty.createFieldContainerContent(mockUpdate, '2023-02-26');\r\n            const link = container.children[0] as HTMLElement;\r\n            const input = container.children[1] as HTMLElement;\r\n\r\n            expect(link.style.display).toBe('block');\r\n            expect(input.style.display).toBe('none');\r\n        });\r\n\r\n        test('should hide link and show input for invalid date', () => {\r\n            const container = rangeDateProperty.createFieldContainerContent(mockUpdate, 'invalid-date');\r\n            const link = container.children[0] as HTMLElement;\r\n            const input = container.children[1] as HTMLElement;\r\n\r\n            expect(link.style.display).toBe('none');\r\n            expect(input.style.display).toBe('block');\r\n        });\r\n\r\n        test('should hide link and show input for empty value', () => {\r\n            const container = rangeDateProperty.createFieldContainerContent(mockUpdate, '');\r\n            const link = container.children[0] as HTMLElement;\r\n            const input = container.children[1] as HTMLElement;\r\n\r\n            expect(link.style.display).toBe('none');\r\n            expect(input.style.display).toBe('block');\r\n        });\r\n    });\r\n\r\n    describe('updateField', () => {\r\n        beforeEach(() => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n        });\r\n\r\n        test('should update with valid date and show link', async () => {\r\n            const input = document.createElement('input');\r\n            input.value = '2023-02-26';\r\n            const link = document.createElement('div');\r\n\r\n            await rangeDateProperty.updateField(mockUpdate, input, link);\r\n\r\n            expect(mockUpdate).toHaveBeenCalledWith('2023-02-26');\r\n            expect(input.style.display).toBe('none');\r\n            expect(link.style.display).toBe('block');\r\n            expect(link.textContent).toMatch(/dimanche 26 février 2023/);\r\n        });\r\n\r\n        test('should update with valid date range and show link', async () => {\r\n            const input = document.createElement('input');\r\n            input.value = '2023-02-26 to 2023-02-28';\r\n            const link = document.createElement('div');\r\n\r\n            await rangeDateProperty.updateField(mockUpdate, input, link);\r\n\r\n            expect(mockUpdate).toHaveBeenCalledWith('2023-02-26 to 2023-02-28');\r\n            expect(input.style.display).toBe('none');\r\n            expect(link.style.display).toBe('block');\r\n            expect(link.textContent).toMatch(/dimanche 26 février 2023 au mardi 28 février 2023/);\r\n        });\r\n\r\n        test('should update with invalid date without changing display', async () => {\r\n            const input = document.createElement('input');\r\n            input.value = 'invalid-date';\r\n            const link = document.createElement('div');\r\n            \r\n            // Set initial display states\r\n            input.style.display = 'block';\r\n            link.style.display = 'none';\r\n\r\n            await rangeDateProperty.updateField(mockUpdate, input, link);\r\n\r\n            expect(mockUpdate).toHaveBeenCalledWith('invalid-date');\r\n            expect(input.style.display).toBe('block'); // Should remain unchanged\r\n            expect(link.style.display).toBe('none');   // Should remain unchanged\r\n        });\r\n\r\n        test('should handle update errors gracefully', async () => {\r\n            mockUpdate.mockRejectedValue(new Error('Update failed'));\r\n            \r\n            const input = document.createElement('input');\r\n            input.value = '2023-02-26';\r\n            const link = document.createElement('div');\r\n\r\n            await expect(rangeDateProperty.updateField(mockUpdate, input, link)).rejects.toThrow('Update failed');\r\n        });\r\n    });\r\n\r\n    describe('extractFirstDate static method', () => {\r\n        test('should extract date from French formatted string', () => {\r\n            const result = RangeDateProperty.extractFirstDate('dimanche 26 février 2023');\r\n            \r\n            expect(result).toBeInstanceOf(Date);\r\n            expect(result?.getFullYear()).toBe(2023);\r\n            expect(result?.getMonth()).toBe(1); // February is month 1 (0-indexed)\r\n            expect(result?.getDate()).toBe(26);\r\n        });\r\n\r\n        test('should extract first date from range string', () => {\r\n            const result = RangeDateProperty.extractFirstDate('dimanche 26 février 2023 au mardi 28 février 2023');\r\n            \r\n            expect(result).toBeInstanceOf(Date);\r\n            expect(result?.getFullYear()).toBe(2023);\r\n            expect(result?.getMonth()).toBe(1);\r\n            expect(result?.getDate()).toBe(26);\r\n        });\r\n\r\n        test('should handle different months', () => {\r\n            const testCases = [\r\n                { input: '15 janvier 2023', expected: { year: 2023, month: 0, day: 15 } },\r\n                { input: '10 mars 2023', expected: { year: 2023, month: 2, day: 10 } },\r\n                { input: '25 novembre 2023', expected: { year: 2023, month: 10, day: 25 } } // éviter décembre à cause du bug d'accent\r\n            ];\r\n\r\n            testCases.forEach(({ input, expected }) => {\r\n                const result = RangeDateProperty.extractFirstDate(input);\r\n                expect(result?.getFullYear()).toBe(expected.year);\r\n                expect(result?.getMonth()).toBe(expected.month);\r\n                expect(result?.getDate()).toBe(expected.day);\r\n            });\r\n        });\r\n\r\n        test('should handle accented characters', () => {\r\n            const result = RangeDateProperty.extractFirstDate('15 février 2023');\r\n            \r\n            expect(result).toBeInstanceOf(Date);\r\n            expect(result?.getMonth()).toBe(1); // février = February\r\n        });\r\n\r\n        test('should return null for invalid format', () => {\r\n            const testCases = [\r\n                'invalid date string',\r\n                '2023-02-26',\r\n                'February 26, 2023',\r\n                '../../src/2023',\r\n                ''\r\n            ];\r\n\r\n            testCases.forEach(input => {\r\n                const result = RangeDateProperty.extractFirstDate(input);\r\n                expect(result).toBeNull();\r\n            });\r\n        });\r\n\r\n        test('should return null for invalid month names', () => {\r\n            const result = RangeDateProperty.extractFirstDate('26 invalidmonth 2023');\r\n            expect(result).toBeNull();\r\n        });\r\n    });\r\n\r\n    describe('Integration tests', () => {\r\n        test('should work with complete workflow', async () => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n            \r\n            // Create complete container\r\n            const container = rangeDateProperty.createFieldContainerContent(mockUpdate, '');\r\n            const input = container.querySelector('input') as HTMLInputElement;\r\n            const link = container.querySelector('.date-field-link') as HTMLElement;\r\n\r\n            // Simulate user input\r\n            input.value = '2023-02-26 to 2023-02-28';\r\n            await rangeDateProperty.updateField(mockUpdate, input, link);\r\n\r\n            expect(mockUpdate).toHaveBeenCalledWith('2023-02-26 to 2023-02-28');\r\n            expect(link.textContent).toMatch(/dimanche 26 février 2023 au mardi 28 février 2023/);\r\n        });\r\n\r\n        test('should handle flatpickr integration', () => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n            const link = document.createElement('div');\r\n            \r\n            const input = rangeDateProperty.createFieldDate('2023-02-26', mockUpdate, link);\r\n            \r\n            expect(flatpickr).toHaveBeenCalled();\r\n            expect((input as any)._flatpickrOptions).toBeDefined();\r\n            expect((input as any)._flatpickrOptions.mode).toBe('range');\r\n            expect((input as any)._flatpickrOptions.locale).toBe('fr');\r\n        });\r\n\r\n        test('should maintain proper inheritance', () => {\r\n            rangeDateProperty = new RangeDateProperty('dateRange', mockVault, mockVault, mockVault);\r\n            \r\n            expect(rangeDateProperty).toBeInstanceOf(DateProperty);\r\n            expect(rangeDateProperty.type).toBe('dateRange');\r\n            expect(typeof rangeDateProperty.formatDateForStorage).toBe('function');\r\n        });\r\n    });\r\n});\r\n"],"version":3}