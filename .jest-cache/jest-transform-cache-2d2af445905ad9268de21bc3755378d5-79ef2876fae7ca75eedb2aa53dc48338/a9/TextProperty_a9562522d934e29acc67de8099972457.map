{"version":3,"names":["cov_hbmmwvico","actualCoverage","s","Property_1","require","TextProperty","Property","constructor","name","vault","args","b","f","type","createFieldInput","value","textarea","document","createElement","classList","add","rows","style","resize","setAttribute","oninput","handleAutocomplete","createFieldContainer","field","createFieldLink","link","innerHTML","replace","_","path","alias","display","cursor","static","onclick","event","modifyField","querySelectorAll","forEach","anchor","preventDefault","target","textContent","classe","getFromLink","getPath","app","open","sendNotice","closest","querySelector","input","focus","handleFieldInput","update","onblur","parentElement","updateField","onkeydown","key","dropdown","remove","cursorPosition","selectionStart","textBeforeCursor","substring","lastWordMatch","match","query","toLowerCase","files","listFiles","suggestions","filter","file","includes","length","textBeforeWord","index","tempSpan","visibility","whiteSpace","position","font","window","getComputedStyle","body","appendChild","rect","getBoundingClientRect","textareaRect","top","height","scrollY","left","width","scrollX","removeChild","item","tabIndex","dataset","toString","insertSuggestion","parent","flexDirection","selectedIndex","updateSelection","newIndex","items","scrollIntoView","block","handleKeyDown","removeEventListener","handleEnter","isEnterHandled","selectedItem","suggestion","hasAttribute","addEventListener","removeDropdown","contains","once","startIndex","queryLength","console","log","before","after","setSelectionRange","exports"],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\properties\\TextProperty.ts"],"sourcesContent":["import { LinkProperty } from \"./LinkProperty\";\r\nimport { Property } from \"./Property\";\r\nimport axios from 'axios';\r\nimport { IFile } from \"../interfaces/IApp\";\r\nimport { Vault } from \"../vault/Vault\";\r\n\r\nexport class TextProperty extends Property {\r\n  override type: string = \"text\";\r\n\r\n  constructor(name: string, vault: Vault, args = {}) {\r\n    super(name, vault, args);\r\n  }\r\n\r\n  override createFieldInput(value: string) {\r\n    const textarea = document.createElement(\"textarea\");\r\n    textarea.value = value || \"\";\r\n    textarea.classList.add(\"field-textarea\");\r\n    textarea.rows = 4; // Default number of rows\r\n    textarea.style.resize = \"vertical\"; // Allow vertical resizing\r\n\r\n    // Add autocomplete functionality\r\n    textarea.setAttribute(\"data-keydown-listener\", \"false\")\r\n    textarea.oninput = async () => await this.handleAutocomplete(textarea);\r\n\r\n    return textarea;\r\n  }\r\n\r\n  override createFieldContainer() {\r\n    const field = document.createElement(\"div\");\r\n    field.classList.add(\"metadata-textfield\");\r\n    return field;\r\n  }\r\n\r\n  override createFieldLink(value: string) {\r\n    const link = document.createElement(\"div\");\r\n    link.innerHTML = value\r\n      ? value.replace(/\\[\\[(.*?)(?:\\|(.*?))?\\]\\]/g, (_, path, alias) => {\r\n        const display = alias || path;\r\n        return `<strong><a href=\"#\">${display}</a></strong>`;\r\n      })\r\n      : \"\";\r\n    link.classList.add(\"field-textlink\");\r\n    link.style.cursor = this.static ? \"default\" : \"text\";\r\n    if (!this.static) {\r\n      link.onclick = (event) => this.modifyField(event);\r\n    }\r\n\r\n    // Add click event for links\r\n    link.querySelectorAll(\"a\").forEach(anchor => {\r\n      anchor.onclick = async (event) => {\r\n        event.preventDefault();\r\n        const target = (event.target as HTMLElement).textContent;\r\n        if (target) {\r\n          const classe = await this.vault.getFromLink(target);\r\n          if (classe) {\r\n              let path = classe.getPath();\r\n              if (path){\r\n                 await this.vault.app.open(path);\r\n              }\r\n              \r\n          } else {\r\n            this.vault.app.sendNotice(`Le fichier ${target}.md n'existe pas`);\r\n          }\r\n        }\r\n      };\r\n    });\r\n\r\n    return link;\r\n  }\r\n\r\n  override modifyField(event: Event) {\r\n    const link = (event.target as HTMLElement).closest('.metadata-textfield')?.querySelector('.field-textlink') as HTMLElement;\r\n    const input = (event.target as HTMLElement).closest('.metadata-textfield')?.querySelector('.field-textarea') as HTMLInputElement;\r\n    if (link && input) {\r\n      link.style.display = \"none\";\r\n      input.style.display = \"block\";\r\n      input.focus();\r\n    }\r\n  }\r\n\r\n  override handleFieldInput(update: (value: string) => Promise<void>, input: HTMLInputElement | HTMLTextAreaElement, link: HTMLElement) {\r\n    input.onblur = async () => {\r\n      if (!input.parentElement?.querySelector(\".autocomplete-dropdown\")) {\r\n        await this.updateField(update, input, link);\r\n        return;\r\n      }\r\n    };\r\n\r\n    input.onkeydown = async (event: KeyboardEvent) => {\r\n        if (event.key === \"Escape\") {\r\n                event.preventDefault();\r\n                await this.updateField(update, input, link);\r\n        }\r\n    };\r\n  }\r\n\r\n\r\n  async handleAutocomplete(textarea: HTMLTextAreaElement) {\r\n    let dropdown = textarea.parentElement?.querySelector(\".autocomplete-dropdown\") as HTMLElement;\r\n\r\n    // Remove existing dropdown if present\r\n    if (dropdown) {\r\n      dropdown.remove();\r\n    }\r\n\r\n    dropdown = document.createElement(\"div\");\r\n    dropdown.classList.add(\"autocomplete-dropdown\");\r\n\r\n    const cursorPosition = textarea.selectionStart || 0;\r\n    const textBeforeCursor = textarea.value.substring(0, cursorPosition);\r\n    const lastWordMatch = textBeforeCursor.match(/(\\S+)$/);\r\n    const query = lastWordMatch ? lastWordMatch[0].toLowerCase() : \"\";\r\n\r\n    if (!query) {\r\n      return; // No query, don't show the dropdown\r\n    }\r\n\r\n    /* TODO\r\n    const files = (await this.vault.app.listFiles());\r\n    const suggestions = files.filter((file: File) =>\r\n      file.getName().toLowerCase().includes(query)\r\n    );*/\r\n    const files = await this.vault.app.listFiles();\r\n    const suggestions = files.filter((file: IFile) =>\r\n      file.name.toLowerCase().includes(query)\r\n    );  \r\n\r\n    if (suggestions.length === 0) {\r\n      return; // No suggestions, don't show the dropdown\r\n    }\r\n\r\n    // Calculate the position of the word being edited\r\n    const textBeforeWord = textBeforeCursor.substring(0, lastWordMatch?.index || 0);\r\n    const tempSpan = document.createElement(\"span\");\r\n    tempSpan.style.visibility = \"hidden\";\r\n    tempSpan.style.whiteSpace = \"pre-wrap\";\r\n    tempSpan.style.position = \"absolute\";\r\n    tempSpan.style.font = window.getComputedStyle(textarea).font;\r\n    tempSpan.textContent = textBeforeWord;\r\n\r\n    document.body.appendChild(tempSpan);\r\n    const rect = tempSpan.getBoundingClientRect();\r\n    const textareaRect = textarea.getBoundingClientRect();\r\n    dropdown.style.top = `${textareaRect.top + rect.height + window.scrollY}px`;\r\n    dropdown.style.left = `${textareaRect.left + rect.width + window.scrollX}px`;\r\n    dropdown.style.width = `${textareaRect.width}px`;\r\n    document.body.removeChild(tempSpan);\r\n\r\n    suggestions.forEach((file: IFile, index: number) => {\r\n      const item = document.createElement(\"div\");\r\n      item.classList.add(\"autocomplete-item\");\r\n      item.textContent = file.name;\r\n      item.tabIndex = 0; // Make it focusable\r\n      item.dataset.index = index.toString();\r\n\r\n      item.onclick = () => {\r\n        this.insertSuggestion(textarea, `[[${file.path}|${file.name}]]`, lastWordMatch?.index || 0, query.length);\r\n        dropdown.remove();\r\n      };\r\n\r\n      dropdown.appendChild(item);\r\n    });\r\n\r\n    textarea.parentElement?.appendChild(dropdown);\r\n    // Adjust the parent's style to position the dropdown correctly\r\n    const parent = textarea.parentElement as HTMLElement;\r\n    parent.style.position = \"flex\";\r\n    parent.style.flexDirection = \"column\";\r\n\r\n    let selectedIndex = -1;\r\n\r\n    const updateSelection = (newIndex: number) => {\r\n      const items = dropdown.querySelectorAll(\".autocomplete-item\");\r\n      if (selectedIndex >= 0) {\r\n        items[selectedIndex].classList.remove(\"selected\");\r\n      }\r\n      selectedIndex = newIndex;\r\n      if (selectedIndex >= 0 && selectedIndex < items.length) {\r\n        items[selectedIndex].classList.add(\"selected\");\r\n        items[selectedIndex].scrollIntoView({ block: \"nearest\" });\r\n      }\r\n    };\r\n\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      const items = dropdown.querySelectorAll(\".autocomplete-item\");\r\n      if (event.key === \"ArrowDown\") {\r\n        event.preventDefault();\r\n        updateSelection((selectedIndex + 1) % items.length);\r\n      } else if (event.key === \"ArrowUp\") {\r\n        event.preventDefault();\r\n        updateSelection((selectedIndex - 1 + items.length) % items.length);\r\n      } else if (event.key === \"Escape\") {\r\n        dropdown.remove();\r\n        textarea.removeEventListener(\"keydown\", handleKeyDown); // Clean up event listener\r\n        textarea.removeEventListener(\"keydown\", handleEnter)\r\n      }\r\n    };\r\n    let isEnterHandled = false;\r\n    const handleEnter = (event: KeyboardEvent) => {\r\n      const items = dropdown.querySelectorAll(\".autocomplete-item\");\r\n      if (event.key === \"Enter\") {\r\n        if (isEnterHandled) return; // Empêche l'exécution multiple\r\n        isEnterHandled = true;\r\n        textarea.removeEventListener(\"keydown\", handleKeyDown)\r\n        textarea.removeEventListener(\"keydown\", handleEnter)\r\n        dropdown.remove();\r\n        event.preventDefault();\r\n        const items = dropdown.querySelectorAll(\".autocomplete-item\");\r\n        if (selectedIndex >= 0 && selectedIndex < items.length) {\r\n          const selectedItem = items[selectedIndex];\r\n          const suggestion = selectedItem.textContent || \"\";\r\n          this.insertSuggestion(textarea, `[[${suggestion}]]`, lastWordMatch?.index || 0, query.length);\r\n        }\r\n        \r\n      }\r\n    }\r\n    \r\n    if (!textarea.hasAttribute(\"data-keydown-listener\")) {\r\n      textarea.addEventListener(\"keydown\", handleKeyDown);\r\n      textarea.addEventListener(\"keydown\", handleEnter);\r\n      textarea.setAttribute(\"data-keydown-listener\", \"true\");\r\n    }\r\n\r\n    const removeDropdown = () => {\r\n      dropdown.remove();\r\n      textarea.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n\r\n    document.addEventListener(\"click\", (event) => {\r\n      if (!dropdown.contains(event.target as Node) && event.target !== textarea) {\r\n        removeDropdown();\r\n      }\r\n    }, { once: true });\r\n  }\r\n\r\n  insertSuggestion(textarea: HTMLTextAreaElement, suggestion: string, startIndex: number, queryLength: number) {\r\n    console.log(textarea, suggestion, startIndex, queryLength);\r\n    const before = textarea.value.substring(0, startIndex);\r\n    const after = textarea.value.substring(startIndex + queryLength);\r\n    textarea.value = `${before}${suggestion}${after}`;\r\n    textarea.setSelectionRange(before.length + suggestion.length, before.length + suggestion.length);\r\n    textarea.focus();\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}