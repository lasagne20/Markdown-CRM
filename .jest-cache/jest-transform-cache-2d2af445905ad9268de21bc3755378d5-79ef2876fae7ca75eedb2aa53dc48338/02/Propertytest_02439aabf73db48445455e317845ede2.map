{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\Property.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\Property.test.ts"],"sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\r\nimport { Property } from '../../src/properties/Property';\r\n\r\n// Mock setIcon function to work synchronously in tests\r\njest.mock('../src/vault/Utils', () => ({\r\n    setIcon: jest.fn((element: HTMLElement, iconName: string) => {\r\n        element.setAttribute('data-icon', iconName);\r\n    }),\r\n    waitForFileMetaDataUpdate: jest.fn(() => Promise.resolve()),\r\n    waitForMetaDataCacheUpdate: jest.fn(() => Promise.resolve())\r\n}));\r\n\r\ndescribe('Property', () => {\r\n    let property: Property;\r\n    let mockVault: any;\r\n    let mockFile: any;\r\n\r\n    beforeEach(() => {\r\n        // Reset DOM\r\n        document.body.innerHTML = '';\r\n        \r\n        // Mock vault\r\n        mockVault = {\r\n            getPersonalName: jest.fn(() => 'Test User')\r\n        };\r\n\r\n        // Mock file with metadata\r\n        mockFile = {\r\n            getMetadata: jest.fn(() => ({ testProp: 'test value' })),\r\n            getMetadataValue: jest.fn((key: string) => key === 'testProp' ? 'test value' : undefined),\r\n            updateMetadata: jest.fn(),\r\n            vault: mockVault\r\n        };\r\n\r\n        property = new Property('testProp', mockVault);\r\n    });\r\n\r\n    afterEach(() => {\r\n        jest.clearAllMocks();\r\n    });\r\n\r\n    describe('constructor', () => {\r\n        it('should create property with default values', () => {\r\n            const prop = new Property('test', mockVault);\r\n            \r\n            expect(prop.name).toBe('test');\r\n            expect(prop.icon).toBe('align-left');\r\n            expect(prop.static).toBe(false);\r\n            expect(prop.flexSpan).toBe(1);\r\n            expect(prop.default).toBe('');\r\n            expect(prop.type).toBe('text');\r\n        });\r\n\r\n        it('should create property with custom options', () => {\r\n            const options = {\r\n                icon: 'star',\r\n                staticProperty: true,\r\n                flexSpan: 2,\r\n                defaultValue: 'default test',\r\n                customOption: 'custom'\r\n            };\r\n            \r\n            const prop = new Property('custom', mockVault, options);\r\n            \r\n            expect(prop.name).toBe('custom');\r\n            expect(prop.icon).toBe('star');\r\n            expect(prop.static).toBe(true);\r\n            expect(prop.flexSpan).toBe(2);\r\n            expect(prop.default).toBe('default test');\r\n            expect((prop as any).customOption).toBe('custom');\r\n        });\r\n    });\r\n\r\n    describe('getDefaultValue', () => {\r\n        it('should return personal name when default is \"personalName\"', () => {\r\n            property.default = 'personalName';\r\n            \r\n            const result = property.getDefaultValue();\r\n            \r\n            expect(result).toBe('Test User');\r\n            expect(mockVault.getPersonalName).toHaveBeenCalled();\r\n        });\r\n\r\n        it('should return default value when not \"personalName\"', () => {\r\n            property.default = 'static value';\r\n            \r\n            const result = property.getDefaultValue();\r\n            \r\n            expect(result).toBe('static value');\r\n        });\r\n    });\r\n\r\n    describe('read', () => {\r\n        it('should read from file with readProperty method', () => {\r\n            const fileWithReadProperty = {\r\n                ...mockFile,\r\n                readProperty: true,\r\n                getMetadataValue: jest.fn(() => 'property value')\r\n            };\r\n            \r\n            const result = property.read(fileWithReadProperty);\r\n            \r\n            expect(result).toBe('property value');\r\n            expect(fileWithReadProperty.getMetadataValue).toHaveBeenCalledWith('testProp');\r\n        });\r\n\r\n        it('should read from file metadata', () => {\r\n            const result = property.read(mockFile);\r\n            \r\n            expect(result).toBe('test value');\r\n            expect(mockFile.getMetadata).toHaveBeenCalled();\r\n        });\r\n\r\n        it('should handle file without metadata', () => {\r\n            const fileWithoutMetadata = {\r\n                ...mockFile,\r\n                getMetadata: jest.fn(() => null)\r\n            };\r\n            \r\n            const result = property.read(fileWithoutMetadata);\r\n            \r\n            expect(result).toBeUndefined();\r\n        });\r\n    });\r\n\r\n    describe('validate', () => {\r\n        it('should return the same value by default', () => {\r\n            const result = property.validate('test input');\r\n            \r\n            expect(result).toBe('test input');\r\n        });\r\n    });\r\n\r\n    describe('getLink', () => {\r\n        it('should return the same value by default', () => {\r\n            const result = property.getLink('test link');\r\n            \r\n            expect(result).toBe('test link');\r\n        });\r\n    });\r\n\r\n    describe('getPretty', () => {\r\n        it('should return the same value by default', () => {\r\n            const result = property.getPretty('test pretty');\r\n            \r\n            expect(result).toBe('test pretty');\r\n        });\r\n    });\r\n\r\n    describe('DOM creation methods', () => {\r\n        describe('createFieldContainer', () => {\r\n            it('should create field container with correct class', () => {\r\n                const container = property.createFieldContainer();\r\n                \r\n                expect(container.tagName).toBe('DIV');\r\n                expect(container.classList.contains('metadata-field')).toBe(true);\r\n            });\r\n        });\r\n\r\n        describe('createIconContainer', () => {\r\n            it('should create icon container with icon', () => {\r\n                const updateFn = jest.fn();\r\n                const container = property.createIconContainer(updateFn);\r\n                \r\n                expect(container.tagName).toBe('DIV');\r\n                expect(container.classList.contains('icon-container')).toBe(true);\r\n                \r\n                const icon = container.querySelector('div');\r\n                expect(icon).toBeTruthy();\r\n                expect(icon?.getAttribute('data-icon')).toBe('align-left');\r\n            });\r\n\r\n            it('should add click listener for non-static properties', async () => {\r\n                property.static = false;\r\n                const updateFn = jest.fn();\r\n                \r\n                // Create mock DOM structure for modifyField to work\r\n                const field = document.createElement('div');\r\n                field.classList.add('metadata-field');\r\n                const link = document.createElement('div');\r\n                link.classList.add('field-link');\r\n                const input = document.createElement('input');\r\n                input.classList.add('field-input');\r\n                \r\n                // Create icon container\r\n                const container = property.createIconContainer(updateFn);\r\n                \r\n                // Setup DOM hierarchy properly\r\n                field.appendChild(container);\r\n                field.appendChild(link);\r\n                field.appendChild(input);\r\n                document.body.appendChild(field);\r\n                \r\n                // Set initial state\r\n                link.style.display = 'block';\r\n                input.style.display = 'none';\r\n                \r\n                // Test that clicking the icon container triggers the modifyField functionality\r\n                // We'll spy on the modifyField method and then simulate a click\r\n                const spy = jest.spyOn(property, 'modifyField');\r\n                \r\n                // Create and dispatch a click event on the icon container\r\n                const clickEvent = new MouseEvent('click', {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                });\r\n                \r\n                container.dispatchEvent(clickEvent);\r\n                \r\n                // Verify modifyField was called\r\n                expect(spy).toHaveBeenCalled();\r\n                \r\n                expect(link.style.display).toBe('none');\r\n                expect(input.style.display).toBe('block');\r\n            });\r\n        });\r\n\r\n        describe('createFieldInput', () => {\r\n            it('should create input element with correct attributes', () => {\r\n                const input = property.createFieldInput('test value');\r\n                \r\n                expect(input.tagName).toBe('INPUT');\r\n                expect((input as HTMLInputElement).type).toBe('text');\r\n                expect((input as HTMLInputElement).value).toBe('test value');\r\n                expect(input.classList.contains('field-input')).toBe(true);\r\n            });\r\n\r\n            it('should handle empty value', () => {\r\n                const input = property.createFieldInput('');\r\n                \r\n                expect((input as HTMLInputElement).value).toBe('');\r\n            });\r\n        });\r\n\r\n        describe('createFieldLink', () => {\r\n            it('should create link element with correct content', () => {\r\n                const link = property.createFieldLink('test content');\r\n                \r\n                expect(link.tagName).toBe('DIV');\r\n                expect(link.textContent).toBe('test content');\r\n                expect(link.classList.contains('field-link')).toBe(true);\r\n            });\r\n\r\n            it('should have pointer cursor for non-static properties', () => {\r\n                property.static = false;\r\n                const link = property.createFieldLink('test');\r\n                \r\n                expect(link.style.cursor).toBe('text');\r\n            });\r\n\r\n            it('should have default cursor for static properties', () => {\r\n                property.static = true;\r\n                const link = property.createFieldLink('test');\r\n                \r\n                expect(link.style.cursor).toBe('default');\r\n            });\r\n\r\n            it('should handle empty value', () => {\r\n                const link = property.createFieldLink('');\r\n                \r\n                expect(link.textContent).toBe('');\r\n            });\r\n        });\r\n    });\r\n\r\n    describe('modifyField', () => {\r\n        it('should show input and hide link when called', () => {\r\n            // Setup DOM structure\r\n            const field = document.createElement('div');\r\n            field.classList.add('metadata-field');\r\n            const link = document.createElement('div');\r\n            link.classList.add('field-link');\r\n            link.style.display = 'block';\r\n            const input = document.createElement('input');\r\n            input.classList.add('field-input');\r\n            input.style.display = 'none';\r\n            \r\n            field.appendChild(link);\r\n            field.appendChild(input);\r\n            document.body.appendChild(field);\r\n            \r\n            // Create mock event\r\n            const mockEvent = {\r\n                target: link\r\n            } as unknown as Event;\r\n            \r\n            property.modifyField(mockEvent);\r\n            \r\n            expect(link.style.display).toBe('none');\r\n            expect(input.style.display).toBe('block');\r\n        });\r\n    });\r\n\r\n    describe('updateField', () => {\r\n        it('should update field with valid value', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            input.value = 'new value';\r\n            property.validate = jest.fn(() => 'validated value');\r\n            \r\n            await property.updateField(updateFn, input, link);\r\n            \r\n            expect(property.validate).toHaveBeenCalledWith('new value');\r\n            expect(updateFn).toHaveBeenCalledWith('validated value');\r\n            expect(input.style.display).toBe('none');\r\n            expect(link.textContent).toBe('validated value');\r\n            expect(link.style.display).toBe('block');\r\n        });\r\n\r\n        it('should update field with invalid value', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            input.value = 'invalid value';\r\n            property.validate = jest.fn(() => '');\r\n            \r\n            await property.updateField(updateFn, input, link);\r\n            \r\n            expect(property.validate).toHaveBeenCalledWith('invalid value');\r\n            expect(updateFn).toHaveBeenCalledWith('invalid value');\r\n        });\r\n\r\n        it('should update href for anchor elements', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('a') as HTMLAnchorElement;\r\n            \r\n            // Set initial href to trigger the href update path\r\n            link.href = 'http://initial.com';\r\n            \r\n            input.value = 'new value';\r\n            property.validate = jest.fn(() => 'validated value');\r\n            property.getLink = jest.fn(() => 'http://test.com');\r\n            \r\n            await property.updateField(updateFn, input, link);\r\n            \r\n            expect(property.getLink).toHaveBeenCalledWith('validated value');\r\n            expect(link.href).toBe('http://test.com/');\r\n        });\r\n    });\r\n\r\n    describe('handleFieldInput', () => {\r\n        it('should setup blur and keydown event listeners', () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            // Spy on addEventListener\r\n            const addEventListenerSpy = jest.spyOn(input, 'addEventListener');\r\n            \r\n            property.handleFieldInput(updateFn, input, link);\r\n            \r\n            expect(addEventListenerSpy).toHaveBeenCalledWith('blur', expect.any(Function));\r\n            expect(addEventListenerSpy).toHaveBeenCalledWith('keydown', expect.any(Function));\r\n        });\r\n\r\n        it('should handle Enter key press', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            input.value = 'test value';\r\n            property.validate = jest.fn(() => 'validated value');\r\n            \r\n            property.handleFieldInput(updateFn, input, link);\r\n            \r\n            // Create and dispatch a real KeyboardEvent\r\n            const keyEvent = new KeyboardEvent('keydown', {\r\n                key: 'Enter',\r\n                bubbles: true,\r\n                cancelable: true,\r\n            });\r\n            \r\n            // Spy on preventDefault to verify it was called\r\n            const preventDefaultSpy = jest.spyOn(keyEvent, 'preventDefault');\r\n            \r\n            // Dispatch the event on the input\r\n            input.dispatchEvent(keyEvent);\r\n            \r\n            // Wait for async operation to complete\r\n            await new Promise(resolve => setTimeout(resolve, 0));\r\n            \r\n            expect(preventDefaultSpy).toHaveBeenCalled();\r\n            expect(updateFn).toHaveBeenCalledWith('validated value');\r\n        });\r\n\r\n        it('should handle Escape key press', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            input.value = 'escape value';\r\n            property.validate = jest.fn(() => 'validated escape');\r\n            \r\n            property.handleFieldInput(updateFn, input, link);\r\n            \r\n            // Create and dispatch a real KeyboardEvent\r\n            const keyEvent = new KeyboardEvent('keydown', {\r\n                key: 'Escape',\r\n                bubbles: true,\r\n                cancelable: true,\r\n            });\r\n            \r\n            // Spy on preventDefault to verify it was called\r\n            const preventDefaultSpy = jest.spyOn(keyEvent, 'preventDefault');\r\n            \r\n            // Dispatch the event on the input\r\n            input.dispatchEvent(keyEvent);\r\n            \r\n            // Wait for async operation to complete\r\n            await new Promise(resolve => setTimeout(resolve, 0));\r\n            \r\n            expect(preventDefaultSpy).toHaveBeenCalled();\r\n            expect(updateFn).toHaveBeenCalledWith('validated escape');\r\n        });\r\n    });\r\n\r\n    describe('getDisplay', () => {\r\n        it('should create complete display element', () => {\r\n            property.read = jest.fn(() => 'test value');\r\n            property.fillDisplay = jest.fn(() => {\r\n                const div = document.createElement('div');\r\n                div.textContent = 'display content';\r\n                return div;\r\n            });\r\n            \r\n            const result = property.getDisplay(mockFile, { staticMode: true, title: 'Test Title' });\r\n            \r\n            expect(property.static).toBe(true);\r\n            expect(property.title).toBe('Test Title');\r\n            expect(property.read).toHaveBeenCalledWith(mockFile);\r\n            expect(property.fillDisplay).toHaveBeenCalledWith(\r\n                mockFile.vault,\r\n                'test value',\r\n                expect.any(Function),\r\n                { staticMode: true, title: 'Test Title' }\r\n            );\r\n        });\r\n    });\r\n\r\n    describe('fillDisplay', () => {\r\n        it('should create complete field display with title', () => {\r\n            property.title = 'Test Title';\r\n            property.createFieldContainer = jest.fn(() => {\r\n                const div = document.createElement('div');\r\n                div.classList.add('metadata-field');\r\n                return div;\r\n            });\r\n            property.createIconContainer = jest.fn(() => {\r\n                const div = document.createElement('div');\r\n                div.classList.add('icon-container');\r\n                return div;\r\n            });\r\n            property.createFieldContainerContent = jest.fn(() => {\r\n                const div = document.createElement('div');\r\n                div.classList.add('field-container');\r\n                return div;\r\n            });\r\n            \r\n            const updateFn = jest.fn();\r\n            const result = property.fillDisplay('test value', updateFn);\r\n            \r\n            expect(property.vault).toBe(mockVault);\r\n            expect(property.createFieldContainer).toHaveBeenCalled();\r\n            expect(property.createIconContainer).toHaveBeenCalledWith(updateFn);\r\n            expect(property.createFieldContainerContent).toHaveBeenCalledWith(updateFn, 'test value');\r\n            \r\n            expect(result.querySelector('.metadata-title')).toBeTruthy();\r\n            expect(result.querySelector('.metadata-title')?.textContent).toBe('Test Title');\r\n        });\r\n\r\n        it('should create field display without title', () => {\r\n            property.title = '';\r\n            property.createFieldContainer = jest.fn(() => document.createElement('div'));\r\n            property.createIconContainer = jest.fn(() => document.createElement('div'));\r\n            property.createFieldContainerContent = jest.fn(() => document.createElement('div'));\r\n            \r\n            const updateFn = jest.fn();\r\n            const result = property.fillDisplay('test value', updateFn);\r\n            \r\n            expect(result.querySelector('.metadata-title')).toBeFalsy();\r\n        });\r\n    });\r\n\r\n    describe('reloadDynamicContent', () => {\r\n        it('should update field content when DOM elements exist', async () => {\r\n            // Setup DOM\r\n            const field = document.createElement('div');\r\n            field.classList.add('metadata-field');\r\n            const link = document.createElement('div');\r\n            link.classList.add('field-link');\r\n            const input = document.createElement('input');\r\n            input.classList.add('field-input');\r\n            \r\n            field.appendChild(link);\r\n            field.appendChild(input);\r\n            document.body.appendChild(field);\r\n            \r\n            // Mock document.querySelector to return our field\r\n            const originalQuerySelector = document.querySelector;\r\n            document.querySelector = jest.fn((selector: string) => {\r\n                if (selector === '.metadata-field') {\r\n                    return field;\r\n                }\r\n                return null;\r\n            });\r\n            \r\n            property.read = jest.fn(() => 'new value');\r\n            \r\n            await property.reloadDynamicContent(mockFile);\r\n            \r\n            expect(property.read).toHaveBeenCalledWith(mockFile);\r\n            expect(link.textContent).toBe('new value');\r\n            expect((input as HTMLInputElement).value).toBe('new value');\r\n            \r\n            // Restore original\r\n            document.querySelector = originalQuerySelector;\r\n        });\r\n\r\n        it('should handle missing DOM elements gracefully', async () => {\r\n            property.read = jest.fn(() => 'new value');\r\n            \r\n            // Should not throw error when no DOM elements exist\r\n            await expect(property.reloadDynamicContent(mockFile)).resolves.toBeUndefined();\r\n        });\r\n    });\r\n});\r\n"],"version":3}