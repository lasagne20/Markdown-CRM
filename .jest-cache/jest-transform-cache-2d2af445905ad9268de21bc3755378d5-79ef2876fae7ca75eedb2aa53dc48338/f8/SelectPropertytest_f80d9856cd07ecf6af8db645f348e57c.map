{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\SelectProperty.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\SelectProperty.test.ts"],"sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\r\nimport { Property } from '../../../../src/properties/Property';\r\nimport { SelectProperty } from '../../../../src/properties/SelectProperty';\r\n\r\n// Mock App module\r\njest.mock('../../../../src/vault/Utils', () => ({\r\n    setIcon: jest.fn((element: HTMLElement, iconName: string) => {\r\n        element.setAttribute('data-icon', iconName);\r\n    }),\r\n    sendNotice: jest.fn(),\r\n    Notice: jest.fn()\r\n}));\r\n\r\n// Mock Vault\r\njest.mock('../../../../src/vault/Vault', () => ({\r\n    Vault: jest.fn()\r\n}));\r\n\r\ndescribe('SelectProperty', () => {\r\n    let selectProperty: SelectProperty;\r\n    let mockVault: any;\r\n    let mockFile: any;\r\n    let options: {name: string, color: string}[];\r\n\r\n    beforeEach(() => {\r\n        // Reset DOM\r\n        document.body.innerHTML = '';\r\n        \r\n        // Mock vault\r\n        mockVault = {\r\n            app: {\r\n                vault: { getFiles: jest.fn(() => []) }\r\n            }\r\n        };\r\n\r\n        // Mock file\r\n        mockFile = {\r\n            getMetadata: jest.fn(() => ({ status: 'in-progress' })),\r\n            getMetadataValue: jest.fn((key: string) => key === 'status' ? 'in-progress' : undefined),\r\n            updateMetadata: jest.fn(),\r\n            vault: mockVault\r\n        };\r\n\r\n        // Create test options\r\n        options = [\r\n            { name: 'todo', color: '#ffcccc' },\r\n            { name: 'in-progress', color: '#ccffcc' },\r\n            { name: 'done', color: '#ccccff' },\r\n            { name: 'blocked', color: '#ffccff' }\r\n        ];\r\n\r\n        selectProperty = new SelectProperty('status', mockVault, options);\r\n    });\r\n\r\n    afterEach(() => {\r\n        jest.clearAllMocks();\r\n    });\r\n\r\n    describe('constructor', () => {\r\n        it('should create SelectProperty with correct type and options', () => {\r\n            const prop = new SelectProperty('test', mockVault, options);\r\n            \r\n            expect(prop.name).toBe('test');\r\n            expect(prop.type).toBe('select');\r\n            expect(prop.options).toBe(options);\r\n            expect(prop.options.length).toBe(4);\r\n        });\r\n\r\n        it('should inherit from Property', () => {\r\n            expect(selectProperty).toBeInstanceOf(Property);\r\n            expect(selectProperty).toBeInstanceOf(SelectProperty);\r\n        });\r\n\r\n        it('should accept custom arguments', () => {\r\n            const args = { icon: 'custom-select', staticProperty: true };\r\n            const prop = new SelectProperty('custom', options, args);\r\n            \r\n            expect(prop.name).toBe('custom');\r\n            expect(prop.static).toBe(true);\r\n            expect(prop.icon).toBe('custom-select');\r\n            expect(prop.options).toBe(options);\r\n        });\r\n\r\n        it('should handle empty options array', () => {\r\n            const prop = new SelectProperty('empty', mockVault, []);\r\n            \r\n            expect(prop.options).toEqual([]);\r\n            expect(prop.options.length).toBe(0);\r\n        });\r\n    });\r\n\r\n    describe('fillDisplay', () => {\r\n        it('should create complete display structure', () => {\r\n            const updateFn = jest.fn();\r\n            const display = selectProperty.fillDisplay('in-progress', updateFn);\r\n            \r\n            expect(display).toBeTruthy();\r\n            expect(display.classList.contains('metadata-field')).toBe(true);\r\n            \r\n            const fieldContainer = display.querySelector('.field-container-column');\r\n            expect(fieldContainer).toBeTruthy();\r\n            \r\n            const selectElement = display.querySelector('select');\r\n            expect(selectElement).toBeTruthy();\r\n        });\r\n\r\n        it('should create header when title is provided', () => {\r\n            selectProperty.title = 'Project Status';\r\n            const updateFn = jest.fn();\r\n            const display = selectProperty.fillDisplay('todo', updateFn);\r\n            \r\n            const header = display.querySelector('.metadata-header');\r\n            expect(header).toBeTruthy();\r\n            expect(header?.textContent).toBe('Project Status');\r\n        });\r\n\r\n        it('should not create header when title is not provided', () => {\r\n            selectProperty.title = undefined as any;\r\n            const updateFn = jest.fn();\r\n            const display = selectProperty.fillDisplay('todo', updateFn);\r\n            \r\n            const header = display.querySelector('.metadata-header');\r\n            expect(header).toBeFalsy();\r\n        });\r\n\r\n        it('should set vault property', () => {\r\n            const updateFn = jest.fn();\r\n            selectProperty.fillDisplay('done', updateFn);\r\n            \r\n            expect(selectProperty.vault).toBe(mockVault);\r\n        });\r\n    });\r\n\r\n    describe('createSelectWidget', () => {\r\n        it('should create select element with all options', () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('in-progress', updateFn);\r\n            \r\n            expect(selectElement.tagName).toBe('SELECT');\r\n            expect(selectElement.classList.contains('select-dropdown')).toBe(true);\r\n            \r\n            const optionElements = selectElement.querySelectorAll('option');\r\n            expect(optionElements.length).toBe(4);\r\n            \r\n            optionElements.forEach((optionEl, index) => {\r\n                expect(optionEl.value).toBe(options[index].name);\r\n                expect(optionEl.textContent).toBe(options[index].name);\r\n                // Browser converts hex colors to rgb format, so we check the style attribute directly\r\n                expect(optionEl.style.backgroundColor).toBeTruthy();\r\n                expect(optionEl.classList.contains('select-dropdown-option')).toBe(true);\r\n            });\r\n        });\r\n\r\n        it('should set selected option correctly', () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('done', updateFn);\r\n            \r\n            const selectedOption = Array.from(selectElement.options).find(opt => opt.selected);\r\n            expect(selectedOption?.value).toBe('done');\r\n            expect(selectedOption?.textContent).toBe('done');\r\n        });\r\n\r\n        it('should apply background color of selected option', () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('blocked', updateFn);\r\n            \r\n            // Check that a background color was set (browser converts hex to rgb)\r\n            expect(selectElement.style.backgroundColor).toBeTruthy();\r\n        });\r\n\r\n        it('should handle no initial value by selecting first option', async () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('', updateFn);\r\n            \r\n            expect(selectElement.style.backgroundColor).toBeTruthy(); // First option color set\r\n            expect(updateFn).toHaveBeenCalledWith('todo'); // First option name\r\n        });\r\n\r\n        it('should handle empty value by selecting first option', async () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget(null as any, updateFn);\r\n            \r\n            expect(selectElement.style.backgroundColor).toBeTruthy(); // First option color set\r\n            expect(updateFn).toHaveBeenCalledWith('todo'); // First option name\r\n        });\r\n\r\n        it('should handle empty options array gracefully', () => {\r\n            const emptyProperty = new SelectProperty('empty', mockVault, []);\r\n            const updateFn = jest.fn();\r\n            const selectElement = emptyProperty.createSelectWidget('any-value', updateFn);\r\n            \r\n            expect(selectElement.options.length).toBe(0);\r\n            expect(selectElement.style.backgroundColor).toBe(''); // No color set\r\n            expect(updateFn).not.toHaveBeenCalled();\r\n        });\r\n\r\n        it('should disable select when static is true', () => {\r\n            selectProperty.static = true;\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('todo', updateFn);\r\n            \r\n            expect(selectElement.disabled).toBe(true);\r\n        });\r\n\r\n        it('should not disable select when static is false', () => {\r\n            selectProperty.static = false;\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('todo', updateFn);\r\n            \r\n            expect(selectElement.disabled).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('change event handling', () => {\r\n        it('should handle option change events', async () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('todo', updateFn);\r\n            \r\n            // Change to 'done' option\r\n            selectElement.value = 'done';\r\n            const changeEvent = new Event('change');\r\n            \r\n            selectElement.dispatchEvent(changeEvent);\r\n            \r\n            // Wait for async update\r\n            await new Promise(resolve => setTimeout(resolve, 0));\r\n            \r\n            expect(updateFn).toHaveBeenCalledWith('done');\r\n            expect(selectElement.style.backgroundColor).toBeTruthy(); // Color should be set\r\n        });\r\n\r\n        it('should update background color on change', async () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('todo', updateFn);\r\n            \r\n            const initialColor = selectElement.style.backgroundColor;\r\n            expect(initialColor).toBeTruthy(); // todo color set\r\n            \r\n            // Change to 'in-progress'\r\n            selectElement.value = 'in-progress';\r\n            selectElement.dispatchEvent(new Event('change'));\r\n            \r\n            // Wait for event processing\r\n            await new Promise(resolve => setTimeout(resolve, 0));\r\n            \r\n            const newColor = selectElement.style.backgroundColor;\r\n            expect(newColor).toBeTruthy(); // in-progress color set\r\n            expect(newColor).not.toBe(initialColor); // Color should change\r\n        });\r\n\r\n        it('should handle change to non-existent option gracefully', async () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('todo', updateFn);\r\n            \r\n            // Since select elements only allow values that exist as options,\r\n            // setting a non-existent value will actually result in an empty string\r\n            selectElement.value = 'non-existent'; // This gets normalized to ''\r\n            selectElement.dispatchEvent(new Event('change'));\r\n            \r\n            await new Promise(resolve => setTimeout(resolve, 0));\r\n            \r\n            expect(updateFn).toHaveBeenCalledWith(''); // Empty string for invalid value\r\n            // Background color should remain unchanged since option not found\r\n            expect(selectElement.style.backgroundColor).toBeTruthy(); // Original color still set\r\n        });\r\n    });\r\n\r\n    describe('integration with base Property class', () => {\r\n        it('should work with getDisplay method', () => {\r\n            selectProperty.read = jest.fn(() => 'in-progress');\r\n            \r\n            const display = selectProperty.getDisplay(mockFile);\r\n            \r\n            expect(display).toBeTruthy();\r\n            expect(display.classList.contains('metadata-field')).toBe(true);\r\n        });\r\n\r\n        it('should inherit all base functionality', () => {\r\n            expect(selectProperty.name).toBe('status');\r\n            expect(selectProperty.type).toBe('select');\r\n            expect(typeof selectProperty.read).toBe('function');\r\n            expect(typeof selectProperty.createFieldContainer).toBe('function');\r\n        });\r\n\r\n        it('should use correct field container', () => {\r\n            const container = selectProperty.createFieldContainer();\r\n            \r\n            expect(container.tagName).toBe('DIV');\r\n            expect(container.classList.contains('metadata-field')).toBe(true);\r\n        });\r\n    });\r\n\r\n    describe('option management', () => {\r\n        it('should handle options with different colors', () => {\r\n            const colorfulOptions = [\r\n                { name: 'red', color: 'red' },\r\n                { name: 'green', color: 'green' },\r\n                { name: 'blue', color: 'blue' },\r\n                { name: 'yellow', color: '#ffff00' },\r\n                { name: 'transparent', color: 'transparent' }\r\n            ];\r\n            \r\n            const colorProperty = new SelectProperty('colors', mockVault, colorfulOptions);\r\n            const updateFn = jest.fn();\r\n            const selectElement = colorProperty.createSelectWidget('blue', updateFn);\r\n            \r\n            expect(selectElement.style.backgroundColor).toBeTruthy(); // Blue color set\r\n            \r\n            const options = selectElement.querySelectorAll('option');\r\n            expect(options[0].style.backgroundColor).toBeTruthy(); // Red set\r\n            expect(options[1].style.backgroundColor).toBeTruthy(); // Green set\r\n            expect(options[2].style.backgroundColor).toBeTruthy(); // Blue set\r\n            expect(options[3].style.backgroundColor).toBeTruthy(); // Yellow set\r\n            expect(options[4].style.backgroundColor).toBeTruthy(); // Transparent set\r\n        });\r\n\r\n        it('should handle options with special characters in names', () => {\r\n            const specialOptions = [\r\n                { name: 'option-with-dashes', color: 'red' },\r\n                { name: 'option_with_underscores', color: 'green' },\r\n                { name: 'option with spaces', color: 'blue' },\r\n                { name: 'option.with.dots', color: 'yellow' },\r\n                { name: 'option/with/slashes', color: 'purple' }\r\n            ];\r\n            \r\n            const specialProperty = new SelectProperty('special', mockVault, specialOptions);\r\n            const updateFn = jest.fn();\r\n            const selectElement = specialProperty.createSelectWidget('option with spaces', updateFn);\r\n            \r\n            const selectedOption = Array.from(selectElement.options).find(opt => opt.selected);\r\n            expect(selectedOption?.value).toBe('option with spaces');\r\n            expect(selectedOption?.textContent).toBe('option with spaces');\r\n        });\r\n\r\n        it('should handle long option names', () => {\r\n            const longOptions = [\r\n                { name: 'Very long option name that might cause display issues', color: 'red' },\r\n                { name: 'Another extremely long option name for testing purposes', color: 'green' }\r\n            ];\r\n            \r\n            const longProperty = new SelectProperty('long', mockVault, longOptions);\r\n            const updateFn = jest.fn();\r\n            const selectElement = longProperty.createSelectWidget(longOptions[0].name, updateFn);\r\n            \r\n            const options = selectElement.querySelectorAll('option');\r\n            expect(options[0].textContent).toBe(longOptions[0].name);\r\n            expect(options[1].textContent).toBe(longOptions[1].name);\r\n        });\r\n    });\r\n\r\n    describe('edge cases and error handling', () => {\r\n        it('should handle undefined colors', () => {\r\n            const undefinedColorOptions = [\r\n                { name: 'no-color', color: undefined as any },\r\n                { name: 'empty-color', color: '' },\r\n                { name: 'null-color', color: null as any }\r\n            ];\r\n            \r\n            const undefinedProperty = new SelectProperty('undefined', mockVault, undefinedColorOptions);\r\n            const updateFn = jest.fn();\r\n            const selectElement = undefinedProperty.createSelectWidget('no-color', updateFn);\r\n            \r\n            // Should not crash and create options anyway\r\n            expect(selectElement.options.length).toBe(3);\r\n        });\r\n\r\n        it('should handle duplicate option names', () => {\r\n            const duplicateOptions = [\r\n                { name: 'duplicate', color: 'red' },\r\n                { name: 'unique', color: 'green' },\r\n                { name: 'duplicate', color: 'blue' }\r\n            ];\r\n            \r\n            const duplicateProperty = new SelectProperty('duplicate', mockVault, duplicateOptions);\r\n            const updateFn = jest.fn();\r\n            const selectElement = duplicateProperty.createSelectWidget('duplicate', updateFn);\r\n            \r\n            // Should create all options, even duplicates\r\n            expect(selectElement.options.length).toBe(3);\r\n            \r\n            // Last duplicate with same name should be selected (browser behavior)\r\n            const selectedOptions = Array.from(selectElement.options).filter(opt => opt.selected);\r\n            expect(selectedOptions.length).toBe(1);\r\n            expect(selectedOptions[0].style.backgroundColor).toBeTruthy(); // Color should be set (last duplicate)\r\n        });\r\n\r\n        it('should handle case sensitivity in option selection', () => {\r\n            const updateFn = jest.fn();\r\n            const selectElement = selectProperty.createSelectWidget('TODO', updateFn); // Wrong case\r\n            \r\n            // Value 'TODO' doesn't match any option (case sensitive), so no styling applied\r\n            expect(selectElement.style.backgroundColor).toBe(''); // No color set for non-matching value\r\n            expect(updateFn).not.toHaveBeenCalled(); // No update called for non-matching value\r\n            \r\n            // But the select element should still contain all options\r\n            expect(selectElement.options.length).toBe(4);\r\n        });\r\n\r\n        it('should handle null/undefined values in widget creation', () => {\r\n            const updateFn = jest.fn();\r\n            \r\n            // Should not crash with null/undefined\r\n            expect(() => {\r\n                selectProperty.createSelectWidget(null as any, updateFn);\r\n            }).not.toThrow();\r\n            \r\n            expect(() => {\r\n                selectProperty.createSelectWidget(undefined as any, updateFn);\r\n            }).not.toThrow();\r\n        });\r\n    });\r\n\r\n    describe('complete workflow', () => {\r\n        it('should handle complete selection workflow', async () => {\r\n            const updateFn = jest.fn();\r\n            \r\n            // Create display\r\n            const display = selectProperty.fillDisplay('todo', updateFn);\r\n            const selectElement = display.querySelector('select') as HTMLSelectElement;\r\n            \r\n            // Verify initial state\r\n            expect(selectElement.value).toBe('todo');\r\n            const initialColor = selectElement.style.backgroundColor;\r\n            expect(initialColor).toBeTruthy();\r\n            \r\n            // Change selection\r\n            selectElement.value = 'done';\r\n            selectElement.dispatchEvent(new Event('change'));\r\n            \r\n            await new Promise(resolve => setTimeout(resolve, 0));\r\n            \r\n            // Verify update\r\n            expect(updateFn).toHaveBeenCalledWith('done');\r\n            const newColor = selectElement.style.backgroundColor;\r\n            expect(newColor).toBeTruthy();\r\n            expect(newColor).not.toBe(initialColor);\r\n        });\r\n\r\n        it('should work with property read/write cycle', () => {\r\n            // Mock the read method\r\n            selectProperty.read = jest.fn(() => 'blocked');\r\n            \r\n            const display = selectProperty.getDisplay(mockFile);\r\n            const selectElement = display.querySelector('select') as HTMLSelectElement;\r\n            \r\n            expect(selectElement).toBeTruthy();\r\n            // The value should be set based on what read returns\r\n            expect(selectElement.style.backgroundColor).toBeTruthy(); // blocked color set\r\n        });\r\n    });\r\n});\r\n"],"version":3}