a7ef4a15605e5e501d17774413d14f87
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PhoneProperty = void 0;
const LinkProperty_1 = require("./LinkProperty");
class PhoneProperty extends LinkProperty_1.LinkProperty {
    // Used for property hidden for the user
    constructor(name, args = { icon: "phone" }) {
        super(name, args);
        this.type = "phone";
    }
    validate(phoneNumber) {
        let cleaned = phoneNumber.replace(/[^0-9]/g, "");
        if (cleaned.length !== 10) {
            return "";
        }
        const corrected = cleaned.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/, "$1.$2.$3.$4.$5");
        return corrected;
    }
    getPretty(value) {
        if (!value)
            return value;
        return this.validate(value);
    }
    getLink(value) {
        return `callto:${value?.replace(".", "")}`;
    }
}
exports.PhoneProperty = PhoneProperty;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxzcmNcXHByb3BlcnRpZXNcXFBob25lUHJvcGVydHkudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaURBQThDO0FBSzlDLE1BQWEsYUFBYyxTQUFRLDJCQUFZO0lBRzNDLHdDQUF3QztJQUN4QyxZQUFZLElBQWEsRUFBRSxPQUFZLEVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBQztRQUNwRCxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBSEwsU0FBSSxHQUFZLE9BQU8sQ0FBQztJQUl0QyxDQUFDO0lBRVEsUUFBUSxDQUFDLFdBQW1CO1FBQ25DLElBQUksT0FBTyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRWpELElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUUsQ0FBQztZQUN4QixPQUFPLEVBQUUsQ0FBQztRQUNkLENBQUM7UUFFRCxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLHFDQUFxQyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDM0YsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVRLFNBQVMsQ0FBQyxLQUFhO1FBQzlCLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDekIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFUyxPQUFPLENBQUMsS0FBYztRQUM3QixPQUFPLFVBQVUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQTtJQUMzQyxDQUFDO0NBQ0Y7QUEzQkQsc0NBMkJDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbGVvZHVcXERvY3VtZW50c1xcMSAtIFByb1xcVGVzdCBwbHVnaW4gb2JzaWRpYW5cXC5vYnNpZGlhblxccGx1Z2luc1xcb2JzaWRpYW4tQ1JNXFxkeW5hbWljLWZpZWxkc1xcc3JjXFxwcm9wZXJ0aWVzXFxQaG9uZVByb3BlcnR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpbmtQcm9wZXJ0eSB9IGZyb20gXCIuL0xpbmtQcm9wZXJ0eVwiO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eSB9IGZyb20gXCIuL1Byb3BlcnR5XCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBQaG9uZVByb3BlcnR5IGV4dGVuZHMgTGlua1Byb3BlcnR5e1xyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgdHlwZSA6IHN0cmluZyA9IFwicGhvbmVcIjtcclxuICAgIC8vIFVzZWQgZm9yIHByb3BlcnR5IGhpZGRlbiBmb3IgdGhlIHVzZXJcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUgOiBzdHJpbmcsIGFyZ3MgOiB7fSA9IHtpY29uOiBcInBob25lXCJ9KSB7XHJcbiAgICAgIHN1cGVyKG5hbWUsIGFyZ3MpXHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgdmFsaWRhdGUocGhvbmVOdW1iZXI6IHN0cmluZykge1xyXG4gICAgICBsZXQgY2xlYW5lZCA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKTtcclxuICBcclxuICAgICAgaWYgKGNsZWFuZWQubGVuZ3RoICE9PSAxMCkge1xyXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgY29uc3QgY29ycmVjdGVkID0gY2xlYW5lZC5yZXBsYWNlKC8oXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KShcXGR7Mn0pLywgXCIkMS4kMi4kMy4kNC4kNVwiKTtcclxuICAgICAgcmV0dXJuIGNvcnJlY3RlZDtcclxuICB9XHJcblxyXG4gIG92ZXJyaWRlIGdldFByZXR0eSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdmFsdWU7XHJcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZSh2YWx1ZSk7ICBcclxuIH1cclxuXHJcbiAgb3ZlcnJpZGUgZ2V0TGluayh2YWx1ZSA6IHN0cmluZyl7XHJcbiAgICByZXR1cm4gYGNhbGx0bzoke3ZhbHVlPy5yZXBsYWNlKFwiLlwiLFwiXCIpfWBcclxuICB9XHJcbn0iXSwidmVyc2lvbiI6M30=