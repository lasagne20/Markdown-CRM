{"version":3,"names":["cov_rft0t76rk","actualCoverage","s","LinkProperty_1","require","FormulaProperty","LinkProperty","constructor","name","vault","formula","args","b","icon","static","write","f","type","validate","value","read","file","allFileProperties","getAllProperties","allProperties","key","prop","Object","entries","getMetadataValue","sanitizedProperties","keys","reduce","acc","sanitizedKey","replace","formulaContent","JSON","stringify","getName","join","includes","formulaFunction","Function","currentValue","updateMetadata","error","ReferenceError","console","getPretty","dateRegex","test","parsedDate","Date","toLocaleDateString","day","month","year","isNaN","Number","isInteger","toLocaleString","minimumFractionDigits","maximumFractionDigits","getLink","emailRegex","obsidianLinkRegex","match","encodeURIComponent","readLinkFile","urlRegex","startsWith","exports"],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\properties\\FormulaProperty.ts"],"sourcesContent":["import { File } from '../vault/File';\r\nimport { LinkProperty } from './LinkProperty';\r\nimport { Vault } from '../vault/Vault';\r\n\r\nexport class FormulaProperty extends LinkProperty {\r\n\r\n    public formula : string;\r\n    public override type : string = \"formula\";\r\n    public write : boolean = false;\r\n\r\n    constructor(name : string, vault: Vault, formula: string, args : {icon: string, static?: boolean, write?: boolean} = {icon: \"\", static: true, write: false}) {\r\n        super(name, vault, args);\r\n        this.formula = formula;\r\n        this.write = args.write ?? false;\r\n    }\r\n\r\n    override validate(value: string): string {\r\n        return value;\r\n    }\r\n\r\n    override read(file: File) : any {\r\n        // Get all properties from the file\r\n        const allFileProperties = file.getAllProperties() || {};\r\n        // Convert properties to their actual values\r\n        const allProperties: Record<string, any> = {};\r\n        \r\n        for (const [key, prop] of Object.entries(allFileProperties)) {\r\n            if (key !== this.name) { // Exclude self to avoid circular reference\r\n                allProperties[key] = file.getMetadataValue(key);\r\n            }\r\n        }\r\n        \r\n        try {\r\n            const sanitizedProperties = Object.keys(allProperties).reduce((acc: Record<string, any>, key) => {\r\n                const sanitizedKey: string = key.replace(/\\s+/g, \"\");\r\n                acc[sanitizedKey] = allProperties[key];\r\n                return acc;\r\n            }, {} as Record<string, any>);\r\n\r\n            const formulaContent = \r\n                `\r\n                    const properties = ${JSON.stringify(sanitizedProperties)};\r\n                    const name = \"${file.getName(false)}\";\r\n                    const { ${Object.keys(sanitizedProperties).join(\", \")} } = properties;\r\n                    ${this.formula.includes(\"return\") ? \"\" : \"return \"}${this.formula};\r\n                `;\r\n\r\n            const formulaFunction = new Function(\"vault\", \"file\", formulaContent);\r\n            let value = formulaFunction(file.vault, file);\r\n            if (this.write) {\r\n                let currentValue = file.getMetadataValue(this.name);\r\n                if (currentValue !== value){\r\n                    file.updateMetadata(this.name, value);\r\n                } \r\n            }\r\n            return value;\r\n        } catch (error) {\r\n            if (error instanceof ReferenceError){\r\n                console.error(\"Formula error : \" + this.formula + \"\\n\\n\"\r\n                    + error \r\n                    + \"\\n\\nThis is all the properties available : \", Object.keys(allProperties).join(\", \"));\r\n            }\r\n            else {\r\n                console.error(\"Formula error : \" + this.formula + \"\\n\\n\" + error);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    override getPretty(value: string) {\r\n        if (!value) return value;\r\n        if (typeof value !== \"string\") {\r\n            console.error(\"Value is not a string:\", value);\r\n            return value;\r\n        }\r\n\r\n        // Check if it's a date\r\n        const dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/; // Matches \"YYYY-MM-DD\"\r\n        if (dateRegex.test(value)) {\r\n            const parsedDate = new Date(value);\r\n            return parsedDate.toLocaleDateString(\"fr-FR\", {\r\n                day: \"numeric\",\r\n                month: \"long\",\r\n                year: \"numeric\"\r\n            });\r\n\r\n        }\r\n        if (!isNaN(Number(value)) && Number.isInteger(Number(value))) {\r\n            return Number(value).toLocaleString(\"fr-FR\",{ minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n        }\r\n\r\n        \r\n        return value.replace(/^https?:\\/\\//, \"\").replace(\"[[\", \"\").replace(\"]]\", \"\");\r\n\r\n    }\r\n\r\n    override getLink(value: string): string {\r\n        if (!value) return value;\r\n\r\n        // Check if it's an email\r\n        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n        if (emailRegex.test(value)) {\r\n            return `mailto:${value}`;\r\n        }\r\n\r\n        // Check if it's an Obsidian link [[...]]\r\n        const obsidianLinkRegex = /\\[\\[([^\\]]+)\\]\\]/;\r\n        try {\r\n            const match = value.match(obsidianLinkRegex);\r\n            if (match && match[1]) {\r\n                return `obsidian://open?vault=${this.vault.getName()}&file=${encodeURIComponent(this.vault.readLinkFile(match[1], true)[1])}`;\r\n            }\r\n\r\n            // Check if it's a valid URL\r\n            const urlRegex = /^(https?:\\/\\/)?([a-zA-Z0-9_-]+\\.)+[a-zA-Z]{2,6}(\\/[a-zA-Z0-9_-]+)*\\/?$/;\r\n            if (urlRegex.test(value)) {\r\n                return value.startsWith(\"http\") ? value : `http://${value}`;\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error parsing link for ${value}:`, error);\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}