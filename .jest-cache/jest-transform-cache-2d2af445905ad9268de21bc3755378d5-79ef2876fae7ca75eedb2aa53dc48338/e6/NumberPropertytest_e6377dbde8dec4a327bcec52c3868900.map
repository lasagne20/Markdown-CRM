{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\NumberProperty.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\NumberProperty.test.ts"],"sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\r\nimport { NumberProperty } from '../../src/properties/NumberProperty';\r\n\r\n// Mock fs module\r\njest.mock('fs', () => ({\r\n    cp: jest.fn()\r\n}));\r\n\r\n// Mock App module\r\njest.mock('../../src/vault/Utils', () => ({\r\n    setIcon: jest.fn((element: HTMLElement, iconName: string) => {\r\n        element.setAttribute('data-icon', iconName);\r\n    })\r\n}));\r\n\r\n// Mock Vault\r\njest.mock('../../src/vault/Vault', () => ({\r\n    Vault: jest.fn()\r\n}));\r\n\r\n// Mock FormulaProperty\r\njest.mock('../../src/properties/FormulaProperty', () => ({\r\n    FormulaProperty: jest.fn().mockImplementation((name, formula, args) => ({\r\n        name,\r\n        formula,\r\n        args,\r\n        read: jest.fn(() => '42'),\r\n        type: 'formula'\r\n    }))\r\n}));\r\n\r\ndescribe('NumberProperty', () => {\r\n    let numberProperty: NumberProperty;\r\n    let mockVault: any;\r\n    let mockFile: any;\r\n\r\n    beforeEach(() => {\r\n        // Reset DOM\r\n        document.body.innerHTML = '';\r\n        \r\n        // Mock vault\r\n        mockVault = {\r\n            app: {\r\n                vault: { getFiles: jest.fn(() => []) },\r\n                setIcon: jest.fn((element: HTMLElement, iconName: string) => {\r\n                    element.setAttribute('data-icon', iconName);\r\n                    element.textContent = `[${iconName}]`;\r\n                })\r\n            }\r\n        };\r\n\r\n        // Mock file\r\n        mockFile = {\r\n            getMetadata: jest.fn(() => ({ testNumber: '123' })),\r\n            getMetadataValue: jest.fn((key: string) => key === 'testNumber' ? '123' : undefined),\r\n            updateMetadata: jest.fn(),\r\n            vault: mockVault\r\n        };\r\n\r\n        numberProperty = new NumberProperty('testNumber', mockVault, 'kg');\r\n    });\r\n\r\n    afterEach(() => {\r\n        jest.clearAllMocks();\r\n    });\r\n\r\n    describe('constructor', () => {\r\n        it('should create NumberProperty with default values', () => {\r\n            const prop = new NumberProperty('test', mockVault);\r\n            \r\n            expect(prop.name).toBe('test');\r\n            expect(prop.type).toBe('number');\r\n            expect(prop.unit).toBe('');\r\n            expect(prop.formulaProperty).toBeNull();\r\n        });\r\n\r\n        it('should create NumberProperty with unit', () => {\r\n            const prop = new NumberProperty('weight', mockVault, 'kg');\r\n            \r\n            expect(prop.name).toBe('weight');\r\n            expect(prop.unit).toBe('kg');\r\n            expect(prop.type).toBe('number');\r\n        });\r\n\r\n        it('should create NumberProperty with formula', () => {\r\n            const args = { icon: 'calculator', static: false, formula: 'a + b' };\r\n            const prop = new NumberProperty('calculated', mockVault, 'units', args);\r\n            \r\n            expect(prop.name).toBe('calculated');\r\n            expect(prop.unit).toBe('units');\r\n            expect(prop.formulaProperty).toBeTruthy();\r\n        });\r\n\r\n        it('should create NumberProperty without formula when not provided', () => {\r\n            const args = { icon: 'hash', static: true };\r\n            const prop = new NumberProperty('simple', mockVault, 'cm', args);\r\n            \r\n            expect(prop.formulaProperty).toBeNull();\r\n        });\r\n    });\r\n\r\n    describe('validate', () => {\r\n        it('should validate valid numbers', () => {\r\n            expect(numberProperty.validate('123')).toBe('123');\r\n            expect(numberProperty.validate('123.45')).toBe('123.45');\r\n            expect(numberProperty.validate('0')).toBe('0');\r\n            expect(numberProperty.validate('-50')).toBe('-50');\r\n            expect(numberProperty.validate('3.14159')).toBe('3.14159');\r\n        });\r\n\r\n        it('should handle invalid numbers', () => {\r\n            expect(numberProperty.validate('abc')).toBe('');\r\n            expect(numberProperty.validate('12abc')).toBe('');\r\n            expect(numberProperty.validate('')).toBe('');\r\n            expect(numberProperty.validate('   ')).toBe('');\r\n            expect(numberProperty.validate('NaN')).toBe('');\r\n        });\r\n\r\n        it('should handle edge cases', () => {\r\n            expect(numberProperty.validate('Infinity')).toBe('Infinity');\r\n            expect(numberProperty.validate('-Infinity')).toBe('-Infinity');\r\n            expect(numberProperty.validate('1e10')).toBe('10000000000');\r\n            expect(numberProperty.validate('1.23e-4')).toBe('0.000123');\r\n        });\r\n    });\r\n\r\n    describe('createFieldInput', () => {\r\n        it('should create number input element', () => {\r\n            const input = numberProperty.createFieldInput('123');\r\n            \r\n            expect(input.tagName).toBe('INPUT');\r\n            expect((input as HTMLInputElement).type).toBe('number');\r\n            expect((input as HTMLInputElement).value).toBe('123');\r\n            expect(input.classList.contains('field-input')).toBe(true);\r\n        });\r\n\r\n        it('should handle empty value', () => {\r\n            const input = numberProperty.createFieldInput('');\r\n            \r\n            expect((input as HTMLInputElement).value).toBe('');\r\n        });\r\n    });\r\n\r\n    describe('createFieldLink', () => {\r\n        it('should create link with value and unit', () => {\r\n            const link = numberProperty.createFieldLink('123');\r\n            \r\n            expect(link.tagName).toBe('DIV');\r\n            expect(link.textContent).toBe('123 kg');\r\n            expect(link.classList.contains('field-link')).toBe(true);\r\n        });\r\n\r\n        it('should create link without unit when unit is empty', () => {\r\n            const propWithoutUnit = new NumberProperty('test', mockVault, mockVault);\r\n            const link = propWithoutUnit.createFieldLink('123');\r\n            \r\n            expect(link.textContent).toBe('123 ');\r\n        });\r\n\r\n        it('should handle empty value', () => {\r\n            const link = numberProperty.createFieldLink('');\r\n            \r\n            expect(link.textContent).toBe('');\r\n        });\r\n\r\n        it('should have correct cursor style based on static property', () => {\r\n            numberProperty.static = false;\r\n            const link = numberProperty.createFieldLink('123');\r\n            expect(link.style.cursor).toBe('text');\r\n            \r\n            numberProperty.static = true;\r\n            const linkStatic = numberProperty.createFieldLink('123');\r\n            expect(linkStatic.style.cursor).toBe('default');\r\n        });\r\n\r\n        it('should add click listener for non-static properties', () => {\r\n            numberProperty.static = false;\r\n            const link = numberProperty.createFieldLink('123');\r\n            \r\n            // Setup DOM structure for modifyField\r\n            const field = document.createElement('div');\r\n            field.classList.add('metadata-field');\r\n            const input = document.createElement('input');\r\n            input.classList.add('field-input');\r\n            field.appendChild(link);\r\n            field.appendChild(input);\r\n            document.body.appendChild(field);\r\n            \r\n            link.click();\r\n            \r\n            expect(link.style.display).toBe('none');\r\n            expect(input.style.display).toBe('block');\r\n        });\r\n    });\r\n\r\n    describe('createFieldContainerContent', () => {\r\n        it('should create field container with input and link', () => {\r\n            const updateFn = jest.fn();\r\n            const container = numberProperty.createFieldContainerContent(updateFn, '123');\r\n            \r\n            expect(container.tagName).toBe('DIV');\r\n            expect(container.classList.contains('field-container')).toBe(true);\r\n            \r\n            const link = container.querySelector('.field-link');\r\n            const input = container.querySelector('.field-input');\r\n            \r\n            expect(link).toBeTruthy();\r\n            expect(input).toBeTruthy();\r\n        });\r\n\r\n        it('should show link when static property is true', () => {\r\n            numberProperty.static = true;\r\n            const updateFn = jest.fn();\r\n            const container = numberProperty.createFieldContainerContent(updateFn, '123');\r\n            \r\n            const link = container.querySelector('.field-link') as HTMLElement;\r\n            const input = container.querySelector('.field-input') as HTMLElement;\r\n            \r\n            expect(link.style.display).toBe('block');\r\n            expect(input.style.display).toBe('none');\r\n        });\r\n\r\n        it('should show appropriate field based on value validity for non-static', () => {\r\n            numberProperty.static = false;\r\n            const updateFn = jest.fn();\r\n            \r\n            // Valid value - should show link\r\n            const containerValid = numberProperty.createFieldContainerContent(updateFn, '123');\r\n            const linkValid = containerValid.querySelector('.field-link') as HTMLElement;\r\n            const inputValid = containerValid.querySelector('.field-input') as HTMLElement;\r\n            \r\n            expect(linkValid.style.display).toBe('block');\r\n            expect(inputValid.style.display).toBe('none');\r\n            \r\n            // Invalid value - should show input\r\n            const containerInvalid = numberProperty.createFieldContainerContent(updateFn, 'abc');\r\n            const linkInvalid = containerInvalid.querySelector('.field-link') as HTMLElement;\r\n            const inputInvalid = containerInvalid.querySelector('.field-input') as HTMLElement;\r\n            \r\n            expect(linkInvalid.style.display).toBe('none');\r\n            expect(inputInvalid.style.display).toBe('block');\r\n        });\r\n    });\r\n\r\n    describe('updateField', () => {\r\n        it('should update field with valid value', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            input.value = '456';\r\n            \r\n            await numberProperty.updateField(updateFn, input, link);\r\n            \r\n            expect(updateFn).toHaveBeenCalledWith('456');\r\n            expect(input.style.display).toBe('none');\r\n            expect(link.textContent).toBe('456 kg');\r\n            expect(link.style.display).toBe('block');\r\n        });\r\n\r\n        it('should update field with empty value', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            input.value = '';\r\n            \r\n            await numberProperty.updateField(updateFn, input, link);\r\n            \r\n            expect(updateFn).toHaveBeenCalledWith('');\r\n        });\r\n\r\n        it('should handle units correctly in display', async () => {\r\n            const updateFn = jest.fn();\r\n            const input = document.createElement('input') as HTMLInputElement;\r\n            const link = document.createElement('div');\r\n            \r\n            // Test with unit\r\n            input.value = '100';\r\n            await numberProperty.updateField(updateFn, input, link);\r\n            expect(link.textContent).toBe('100 kg');\r\n            \r\n            // Test without unit\r\n            const propWithoutUnit = new NumberProperty('test', mockVault, mockVault);\r\n            input.value = '200';\r\n            await propWithoutUnit.updateField(updateFn, input, link);\r\n            expect(link.textContent).toBe('200 ');\r\n        });\r\n    });\r\n\r\n    describe('getDisplay', () => {\r\n        it('should use regular value when available', () => {\r\n            numberProperty.read = jest.fn(() => '123');\r\n            numberProperty.fillDisplay = jest.fn(() => document.createElement('div'));\r\n            \r\n            const result = numberProperty.getDisplay(mockFile, { staticMode: true, title: 'Test Number' });\r\n            \r\n            expect(numberProperty.static).toBe(true);\r\n            expect(numberProperty.title).toBe('Test Number');\r\n            expect(numberProperty.read).toHaveBeenCalledWith(mockFile);\r\n            expect(numberProperty.fillDisplay).toHaveBeenCalledWith(\r\n                mockFile.vault,\r\n                '123',\r\n                expect.any(Function)\r\n            );\r\n        });\r\n\r\n        it('should use formula value when regular value not available', () => {\r\n            const mockFormulaProperty = {\r\n                read: jest.fn(() => '42')\r\n            };\r\n            \r\n            numberProperty.formulaProperty = mockFormulaProperty as any;\r\n            numberProperty.read = jest.fn(() => null);\r\n            numberProperty.fillDisplay = jest.fn(() => document.createElement('div'));\r\n            \r\n            const result = numberProperty.getDisplay(mockFile);\r\n            \r\n            expect(numberProperty.read).toHaveBeenCalledWith(mockFile);\r\n            expect(mockFormulaProperty.read).toHaveBeenCalledWith(mockFile);\r\n            expect(numberProperty.fillDisplay).toHaveBeenCalledWith(\r\n                mockFile.vault,\r\n                '42', // Mock formula result\r\n                expect.any(Function)\r\n            );\r\n        });\r\n\r\n        it('should use regular value when both regular and formula available', () => {\r\n            const mockFormulaProperty = {\r\n                read: jest.fn(() => '42')\r\n            };\r\n            \r\n            numberProperty.formulaProperty = mockFormulaProperty as any;\r\n            numberProperty.read = jest.fn(() => '999');\r\n            numberProperty.fillDisplay = jest.fn(() => document.createElement('div'));\r\n            \r\n            const result = numberProperty.getDisplay(mockFile);\r\n            \r\n            expect(numberProperty.read).toHaveBeenCalledWith(mockFile);\r\n            expect(mockFormulaProperty.read).not.toHaveBeenCalled();\r\n            expect(numberProperty.fillDisplay).toHaveBeenCalledWith(\r\n                mockFile.vault,\r\n                '999',\r\n                expect.any(Function)\r\n            );\r\n        });\r\n    });\r\n\r\n    describe('fillDisplay', () => {\r\n        it('should create complete display with title', () => {\r\n            numberProperty.title = 'Weight';\r\n            const updateFn = jest.fn();\r\n            \r\n            const result = numberProperty.fillDisplay(mockVault, '150', updateFn);\r\n            \r\n            expect(numberProperty.vault).toBe(mockVault);\r\n            expect(result.querySelector('.metadata-title')).toBeTruthy();\r\n            expect(result.querySelector('.metadata-title')?.textContent).toBe('Weight');\r\n            expect(result.querySelector('.icon-container')).toBeTruthy();\r\n            expect(result.querySelector('.field-container')).toBeTruthy();\r\n        });\r\n\r\n        it('should create display without title when title is empty', () => {\r\n            numberProperty.title = '';\r\n            const updateFn = jest.fn();\r\n            \r\n            const result = numberProperty.fillDisplay(mockVault, '150', updateFn);\r\n            \r\n            expect(result.querySelector('.metadata-title')).toBeFalsy();\r\n        });\r\n    });\r\n\r\n    describe('integration with Property base class', () => {\r\n        it('should inherit all base functionality', () => {\r\n            expect(numberProperty.name).toBe('testNumber');\r\n            expect(numberProperty.type).toBe('number');\r\n            expect(numberProperty).toBeInstanceOf(NumberProperty);\r\n        });\r\n\r\n        it('should override createFieldInput to use number input', () => {\r\n            const input = numberProperty.createFieldInput('123');\r\n            expect((input as HTMLInputElement).type).toBe('number');\r\n        });\r\n\r\n        it('should work with base class methods', () => {\r\n            expect(typeof numberProperty.read).toBe('function');\r\n            expect(typeof numberProperty.getPretty).toBe('function');\r\n            expect(typeof numberProperty.getLink).toBe('function');\r\n        });\r\n    });\r\n\r\n    describe('edge cases and error handling', () => {\r\n        it('should handle null and undefined values', () => {\r\n            expect(numberProperty.validate(null as any)).toBe('');\r\n            expect(numberProperty.validate(undefined as any)).toBe('');\r\n        });\r\n\r\n        it('should handle very large numbers', () => {\r\n            const largeNumber = '999999999999999999999';\r\n            const result = numberProperty.validate(largeNumber);\r\n            expect(result).toBe('1e+21');\r\n        });\r\n\r\n        it('should handle very small numbers', () => {\r\n            const smallNumber = '0.000000000000000001';\r\n            const result = numberProperty.validate(smallNumber);\r\n            expect(result).toBe('1e-18');\r\n        });\r\n\r\n        it('should handle whitespace in input', () => {\r\n            expect(numberProperty.validate('  123  ')).toBe('123');\r\n            expect(numberProperty.validate('\\t456\\n')).toBe('456');\r\n        });\r\n\r\n        it('should create field link with falsy values', () => {\r\n            const link1 = numberProperty.createFieldLink('0');\r\n            expect(link1.textContent).toBe('0 kg');\r\n            \r\n            const link2 = numberProperty.createFieldLink(null as any);\r\n            expect(link2.textContent).toBe('');\r\n            \r\n            const link3 = numberProperty.createFieldLink(undefined as any);\r\n            expect(link3.textContent).toBe('');\r\n        });\r\n    });\r\n});\r\n"],"version":3}