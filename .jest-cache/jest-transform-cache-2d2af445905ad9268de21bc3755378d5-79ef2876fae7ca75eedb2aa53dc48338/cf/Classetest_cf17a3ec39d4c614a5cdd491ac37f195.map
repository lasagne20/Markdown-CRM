{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\vault\\Classe.test.ts","mappings":";;AAAA,mDAAgD;AAIhD,4DAAyD;AAEzD,uBAAuB;AACvB,MAAM,YAAa,SAAQ,mBAAQ;IAC/B,YAAY,IAAY,EAAE,KAAY;QAClC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;IACvB,CAAC;IAED,QAAQ,CAAC,KAAU;QACf,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,IAAS,EAAE,IAAU;QAClC,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,WAAW,GAAG,kBAAkB,IAAI,CAAC,IAAI,EAAE,CAAC;QAChD,OAAO,GAAG,CAAC;IACf,CAAC;CACJ;AAED,MAAM,cAAe,SAAQ,eAAM;IAC/B,MAAM,CAAC,MAAM,CAAC,KAAY;QACtB,OAAO,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,QAAQ;QACV,sBAAsB;IAC1B,CAAC;IAED,KAAK,CAAC,QAAQ;QACV,sBAAsB;IAC1B,CAAC;IAED,KAAK,CAAC,QAAQ;QACV,sBAAsB;IAC1B,CAAC;CACJ;AAED,iDAAiD;AACjD,MAAM,OAAO,GAAG;IACZ,SAAS,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,SAAkB,EAAE,EAAE;QACtC,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,SAAS;YAAE,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;QACzC,OAAO,GAAG,CAAC;IACf,CAAC,CAAC;IACF,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;IAClB,WAAW,EAAE,IAAI,CAAC,EAAE,EAAE;IACtB,cAAc,EAAE,IAAI,CAAC,EAAE,EAAE;IACzB,kBAAkB,EAAE,IAAI,CAAC,EAAE,EAAE;IAC7B,YAAY,EAAE,IAAI,CAAC,EAAE,EAAE;CAC1B,CAAC;AAEF,MAAM,SAAS,GAAG;IACd,GAAG,EAAE,OAAO;CACK,CAAC;AAEtB,MAAM,QAAQ,GAAG;IACb,IAAI,EAAE,SAAS;IACf,IAAI,EAAE,eAAe;IACrB,QAAQ,EAAE,MAAM;IAChB,SAAS,EAAE,IAAI;IACf,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,eAAe,CAAC;CACnC,CAAC;AAErB,MAAM,QAAQ,GAAG;IACb,IAAI,EAAE,UAAU;IAChB,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,UAAU,CAAC;CAC9B,CAAC;AAErB,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;IACpB,IAAI,MAAsB,CAAC;IAC3B,IAAI,YAA0B,CAAC;IAE/B,UAAU,CAAC,GAAG,EAAE;QACZ,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,MAAM,GAAG,IAAI,cAAc,CAAC,SAAS,CAAC,CAAC;QACvC,YAAY,GAAG,IAAI,YAAY,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;IAC/D,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,uDAAuD,EAAE,GAAG,EAAE;YAC7D,MAAM,SAAS,GAAG,IAAI,cAAc,CAAC,SAAS,CAAC,CAAC;YAChD,MAAM,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,eAAM,CAAC,CAAC;YACzC,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC;YAC5C,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;YACjD,MAAM,SAAS,GAAG,IAAI,cAAc,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAC1D,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;YACjD,MAAM,SAAS,GAAG,IAAI,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;YACrE,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yDAAyD,EAAE,GAAG,EAAE;YAC/D,MAAM,SAAS,GAAG,IAAI,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACpE,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3C,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,0BAA0B,EAAE,GAAG,EAAE;YAChC,MAAM,CAAC,IAAI,GAAG,UAAU,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;YACpD,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;QACjC,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;YAC3B,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACjC,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6BAA6B,EAAE,GAAG,EAAE;YACnC,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACjC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAClE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mDAAmD,EAAE,GAAG,EAAE;YACzD,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;QAC9D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAC9C,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACjC,MAAM,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;YAC1C,UAAU,CAAC,IAAI,CAAC,IAAI,YAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;YACxD,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;YACzC,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC3D,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACjC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAE9B,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC9D,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,iBAAiB,EAAE,GAAG,EAAE;YACvB,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE;YAC5B,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;YACrD,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC;QAC7C,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;QACjC,UAAU,CAAC,GAAG,EAAE;YACZ,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;YACjC,MAAM,gBAAgB,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC;YAC1C,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,CAAC;YAExD,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,WAAW,EAAE,CAAC;YAC5C,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACxC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,iBAAiB,GAAG,IAAI,cAAc,CAAC,SAAS,CAAC,CAAC;YACxD,MAAM,QAAQ,GAAG,MAAM,iBAAiB,CAAC,WAAW,EAAE,CAAC;YACvD,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;YACpC,MAAM,WAAW,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,CAAC;YAExC,MAAM,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YACzC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,oBAAoB,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAC/E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,iBAAiB,GAAG,IAAI,cAAc,CAAC,SAAS,CAAC,CAAC;YACxD,MAAM,iBAAiB,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;YACzD,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE,KAAK,IAAI,EAAE;YACrD,MAAM,QAAQ,GAAG,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC;YAC/C,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAEhD,MAAM,KAAK,GAAG,MAAM,MAAM,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;YAC5D,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2BAA2B,EAAE,KAAK,IAAI,EAAE;YACvC,MAAM,QAAQ,GAAG,EAAE,gBAAgB,EAAE,eAAe,EAAE,CAAC;YACvD,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAEhD,MAAM,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YAE1D,MAAM,gBAAgB,GAAG;gBACrB,gBAAgB,EAAE,eAAe;gBACjC,YAAY,EAAE,UAAU;aAC3B,CAAC;YACF,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,oBAAoB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QACpF,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE;QACnC,UAAU,CAAC,GAAG,EAAE;YACZ,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;YACxC,MAAM,iBAAiB,GAAG,IAAI,cAAc,CAAC,SAAS,CAAC,CAAC;YACxD,MAAM,MAAM,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;QACpE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE,KAAK,IAAI,EAAE;YACrC,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;YAC1C,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACvD,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YAEvD,0CAA0C;YAC1C,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;YAC9D,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;YAE9D,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC9B,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAE9B,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBAClC,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,QAAQ;aAClB,CAAC,CAAC;YAEH,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,uDAAuD,EAAE,KAAK,IAAI,EAAE;YACnE,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACvD,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAEtD,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC9B,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,CAAC,CAAC;YAEjE,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;QAChC,UAAU,CAAC,GAAG,EAAE;YACZ,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACzB,MAAM,CAAC,IAAI,GAAG,WAAW,CAAC;YAC1B,MAAM,CAAC,IAAI,GAAG,WAAW,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;YACzD,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;YAE1C,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAE1D,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACrC,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;YACjD,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;YAC9D,MAAM,QAAQ,GAAG,IAAI,YAAY,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;YACzD,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAE7B,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBAClC,QAAQ,EAAE,WAAW;aACxB,CAAC,CAAC;YAEH,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAC1D,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;YAC3D,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBAClC,SAAS,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;aAChC,CAAC,CAAC;YAEH,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAC1D,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAC5C,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YAC3C,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;YAC5D,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBAClC,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE;aACjD,CAAC,CAAC;YAEH,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAC1D,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YAC7C,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAChD,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kCAAkC,EAAE,KAAK,IAAI,EAAE;YAC9C,MAAM,CAAC,QAAQ,GAAG,eAAe,CAAC;YAClC,MAAM,eAAe,GAAG,uBAAuB,CAAC;YAChD,OAAO,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;YAE9D,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,yBAAyB,CAAC,EAAE,CAAC;YAC1D,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACtC,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,oBAAoB,CAAC,eAAe,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kCAAkC,EAAE,KAAK,IAAI,EAAE;YAC9C,MAAM,CAAC,QAAQ,GAAG,uBAAuB,CAAC;YAC1C,OAAO,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC;YAE9E,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,yBAAyB,CAAC,EAAE,CAAC;YAC1D,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6DAA6D,EAAE,KAAK,IAAI,EAAE;YACzE,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,yBAAyB,CAAC,EAAE,CAAC;YAC1D,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,UAAU,CAAC,GAAG,EAAE;YACZ,MAAM,CAAC,IAAI,GAAG,WAAW,CAAC;YAC1B,MAAM,CAAC,IAAI,GAAG,WAAW,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+BAA+B,EAAE,KAAK,IAAI,EAAE;YAC3C,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjD,OAAO,CAAC,SAAS,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;YAC/E,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;YAE1C,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,UAAU,EAAE,CAAC;YAE1C,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;YACjE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,oBAAoB,CAAC,eAAe,CAAC,CAAC;YAChE,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,oBAAoB,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;YAClD,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjD,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAEtD,OAAO,CAAC,SAAS,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;YAC/E,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,CAAC;YAErE,MAAM,YAAY,GAAG,IAAI,YAAY,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;YACjE,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;YACvE,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAEjC,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,UAAU,EAAE,CAAC;YAE1C,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,oBAAoB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,2BAA2B,EAAE,GAAG,EAAE;YACjC,MAAM,SAAS,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC,oBAAoB,CAAC,CAAC;YACnE,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,uCAAuC,EAAE,GAAG,EAAE;YAC7C,MAAM,SAAS,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC,aAAa,CAAC,CAAC;YAC5D,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+BAA+B,EAAE,KAAK,IAAI,EAAE;YAC3C,MAAM,MAAM,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,CAAC;YAC7C,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;YAC5D,OAAO,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACnE,MAAM,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;QAChF,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC5B,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;YACvD,MAAM,CAAC,GAAG,EAAE,CAAC,eAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,0CAA0C,CAAC,CAAC;QAC/F,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAC9C,MAAM,QAAQ,GAAG,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAClD,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,EAAE,CAAC,2BAA2B,EAAE,KAAK,IAAI,EAAE;YACvC,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAC3C,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxB,MAAM,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2BAA2B,EAAE,KAAK,IAAI,EAAE;YACvC,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAC3C,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxB,MAAM,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2BAA2B,EAAE,KAAK,IAAI,EAAE;YACvC,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAC3C,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxB,MAAM,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,UAAU,CAAC,GAAG,EAAE;YACZ,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6DAA6D,EAAE,KAAK,IAAI,EAAE;YACzE,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACvD,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YAEvD,sDAAsD;YACtD,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;YAC5D,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;YAEjE,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC9B,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAE9B,MAAM,gBAAgB,GAAG;gBACrB,KAAK,EAAE,gBAAgB;gBACvB,KAAK,EAAE,gBAAgB;aAC1B,CAAC;YAEF,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,CAAC;YAExD,MAAM,MAAM,CAAC,6BAA6B,CAAC,EAAE,CAAC;YAE9C,MAAM,gBAAgB,GAAG;gBACrB,KAAK,EAAE,WAAW;gBAClB,KAAK,EAAE,gBAAgB;aAC1B,CAAC;YAEF,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,oBAAoB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QACpF,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qDAAqD,EAAE,KAAK,IAAI,EAAE;YACjE,MAAM,QAAQ,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACtD,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;YAE3D,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAE7B,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBAClC,KAAK,EAAE,WAAW;aACrB,CAAC,CAAC;YAEH,MAAM,MAAM,CAAC,6BAA6B,CAAC,EAAE,CAAC;YAE9C,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;QACxB,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;YAC5C,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;QACtD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;YAC7D,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACzB,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC;gBAClC,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,SAAS;aAC3B,CAAC,CAAC;YAEH,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;YAC5D,MAAM,cAAc,GAAG,MAAM,MAAM,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;YAEtE,MAAM,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,CAAC;YAC7B,MAAM,CAAC,cAAc,CAAC,CAAC,aAAa,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,uCAAuC,EAAE,KAAK,IAAI,EAAE;YACnD,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\vault\\Classe.test.ts"],"sourcesContent":["import { Classe } from '../../src/vault/Classe';\r\nimport { Vault } from '../../src/vault/Vault';\r\nimport { File } from '../../src/vault/File';\r\nimport { Data } from '../../src/vault/Data';\r\nimport { Property } from '../../src/properties/Property';\r\n\r\n// Mock implementations\r\nclass MockProperty extends Property {\r\n    constructor(name: string, vault: Vault) {\r\n        super(name, vault);\r\n        this.type = 'mock';\r\n    }\r\n\r\n    validate(value: any): any {\r\n        return value;\r\n    }\r\n\r\n    async getDisplay(file: any, args?: any): Promise<HTMLDivElement> {\r\n        const div = document.createElement('div');\r\n        div.textContent = `Mock property: ${this.name}`;\r\n        return div;\r\n    }\r\n}\r\n\r\nclass TestableClasse extends Classe {\r\n    static create(vault: Vault): Classe {\r\n        return new TestableClasse(vault);\r\n    }\r\n\r\n    async onCreate(): Promise<void> {\r\n        // Test implementation\r\n    }\r\n\r\n    async onUpdate(): Promise<void> {\r\n        // Test implementation\r\n    }\r\n\r\n    async onDelete(): Promise<void> {\r\n        // Test implementation\r\n    }\r\n}\r\n\r\n// Mock implementations for external dependencies\r\nconst mockApp = {\r\n    createDiv: jest.fn((className?: string) => {\r\n        const div = document.createElement('div');\r\n        if (className) div.className = className;\r\n        return div;\r\n    }),\r\n    setIcon: jest.fn(),\r\n    getMetadata: jest.fn(),\r\n    updateMetadata: jest.fn(),\r\n    getTemplateContent: jest.fn(),\r\n    createFolder: jest.fn()\r\n};\r\n\r\nconst mockVault = {\r\n    app: mockApp\r\n} as unknown as Vault;\r\n\r\nconst mockFile = {\r\n    name: 'test.md',\r\n    path: '/test/test.md',\r\n    basename: 'test',\r\n    extension: 'md',\r\n    getPath: jest.fn().mockReturnValue('/test/test.md')\r\n} as unknown as File;\r\n\r\nconst mockData = {\r\n    name: 'TestData',\r\n    getName: jest.fn().mockReturnValue('TestData')\r\n} as unknown as Data;\r\n\r\ndescribe('Classe', () => {\r\n    let classe: TestableClasse;\r\n    let mockProperty: MockProperty;\r\n\r\n    beforeEach(() => {\r\n        jest.clearAllMocks();\r\n        classe = new TestableClasse(mockVault);\r\n        mockProperty = new MockProperty('testProperty', mockVault);\r\n    });\r\n\r\n    describe('Constructor', () => {\r\n        it('should create a Classe instance without file and data', () => {\r\n            const newClasse = new TestableClasse(mockVault);\r\n            expect(newClasse).toBeInstanceOf(Classe);\r\n            expect(newClasse.getFile()).toBeUndefined();\r\n            expect(newClasse.data).toBeNull();\r\n        });\r\n\r\n        it('should create a Classe instance with file', () => {\r\n            const newClasse = new TestableClasse(mockVault, mockFile);\r\n            expect(newClasse.getFile()).toBe(mockFile);\r\n        });\r\n\r\n        it('should create a Classe instance with data', () => {\r\n            const newClasse = new TestableClasse(mockVault, undefined, mockData);\r\n            expect(newClasse.data).toBe(mockData);\r\n        });\r\n\r\n        it('should create a Classe instance with both file and data', () => {\r\n            const newClasse = new TestableClasse(mockVault, mockFile, mockData);\r\n            expect(newClasse.getFile()).toBe(mockFile);\r\n            expect(newClasse.data).toBe(mockData);\r\n        });\r\n    });\r\n\r\n    describe('Name management', () => {\r\n        it('should get name when set', () => {\r\n            classe.name = 'TestName';\r\n            expect(classe.getName()).toBe('TestName');\r\n        });\r\n\r\n        it('should return empty string when name not set', () => {\r\n            expect(classe.getName()).toBe('');\r\n        });\r\n    });\r\n\r\n    describe('Property management', () => {\r\n        it('should add property', () => {\r\n            classe.addProperty(mockProperty);\r\n            expect(classe.getProperties()).toHaveLength(1);\r\n            expect(classe.getProperties()[0]).toBe(mockProperty);\r\n        });\r\n\r\n        it('should get property by name', () => {\r\n            classe.addProperty(mockProperty);\r\n            expect(classe.getProperty('testProperty')).toBe(mockProperty);\r\n        });\r\n\r\n        it('should return undefined for non-existent property', () => {\r\n            expect(classe.getProperty('nonExistent')).toBeUndefined();\r\n        });\r\n\r\n        it('should return copy of properties array', () => {\r\n            classe.addProperty(mockProperty);\r\n            const properties = classe.getProperties();\r\n            properties.push(new MockProperty('another', mockVault));\r\n            expect(classe.getProperties()).toHaveLength(1);\r\n        });\r\n\r\n        it('should handle multiple properties', () => {\r\n            const property2 = new MockProperty('property2', mockVault);\r\n            classe.addProperty(mockProperty);\r\n            classe.addProperty(property2);\r\n            \r\n            expect(classe.getProperties()).toHaveLength(2);\r\n            expect(classe.getProperty('testProperty')).toBe(mockProperty);\r\n            expect(classe.getProperty('property2')).toBe(property2);\r\n        });\r\n    });\r\n\r\n    describe('File operations', () => {\r\n        it('should set file', () => {\r\n            classe.setFile(mockFile);\r\n            expect(classe.getFile()).toBe(mockFile);\r\n        });\r\n\r\n        it('should get file path', () => {\r\n            classe.setFile(mockFile);\r\n            expect(classe.getPath()).toBe('/test/test.md');\r\n        });\r\n\r\n        it('should return undefined path when no file set', () => {\r\n            expect(classe.getPath()).toBeUndefined();\r\n        });\r\n    });\r\n\r\n    describe('Metadata operations', () => {\r\n        beforeEach(() => {\r\n            classe.setFile(mockFile);\r\n        });\r\n\r\n        it('should get metadata', async () => {\r\n            const expectedMetadata = { key: 'value' };\r\n            mockApp.getMetadata.mockResolvedValue(expectedMetadata);\r\n\r\n            const metadata = await classe.getMetadata();\r\n            expect(metadata).toBe(expectedMetadata);\r\n            expect(mockApp.getMetadata).toHaveBeenCalledWith(mockFile);\r\n        });\r\n\r\n        it('should return empty object when no file set', async () => {\r\n            const classeWithoutFile = new TestableClasse(mockVault);\r\n            const metadata = await classeWithoutFile.getMetadata();\r\n            expect(metadata).toEqual({});\r\n        });\r\n\r\n        it('should update metadata', async () => {\r\n            const newMetadata = { key: 'newValue' };\r\n            \r\n            await classe.updateMetadata(newMetadata);\r\n            expect(mockApp.updateMetadata).toHaveBeenCalledWith(mockFile, newMetadata);\r\n        });\r\n\r\n        it('should not update metadata when no file set', async () => {\r\n            const classeWithoutFile = new TestableClasse(mockVault);\r\n            await classeWithoutFile.updateMetadata({ key: 'value' });\r\n            expect(mockApp.updateMetadata).not.toHaveBeenCalled();\r\n        });\r\n\r\n        it('should get property value from metadata', async () => {\r\n            const metadata = { testProperty: 'testValue' };\r\n            mockApp.getMetadata.mockResolvedValue(metadata);\r\n\r\n            const value = await classe.getPropertyValue('testProperty');\r\n            expect(value).toBe('testValue');\r\n        });\r\n\r\n        it('should set property value', async () => {\r\n            const metadata = { existingProperty: 'existingValue' };\r\n            mockApp.getMetadata.mockResolvedValue(metadata);\r\n\r\n            await classe.setPropertyValue('testProperty', 'newValue');\r\n            \r\n            const expectedMetadata = { \r\n                existingProperty: 'existingValue',\r\n                testProperty: 'newValue' \r\n            };\r\n            expect(mockApp.updateMetadata).toHaveBeenCalledWith(mockFile, expectedMetadata);\r\n        });\r\n    });\r\n\r\n    describe('Update and validation', () => {\r\n        beforeEach(() => {\r\n            classe.setFile(mockFile);\r\n        });\r\n\r\n        it('should update without file', async () => {\r\n            const classeWithoutFile = new TestableClasse(mockVault);\r\n            await expect(classeWithoutFile.update()).resolves.not.toThrow();\r\n        });\r\n\r\n        it('should update with file', async () => {\r\n            mockApp.getMetadata.mockResolvedValue({});\r\n            await expect(classe.update()).resolves.not.toThrow();\r\n        });\r\n\r\n        it('should validate all properties successfully', async () => {\r\n            const property1 = new MockProperty('prop1', mockVault);\r\n            const property2 = new MockProperty('prop2', mockVault);\r\n            \r\n            // Mock property validation to return true\r\n            property1.validate = jest.fn().mockReturnValue('validValue1');\r\n            property2.validate = jest.fn().mockReturnValue('validValue2');\r\n            \r\n            classe.addProperty(property1);\r\n            classe.addProperty(property2);\r\n            \r\n            mockApp.getMetadata.mockResolvedValue({\r\n                prop1: 'value1',\r\n                prop2: 'value2'\r\n            });\r\n\r\n            const isValid = await classe.validate();\r\n            expect(isValid).toBe(true);\r\n        });\r\n\r\n        it('should fail validation when property validation fails', async () => {\r\n            const property1 = new MockProperty('prop1', mockVault);\r\n            property1.validate = jest.fn().mockReturnValue(false);\r\n            \r\n            classe.addProperty(property1);\r\n            mockApp.getMetadata.mockResolvedValue({ prop1: 'invalidValue' });\r\n\r\n            const isValid = await classe.validate();\r\n            expect(isValid).toBe(false);\r\n        });\r\n    });\r\n\r\n    describe('Content generation', () => {\r\n        beforeEach(() => {\r\n            classe.setFile(mockFile);\r\n            classe.name = 'TestClass';\r\n            classe.icon = 'test-icon';\r\n        });\r\n\r\n        it('should generate frontmatter with class info', async () => {\r\n            mockApp.getMetadata.mockResolvedValue({});\r\n            \r\n            const frontmatter = await classe['generateFrontMatter']();\r\n            \r\n            expect(frontmatter).toContain('---');\r\n            expect(frontmatter).toContain('type: TestClass');\r\n            expect(frontmatter).toContain('icon: test-icon');\r\n        });\r\n\r\n        it('should generate frontmatter with property values', async () => {\r\n            const property = new MockProperty('testProp', mockVault);\r\n            classe.addProperty(property);\r\n            \r\n            mockApp.getMetadata.mockResolvedValue({\r\n                testProp: 'testValue'\r\n            });\r\n            \r\n            const frontmatter = await classe['generateFrontMatter']();\r\n            expect(frontmatter).toContain('testProp: testValue');\r\n        });\r\n\r\n        it('should generate frontmatter with array values', async () => {\r\n            mockApp.getMetadata.mockResolvedValue({\r\n                arrayProp: ['item1', 'item2']\r\n            });\r\n            \r\n            const frontmatter = await classe['generateFrontMatter']();\r\n            expect(frontmatter).toContain('arrayProp:');\r\n            expect(frontmatter).toContain('  - item1');\r\n            expect(frontmatter).toContain('  - item2');\r\n        });\r\n\r\n        it('should generate frontmatter with object values', async () => {\r\n            mockApp.getMetadata.mockResolvedValue({\r\n                objectProp: { key1: 'value1', key2: 'value2' }\r\n            });\r\n            \r\n            const frontmatter = await classe['generateFrontMatter']();\r\n            expect(frontmatter).toContain('objectProp:');\r\n            expect(frontmatter).toContain('  key1: value1');\r\n            expect(frontmatter).toContain('  key2: value2');\r\n        });\r\n\r\n        it('should generate template content', async () => {\r\n            classe.template = 'test-template';\r\n            const expectedContent = 'Template content here';\r\n            mockApp.getTemplateContent.mockResolvedValue(expectedContent);\r\n            \r\n            const content = await classe['generateTemplateContent']();\r\n            expect(content).toBe(expectedContent);\r\n            expect(mockApp.getTemplateContent).toHaveBeenCalledWith('test-template');\r\n        });\r\n\r\n        it('should handle template not found', async () => {\r\n            classe.template = 'non-existent-template';\r\n            mockApp.getTemplateContent.mockRejectedValue(new Error('Template not found'));\r\n            \r\n            const content = await classe['generateTemplateContent']();\r\n            expect(content).toBe('');\r\n        });\r\n\r\n        it('should generate empty template content when no template set', async () => {\r\n            const content = await classe['generateTemplateContent']();\r\n            expect(content).toBe('');\r\n        });\r\n    });\r\n\r\n    describe('Display methods', () => {\r\n        beforeEach(() => {\r\n            classe.name = 'TestClass';\r\n            classe.icon = 'test-icon';\r\n        });\r\n\r\n        it('should create display element', async () => {\r\n            const mockDiv = document.createElement('div');\r\n            const mockHeader = document.createElement('div');\r\n            mockApp.createDiv.mockReturnValueOnce(mockDiv).mockReturnValueOnce(mockHeader);\r\n            mockApp.getMetadata.mockResolvedValue({});\r\n\r\n            const display = await classe.getDisplay();\r\n            \r\n            expect(mockApp.createDiv).toHaveBeenCalledWith('classe-display');\r\n            expect(mockApp.createDiv).toHaveBeenCalledWith('classe-header');\r\n            expect(mockApp.setIcon).toHaveBeenCalledWith(mockHeader, 'test-icon');\r\n        });\r\n\r\n        it('should include properties in display', async () => {\r\n            const mockDiv = document.createElement('div');\r\n            const mockHeader = document.createElement('div');\r\n            const mockPropertyDiv = document.createElement('div');\r\n            \r\n            mockApp.createDiv.mockReturnValueOnce(mockDiv).mockReturnValueOnce(mockHeader);\r\n            mockApp.getMetadata.mockResolvedValue({ testProperty: 'testValue' });\r\n            \r\n            const mockProperty = new MockProperty('testProperty', mockVault);\r\n            mockProperty.getDisplay = jest.fn().mockResolvedValue(mockPropertyDiv);\r\n            classe.addProperty(mockProperty);\r\n\r\n            const display = await classe.getDisplay();\r\n            \r\n            expect(mockProperty.getDisplay).toHaveBeenCalledWith(classe, 'testValue');\r\n        });\r\n    });\r\n\r\n    describe('Utility methods', () => {\r\n        it('should sanitize file name', () => {\r\n            const sanitized = classe['sanitizeFileName']('test<>:\"/\\\\|?*name');\r\n            expect(sanitized).toBe('test---------name');\r\n        });\r\n\r\n        it('should sanitize file name with spaces', () => {\r\n            const sanitized = classe['sanitizeFileName'](' test name ');\r\n            expect(sanitized).toBe('test name');\r\n        });\r\n\r\n        it('should ensure folder creation', async () => {\r\n            await classe['ensureFolder']('/test/folder');\r\n            expect(mockApp.createFolder).toHaveBeenCalledWith('/test/folder');\r\n        });\r\n\r\n        it('should handle folder creation error gracefully', async () => {\r\n            mockApp.createFolder.mockRejectedValue(new Error('Folder exists'));\r\n            await expect(classe['ensureFolder']('/test/folder')).resolves.not.toThrow();\r\n        });\r\n    });\r\n\r\n    describe('Factory method', () => {\r\n        it('should throw error for base class create method', () => {\r\n            expect(() => Classe.create(mockVault)).toThrow('Must implement create method in subclass');\r\n        });\r\n\r\n        it('should work for subclass create method', () => {\r\n            const instance = TestableClasse.create(mockVault);\r\n            expect(instance).toBeInstanceOf(TestableClasse);\r\n        });\r\n    });\r\n\r\n    describe('Lifecycle hooks', () => {\r\n        it('should call onCreate hook', async () => {\r\n            const spy = jest.spyOn(classe, 'onCreate');\r\n            await classe.onCreate();\r\n            expect(spy).toHaveBeenCalled();\r\n        });\r\n\r\n        it('should call onUpdate hook', async () => {\r\n            const spy = jest.spyOn(classe, 'onUpdate');\r\n            await classe.onUpdate();\r\n            expect(spy).toHaveBeenCalled();\r\n        });\r\n\r\n        it('should call onDelete hook', async () => {\r\n            const spy = jest.spyOn(classe, 'onDelete');\r\n            await classe.onDelete();\r\n            expect(spy).toHaveBeenCalled();\r\n        });\r\n    });\r\n\r\n    describe('Private methods', () => {\r\n        beforeEach(() => {\r\n            classe.setFile(mockFile);\r\n        });\r\n\r\n        it('should update all properties metadata when changes detected', async () => {\r\n            const property1 = new MockProperty('prop1', mockVault);\r\n            const property2 = new MockProperty('prop2', mockVault);\r\n            \r\n            // Mock property validation to return different values\r\n            property1.validate = jest.fn().mockReturnValue('newValue1');\r\n            property2.validate = jest.fn().mockReturnValue('originalValue2');\r\n            \r\n            classe.addProperty(property1);\r\n            classe.addProperty(property2);\r\n            \r\n            const originalMetadata = {\r\n                prop1: 'originalValue1',\r\n                prop2: 'originalValue2'\r\n            };\r\n            \r\n            mockApp.getMetadata.mockResolvedValue(originalMetadata);\r\n\r\n            await classe['updateAllPropertiesMetadata']();\r\n            \r\n            const expectedMetadata = {\r\n                prop1: 'newValue1',\r\n                prop2: 'originalValue2'\r\n            };\r\n            \r\n            expect(mockApp.updateMetadata).toHaveBeenCalledWith(mockFile, expectedMetadata);\r\n        });\r\n\r\n        it('should not update metadata when no changes detected', async () => {\r\n            const property = new MockProperty('prop1', mockVault);\r\n            property.validate = jest.fn().mockReturnValue('sameValue');\r\n            \r\n            classe.addProperty(property);\r\n            \r\n            mockApp.getMetadata.mockResolvedValue({\r\n                prop1: 'sameValue'\r\n            });\r\n\r\n            await classe['updateAllPropertiesMetadata']();\r\n            \r\n            expect(mockApp.updateMetadata).not.toHaveBeenCalled();\r\n        });\r\n    });\r\n\r\n    describe('Edge cases', () => {\r\n        it('should handle empty properties array', () => {\r\n            expect(classe.getProperties()).toHaveLength(0);\r\n            expect(classe.getProperty('any')).toBeUndefined();\r\n        });\r\n\r\n        it('should handle null/undefined values in metadata', async () => {\r\n            classe.setFile(mockFile);\r\n            mockApp.getMetadata.mockResolvedValue({\r\n                nullProp: null,\r\n                undefinedProp: undefined\r\n            });\r\n\r\n            const nullValue = await classe.getPropertyValue('nullProp');\r\n            const undefinedValue = await classe.getPropertyValue('undefinedProp');\r\n            \r\n            expect(nullValue).toBeNull();\r\n            expect(undefinedValue).toBeUndefined();\r\n        });\r\n\r\n        it('should validate empty properties list', async () => {\r\n            const isValid = await classe.validate();\r\n            expect(isValid).toBe(true);\r\n        });\r\n    });\r\n});"],"version":3}