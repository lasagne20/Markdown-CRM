{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\MultiSelectProperty.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\MultiSelectProperty.test.ts"],"sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\r\nimport { MyVault } from '../src/vault/MyVault';\r\nimport { MultiSelectProperty } from '../src/properties/MultiSelectProperty';\r\n\r\n// Mocks\r\njest.mock('../src/vault/MyVault');\r\n\r\ndescribe('MultiSelectProperty', () => {\r\n    let multiSelectProperty: MultiSelectProperty;\r\n    let mockVault: jest.Mocked<MyVault>;\r\n    let mockUpdate: jest.Mock<Promise<void>, [string[]]>;\r\n    let options: {name: string, color: string}[];\r\n\r\n    beforeEach(() => {\r\n        // Reset DOM\r\n        document.body.innerHTML = '';\r\n        // Reset all mocks\r\n        jest.clearAllMocks();\r\n\r\n        // Setup test options\r\n        options = [\r\n            { name: 'Option 1', color: '#FF0000' },\r\n            { name: 'Option 2', color: '#00FF00' },\r\n            { name: 'Option 3', color: '#0000FF' }\r\n        ];\r\n\r\n        // Setup mocks\r\n        mockVault = {\r\n            getPersonalName: jest.fn().mockReturnValue('John Doe')\r\n        } as any;\r\n\r\n        mockUpdate = jest.fn().mockResolvedValue(undefined);\r\n    });\r\n\r\n    describe('Constructor', () => {\r\n        test('should create MultiSelectProperty with required parameters', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n\r\n            expect(multiSelectProperty.name).toBe('testSelect');\r\n            expect(multiSelectProperty.type).toBe('multiSelect');\r\n            expect(multiSelectProperty.options).toEqual(options);\r\n        });\r\n\r\n        test('should handle custom arguments', () => {\r\n            const args = { icon: 'list', defaultValue: ['Option 1'] };\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options, args);\r\n\r\n            expect(multiSelectProperty.name).toBe('testSelect');\r\n            expect(multiSelectProperty.options).toEqual(options);\r\n            expect(multiSelectProperty.icon).toBe('list');\r\n        });\r\n\r\n        test('should handle empty options array', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', []);\r\n\r\n            expect(multiSelectProperty.options).toEqual([]);\r\n        });\r\n    });\r\n\r\n    describe('fillDisplay', () => {\r\n        beforeEach(() => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n        });\r\n\r\n        test('should create field container with correct structure', () => {\r\n            const value: string[] = [];\r\n            \r\n            const container = multiSelectProperty.fillDisplay(mockVault, value, mockUpdate);\r\n\r\n            expect(container).toBeDefined();\r\n            expect(container.classList.contains('metadata-field')).toBe(true);\r\n        });\r\n\r\n        test('should set vault property', () => {\r\n            const value: string[] = [];\r\n            \r\n            multiSelectProperty.fillDisplay(mockVault, value, mockUpdate);\r\n\r\n            expect(multiSelectProperty.vault).toBe(mockVault);\r\n        });\r\n\r\n        test('should create header with correct text', () => {\r\n            const value: string[] = [];\r\n            \r\n            const container = multiSelectProperty.fillDisplay(mockVault, value, mockUpdate);\r\n            const header = container.querySelector('.metadata-header');\r\n\r\n            expect(header).toBeDefined();\r\n            expect(header?.textContent).toBe('testSelect');\r\n        });\r\n\r\n        test('should create button container', () => {\r\n            const value: string[] = [];\r\n            \r\n            const container = multiSelectProperty.fillDisplay(mockVault, value, mockUpdate);\r\n            const buttonContainer = container.querySelector('.multi-select-container');\r\n\r\n            expect(buttonContainer).toBeDefined();\r\n        });\r\n\r\n        test('should handle null/undefined value', () => {\r\n            const container1 = multiSelectProperty.fillDisplay(mockVault, null, mockUpdate);\r\n            const container2 = multiSelectProperty.fillDisplay(mockVault, undefined, mockUpdate);\r\n\r\n            expect(container1).toBeDefined();\r\n            expect(container2).toBeDefined();\r\n        });\r\n    });\r\n\r\n    describe('getDefaultValue', () => {\r\n        test('should replace personalName with actual name from vault', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n            multiSelectProperty.default = ['personalName', 'Option 1'];\r\n\r\n            const result = multiSelectProperty.getDefaultValue(mockVault);\r\n\r\n            expect(result).toEqual(['John Doe', 'Option 1']);\r\n            expect(mockVault.getPersonalName).toHaveBeenCalled();\r\n        });\r\n\r\n        test('should not modify values that are not personalName', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n            multiSelectProperty.default = ['Option 1', 'Option 2'];\r\n\r\n            const result = multiSelectProperty.getDefaultValue(mockVault);\r\n\r\n            expect(result).toEqual(['Option 1', 'Option 2']);\r\n        });\r\n\r\n        test('should handle array with no personalName', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n            multiSelectProperty.default = ['Option 3'];\r\n\r\n            const result = multiSelectProperty.getDefaultValue(mockVault);\r\n\r\n            expect(result).toEqual(['Option 3']);\r\n            expect(mockVault.getPersonalName).not.toHaveBeenCalled();\r\n        });\r\n\r\n        test('should handle empty default array', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n            multiSelectProperty.default = [];\r\n\r\n            const result = multiSelectProperty.getDefaultValue(mockVault);\r\n\r\n            expect(result).toEqual([]);\r\n        });\r\n\r\n        test('should handle multiple personalName entries', () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n            multiSelectProperty.default = ['personalName', 'Option 1', 'personalName'];\r\n\r\n            const result = multiSelectProperty.getDefaultValue(mockVault);\r\n\r\n            expect(result).toEqual(['John Doe', 'Option 1', 'John Doe']);\r\n            expect(mockVault.getPersonalName).toHaveBeenCalledTimes(2);\r\n        });\r\n    });\r\n\r\n    describe('createButtonGroup', () => {\r\n        beforeEach(() => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n        });\r\n\r\n        test('should create button for each option', () => {\r\n            const value: string[] = [];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button');\r\n\r\n            expect(buttons.length).toBe(3);\r\n            expect(buttons[0].textContent).toBe('Option 1');\r\n            expect(buttons[1].textContent).toBe('Option 2');\r\n            expect(buttons[2].textContent).toBe('Option 3');\r\n        });\r\n\r\n        test('should mark selected options as selected', () => {\r\n            const value: string[] = ['Option 1', 'Option 3'];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button');\r\n\r\n            expect(buttons[0].classList.contains('selected')).toBe(true);\r\n            expect(buttons[1].classList.contains('selected')).toBe(false);\r\n            expect(buttons[2].classList.contains('selected')).toBe(true);\r\n        });\r\n\r\n        test('should handle empty selection', () => {\r\n            const value: string[] = [];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button');\r\n\r\n            buttons.forEach(button => {\r\n                expect(button.classList.contains('selected')).toBe(false);\r\n            });\r\n        });\r\n\r\n        test('should handle all options selected', () => {\r\n            const value: string[] = ['Option 1', 'Option 2', 'Option 3'];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button');\r\n\r\n            buttons.forEach(button => {\r\n                expect(button.classList.contains('selected')).toBe(true);\r\n            });\r\n        });\r\n\r\n        test('should add container class', () => {\r\n            const value: string[] = [];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n\r\n            expect(buttonContainer.classList.contains('multi-select-container')).toBe(true);\r\n        });\r\n    });\r\n\r\n    describe('Button click functionality', () => {\r\n        beforeEach(() => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n        });\r\n\r\n        test('should select unselected option on click', async () => {\r\n            const value: string[] = [];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const firstButton = buttonContainer.querySelector('.multi-select-button') as HTMLElement;\r\n\r\n            await firstButton.click();\r\n\r\n            expect(mockUpdate).toHaveBeenCalledWith(['Option 1']);\r\n        });\r\n\r\n        test('should deselect selected option on click', async () => {\r\n            const value: string[] = ['Option 1', 'Option 2'];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const firstButton = buttonContainer.querySelector('.multi-select-button') as HTMLElement;\r\n\r\n            await firstButton.click();\r\n\r\n            expect(mockUpdate).toHaveBeenCalledWith(['Option 2']);\r\n        });\r\n\r\n        test('should handle multiple selections', async () => {\r\n            const value: string[] = [];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button') as NodeListOf<HTMLElement>;\r\n\r\n            // Click first button\r\n            await buttons[0].click();\r\n            expect(mockUpdate).toHaveBeenCalledWith(['Option 1']);\r\n\r\n            // Reset mock for next test\r\n            mockUpdate.mockClear();\r\n\r\n            // Simulate value update\r\n            const newValue = ['Option 1'];\r\n            const newButtonContainer = multiSelectProperty.createButtonGroup(newValue, mockUpdate);\r\n            const newButtons = newButtonContainer.querySelectorAll('.multi-select-button') as NodeListOf<HTMLElement>;\r\n\r\n            // Click second button\r\n            await newButtons[1].click();\r\n            expect(mockUpdate).toHaveBeenCalledWith(['Option 1', 'Option 2']);\r\n        });\r\n\r\n        test('should handle button click with update error', async () => {\r\n            mockUpdate.mockRejectedValue(new Error('Update failed'));\r\n            const value: string[] = [];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const firstButton = buttonContainer.querySelector('.multi-select-button') as HTMLElement;\r\n\r\n            // Mock click event to test error handling\r\n            const clickHandler = async () => {\r\n                try {\r\n                    const selectedValues = new Set(['Option 1']);\r\n                    await mockUpdate([...selectedValues]);\r\n                    multiSelectProperty.updateButtonState(buttonContainer, selectedValues);\r\n                } catch (error) {\r\n                    // Error should be handled gracefully\r\n                }\r\n            };\r\n\r\n            // Should not throw unhandled error\r\n            await expect(clickHandler()).resolves.toBeUndefined();\r\n            expect(mockUpdate).toHaveBeenCalled();\r\n        });\r\n    });\r\n\r\n    describe('updateButtonState', () => {\r\n        beforeEach(() => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n        });\r\n\r\n        test('should update button classes based on selected values', () => {\r\n            const value: string[] = [];\r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const selectedValues = new Set(['Option 1', 'Option 3']);\r\n\r\n            multiSelectProperty.updateButtonState(buttonContainer, selectedValues);\r\n\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button');\r\n            expect(buttons[0].classList.contains('selected')).toBe(true);\r\n            expect(buttons[1].classList.contains('selected')).toBe(false);\r\n            expect(buttons[2].classList.contains('selected')).toBe(true);\r\n        });\r\n\r\n        test('should remove all selections when set is empty', () => {\r\n            const value: string[] = ['Option 1', 'Option 2', 'Option 3'];\r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const selectedValues = new Set<string>([]);\r\n\r\n            multiSelectProperty.updateButtonState(buttonContainer, selectedValues);\r\n\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button');\r\n            buttons.forEach(button => {\r\n                expect(button.classList.contains('selected')).toBe(false);\r\n            });\r\n        });\r\n\r\n        test('should handle buttons with no text content', () => {\r\n            const value: string[] = [];\r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            \r\n            // Manually create a button with no text content\r\n            const emptyButton = document.createElement('button');\r\n            emptyButton.classList.add('multi-select-button');\r\n            buttonContainer.appendChild(emptyButton);\r\n\r\n            const selectedValues = new Set(['Option 1']);\r\n\r\n            // Should not throw error\r\n            expect(() => {\r\n                multiSelectProperty.updateButtonState(buttonContainer, selectedValues);\r\n            }).not.toThrow();\r\n        });\r\n    });\r\n\r\n    describe('Integration tests', () => {\r\n        test('should work with real DOM interactions', () => {\r\n            multiSelectProperty = new MultiSelectProperty('Categories', [\r\n                { name: 'Work', color: '#FF0000' },\r\n                { name: 'Personal', color: '#00FF00' }\r\n            ]);\r\n\r\n            const container = multiSelectProperty.fillDisplay(mockVault, ['Work'], mockUpdate);\r\n            document.body.appendChild(container);\r\n\r\n            const workButton = document.querySelector('[textContent=\"Work\"]') as HTMLElement;\r\n            const personalButton = document.querySelector('[textContent=\"Personal\"]') as HTMLElement;\r\n\r\n            expect(workButton).toBeDefined();\r\n            expect(personalButton).toBeDefined();\r\n        });\r\n\r\n        test('should handle edge case with no options', () => {\r\n            multiSelectProperty = new MultiSelectProperty('Empty', []);\r\n\r\n            const container = multiSelectProperty.fillDisplay(mockVault, [], mockUpdate);\r\n            const buttons = container.querySelectorAll('.multi-select-button');\r\n\r\n            expect(buttons.length).toBe(0);\r\n        });\r\n\r\n        test('should maintain state consistency', async () => {\r\n            multiSelectProperty = new MultiSelectProperty('testSelect', options);\r\n            const value: string[] = ['Option 2'];\r\n            \r\n            const buttonContainer = multiSelectProperty.createButtonGroup(value, mockUpdate);\r\n            const buttons = buttonContainer.querySelectorAll('.multi-select-button') as NodeListOf<HTMLElement>;\r\n\r\n            // Verify initial state\r\n            expect(buttons[1].classList.contains('selected')).toBe(true);\r\n\r\n            // Click to deselect\r\n            await buttons[1].click();\r\n            expect(mockUpdate).toHaveBeenCalledWith([]);\r\n\r\n            // Click to select again\r\n            mockUpdate.mockClear();\r\n            const newButtonContainer = multiSelectProperty.createButtonGroup([], mockUpdate);\r\n            const newButtons = newButtonContainer.querySelectorAll('.multi-select-button') as NodeListOf<HTMLElement>;\r\n            \r\n            await newButtons[1].click();\r\n            expect(mockUpdate).toHaveBeenCalledWith(['Option 2']);\r\n        });\r\n    });\r\n});\r\n"],"version":3}