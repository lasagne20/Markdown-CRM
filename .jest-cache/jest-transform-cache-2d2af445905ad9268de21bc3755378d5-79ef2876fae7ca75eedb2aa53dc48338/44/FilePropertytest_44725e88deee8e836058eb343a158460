87fc8ac3af3fe1145914dcd37dfd2614
"use strict";
/**
 * @jest-environment jsdom
 */
Object.defineProperty(exports, "__esModule", { value: true });
// Mock entire modules
jest.mock('../../src/vault/Utils', () => ({
    setIcon: jest.fn(),
    Notice: jest.fn(),
    selectFile: jest.fn()
}));
const FileProperty_1 = require("../../src/properties/FileProperty");
const LinkProperty_1 = require("../../src/properties/LinkProperty");
// Mock global functions
global.selectFile = jest.fn();
// Get reference to mocked function
const { selectFile } = require('../../src/vault/Utils');
describe('FileProperty', () => {
    let fileProperty;
    let mockVault;
    beforeEach(() => {
        // Reset DOM mocks
        document.body.innerHTML = '';
        jest.clearAllMocks();
        // Mock vault with necessary methods
        mockVault = {
            readLinkFile: jest.fn(),
            getFromLink: jest.fn(),
            getFromFile: jest.fn(),
            app: {
                vault: {
                    getName: jest.fn().mockReturnValue('TestVault'),
                    getAbstractFileByPath: jest.fn()
                },
                workspace: {
                    getLeaf: jest.fn().mockReturnValue({
                        openFile: jest.fn()
                    })
                },
                setIcon: jest.fn(),
                selectFile: jest.fn()
            }
        };
    });
    beforeEach(() => {
        fileProperty = new FileProperty_1.FileProperty('testFile', mockVault, ['class1', 'class2']);
    });
    describe('constructor', () => {
        it('should create FileProperty with correct type', () => {
            expect(fileProperty.type).toBe('file');
        });
        it('should inherit from LinkProperty', () => {
            expect(fileProperty).toBeInstanceOf(LinkProperty_1.LinkProperty);
        });
        it('should store classes correctly', () => {
            expect(fileProperty.classes).toEqual(['class1', 'class2']);
        });
        it('should pass args to parent constructor', () => {
            const customArgs = { icon: 'custom-icon' };
            const customProperty = new FileProperty_1.FileProperty('customName', mockVault, ['class1'], customArgs);
            expect(customProperty.name).toBe('customName');
            expect(customProperty.classes).toEqual(['class1']);
        });
        it('should handle empty classes array', () => {
            const emptyClassProperty = new FileProperty_1.FileProperty('empty', mockVault, []);
            expect(emptyClassProperty.classes).toEqual([]);
        });
    });
    describe('getClasses', () => {
        it('should return classes array', () => {
            expect(fileProperty.getClasses()).toEqual(['class1', 'class2']);
        });
        it('should return empty array when no classes', () => {
            const emptyProperty = new FileProperty_1.FileProperty('test', mockVault, []);
            expect(emptyProperty.getClasses()).toEqual([]);
        });
        it('should return same reference to classes array', () => {
            const classes = ['test1', 'test2'];
            const property = new FileProperty_1.FileProperty('test', mockVault, classes);
            expect(property.getClasses()).toBe(classes);
        });
    });
    // describe('getParentValue', () => {
    //     it('should return input value unchanged', () => {
    //         const testValue = '[[TestFile]]';
    //         expect(fileProperty.getParentValue(testValue)).toBe(testValue);
    //     });
    //     it('should handle null value', () => {
    //         expect(fileProperty.getParentValue(null)).toBe(null);
    //     });
    //     it('should handle undefined value', () => {
    //         expect(fileProperty.getParentValue(undefined)).toBe(undefined);
    //     });
    //     it('should handle object values', () => {
    //         const objectValue = { test: 'value' };
    //         expect(fileProperty.getParentValue(objectValue)).toBe(objectValue);
    //     });
    // });
    describe('getPretty', () => {
        it('should call vault.readLinkFile with value', () => {
            const testValue = '[[TestFile]]';
            mockVault.readLinkFile.mockReturnValue('TestFile');
            fileProperty.vault = mockVault;
            const result = fileProperty.getPretty(testValue);
            expect(mockVault.readLinkFile).toHaveBeenCalledWith(testValue);
            expect(result).toBe('TestFile');
        });
        it('should handle empty value', () => {
            mockVault.readLinkFile.mockReturnValue('');
            fileProperty.vault = mockVault;
            const result = fileProperty.getPretty('');
            expect(mockVault.readLinkFile).toHaveBeenCalledWith('');
            expect(result).toBe('');
        });
    });
    describe('getClasse', () => {
        it('should return classe when found', () => {
            const mockClasse = { name: 'TestClass' };
            const mockRead = {};
            const testLink = '[[TestFile]]';
            fileProperty.read = jest.fn().mockReturnValue(testLink);
            mockVault.getFromLink.mockReturnValue(mockClasse);
            fileProperty.vault = mockVault;
            const result = fileProperty.getClasse(mockRead);
            expect(fileProperty.read).toHaveBeenCalledWith(mockRead);
            expect(mockVault.getFromLink).toHaveBeenCalledWith(testLink);
            expect(result).toBe(mockClasse);
        });
        it('should return undefined when no link found', () => {
            const mockRead = {};
            fileProperty.read = jest.fn().mockReturnValue(null);
            fileProperty.vault = mockVault;
            const result = fileProperty.getClasse(mockRead);
            expect(result).toBeUndefined();
        });
        it('should return undefined when classe not found', () => {
            const mockRead = {};
            const testLink = '[[TestFile]]';
            fileProperty.read = jest.fn().mockReturnValue(testLink);
            mockVault.getFromLink.mockReturnValue(null);
            fileProperty.vault = mockVault;
            const result = fileProperty.getClasse(mockRead);
            expect(result).toBeUndefined();
        });
    });
    describe('validate', () => {
        it('should extract and return valid Obsidian link', () => {
            const input = '[[TestFile]]';
            expect(fileProperty.validate(input)).toBe('[[TestFile]]');
        });
        it('should extract link from text with link', () => {
            const input = 'Some text [[TestFile]] more text';
            expect(fileProperty.validate(input)).toBe('[[TestFile]]');
        });
        it('should handle link with alias', () => {
            const input = '[[TestFile|Alias]]';
            expect(fileProperty.validate(input)).toBe('[[TestFile|Alias]]');
        });
        it('should return empty string for invalid format', () => {
            const input = 'Just plain text';
            expect(fileProperty.validate(input)).toBe('');
        });
        it('should return empty string for malformed links', () => {
            const input = '[[TestFile';
            expect(fileProperty.validate(input)).toBe('');
        });
        it('should handle empty string', () => {
            expect(fileProperty.validate('')).toBe('');
        });
        it('should handle multiple links and return first', () => {
            const input = '[[FirstFile]] and [[SecondFile]]';
            expect(fileProperty.validate(input)).toBe('[[FirstFile]]');
        });
    });
    describe('getLink', () => {
        beforeEach(() => {
            fileProperty.vault = mockVault;
        });
        it('should generate obsidian URL with file path when file exists', () => {
            const testValue = '[[TestFile]]';
            const filePath = 'path/to/TestFile.md';
            mockVault.readLinkFile.mockReturnValueOnce(filePath).mockReturnValueOnce('TestFile');
            mockVault.app.vault.getAbstractFileByPath.mockReturnValue(true);
            const result = fileProperty.getLink(testValue);
            expect(result).toBe('obsidian://open?vault=TestVault&file=path%2Fto%2FTestFile.md');
        });
        it('should use fallback when file does not exist', () => {
            const testValue = '[[TestFile]]';
            const filePath = 'path/to/TestFile.md';
            mockVault.readLinkFile.mockReturnValueOnce(filePath).mockReturnValueOnce('TestFile');
            mockVault.app.vault.getAbstractFileByPath.mockReturnValue(null);
            const result = fileProperty.getLink(testValue);
            expect(result).toBe('obsidian://open?vault=TestVault&file=TestFile');
        });
        it('should set vault when provided as parameter', () => {
            const newVault = { ...mockVault };
            fileProperty.vault = null;
            mockVault.readLinkFile.mockReturnValue('TestFile');
            mockVault.app.vault.getAbstractFileByPath.mockReturnValue(null);
            fileProperty.getLink('[[TestFile]]', newVault);
            expect(fileProperty.vault).toBe(newVault);
        });
        it('should encode special characters in vault name', () => {
            const testValue = '[[TestFile]]';
            mockVault.app.vault.getName.mockReturnValue('My Vault & Stuff');
            mockVault.readLinkFile.mockReturnValue('TestFile');
            mockVault.app.vault.getAbstractFileByPath.mockReturnValue(null);
            const result = fileProperty.getLink(testValue);
            expect(result).toContain('vault=My%20Vault%20%26%20Stuff');
        });
    });
    describe('createIconContainer', () => {
        it('should create icon container with correct structure', () => {
            const mockUpdate = jest.fn();
            const result = fileProperty.createIconContainer(mockUpdate);
            expect(result.tagName).toBe('DIV');
            expect(result.classList.contains('icon-container')).toBe(true);
            expect(result.children.length).toBe(1);
        });
        it('should set cursor pointer when not static', () => {
            const mockUpdate = jest.fn();
            fileProperty.static = false;
            const result = fileProperty.createIconContainer(mockUpdate);
            const icon = result.children[0];
            expect(icon.style.cursor).toBe('pointer');
        });
        it('should not set cursor pointer when static', () => {
            const mockUpdate = jest.fn();
            fileProperty.static = true;
            const result = fileProperty.createIconContainer(mockUpdate);
            const icon = result.children[0];
            expect(icon.style.cursor).toBe('');
        });
    });
    describe('handleIconClick', () => {
        beforeEach(() => {
            fileProperty.vault = mockVault;
        });
        it('should call selectFile with correct parameters', async () => {
            const mockUpdate = jest.fn();
            const mockEvent = {
                target: document.createElement('div')
            };
            mockVault.app.selectFile.mockResolvedValue(null);
            await fileProperty.handleIconClick(mockUpdate, mockEvent);
            expect(mockVault.app.selectFile).toHaveBeenCalledWith(mockVault, ['class1', 'class2'], { hint: "Choisissez un fichier class1 ou class2" });
        });
        it('should update value when file selected', async () => {
            const mockUpdate = jest.fn();
            const mockFile = {
                getLink: jest.fn().mockReturnValue('[[SelectedFile]]')
            };
            const mockEvent = {
                target: document.createElement('div')
            };
            mockVault.app.mockVault.app.selectFile.mockResolvedValue(mockFile);
            await fileProperty.handleIconClick(mockUpdate, mockEvent);
            expect(mockUpdate).toHaveBeenCalledWith('[[SelectedFile]]');
        });
        it('should not update when no file selected', async () => {
            const mockUpdate = jest.fn();
            const mockEvent = {
                target: document.createElement('div')
            };
            mockVault.app.selectFile.mockResolvedValue(null);
            await fileProperty.handleIconClick(mockUpdate, mockEvent);
            expect(mockUpdate).not.toHaveBeenCalled();
        });
    });
    describe('createFieldContainerContent', () => {
        beforeEach(() => {
            fileProperty.vault = mockVault;
        });
        it('should create field container with correct structure', () => {
            const mockUpdate = jest.fn();
            const testValue = '[[TestFile]]';
            mockVault.readLinkFile.mockReturnValue('TestFile');
            fileProperty.getLink = jest.fn().mockReturnValue('obsidian://test');
            const result = fileProperty.createFieldContainerContent(mockUpdate, testValue);
            expect(result.tagName).toBe('DIV');
            expect(result.classList.contains('field-container')).toBe(true);
        });
        it('should create link with correct href and text', () => {
            const mockUpdate = jest.fn();
            const testValue = '[[TestFile]]';
            mockVault.readLinkFile.mockReturnValue('TestFile');
            fileProperty.getLink = jest.fn().mockReturnValue('obsidian://test');
            const result = fileProperty.createFieldContainerContent(mockUpdate, testValue);
            const link = result.querySelector('a');
            expect(link?.href).toBe('obsidian://test');
            expect(link?.textContent).toBe('TestFile');
            expect(link?.classList.contains('field-link')).toBe(true);
        });
        it('should handle empty value', () => {
            const mockUpdate = jest.fn();
            const testValue = '';
            mockVault.readLinkFile.mockReturnValue('');
            fileProperty.getLink = jest.fn().mockReturnValue('obsidian://test');
            const result = fileProperty.createFieldContainerContent(mockUpdate, testValue);
            const link = result.querySelector('a');
            expect(link?.textContent).toBe('');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxfX3Rlc3RzX19cXFByb3BlcnRpZXNcXEZpbGVQcm9wZXJ0eS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7R0FFRzs7QUFLSCxzQkFBc0I7QUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3RDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2xCLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2pCLFVBQVUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQ3hCLENBQUMsQ0FBQyxDQUFDO0FBUkosb0VBQWlFO0FBQ2pFLG9FQUFpRTtBQVNqRSx3QkFBd0I7QUFDdkIsTUFBYyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7QUFFdkMsbUNBQW1DO0FBQ25DLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQztBQUV4RCxRQUFRLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRTtJQUMxQixJQUFJLFlBQTBCLENBQUM7SUFDL0IsSUFBSSxTQUFjLENBQUM7SUFFbkIsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNaLGtCQUFrQjtRQUNsQixRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRXJCLG9DQUFvQztRQUNwQyxTQUFTLEdBQUc7WUFDUixZQUFZLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUN2QixXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUN0QixXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUN0QixHQUFHLEVBQUU7Z0JBQ0Qs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QUFDLEdBQUcsQ0FBQyxDQUFDO1lBRXZDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDM0MsTUFBTSxDQUFDLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDM0MsTUFBTSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDJCQUEyQixFQUFFLEdBQUcsRUFBRTtZQUNqQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDN0IsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBRXJCLFNBQVMsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNDLFlBQVksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBRXBFLE1BQU0sTUFBTSxHQUFHLFlBQVksQ0FBQywyQkFBMkIsQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDL0UsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUV2QyxNQUFNLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxfX3Rlc3RzX19cXFByb3BlcnRpZXNcXEZpbGVQcm9wZXJ0eS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEZpbGVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3NyYy9wcm9wZXJ0aWVzL0ZpbGVQcm9wZXJ0eSc7XHJcbmltcG9ydCB7IExpbmtQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3NyYy9wcm9wZXJ0aWVzL0xpbmtQcm9wZXJ0eSc7XHJcblxyXG4vLyBNb2NrIGVudGlyZSBtb2R1bGVzXHJcbmplc3QubW9jaygnLi4vLi4vc3JjL3ZhdWx0L1V0aWxzJywgKCkgPT4gKHtcclxuICAgIHNldEljb246IGplc3QuZm4oKSxcclxuICAgIE5vdGljZTogamVzdC5mbigpLFxyXG4gICAgc2VsZWN0RmlsZTogamVzdC5mbigpXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgZ2xvYmFsIGZ1bmN0aW9uc1xyXG4oZ2xvYmFsIGFzIGFueSkuc2VsZWN0RmlsZSA9IGplc3QuZm4oKTtcclxuXHJcbi8vIEdldCByZWZlcmVuY2UgdG8gbW9ja2VkIGZ1bmN0aW9uXHJcbmNvbnN0IHsgc2VsZWN0RmlsZSB9ID0gcmVxdWlyZSgnLi4vLi4vc3JjL3ZhdWx0L1V0aWxzJyk7XHJcblxyXG5kZXNjcmliZSgnRmlsZVByb3BlcnR5JywgKCkgPT4ge1xyXG4gICAgbGV0IGZpbGVQcm9wZXJ0eTogRmlsZVByb3BlcnR5O1xyXG4gICAgbGV0IG1vY2tWYXVsdDogYW55O1xyXG5cclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAgIC8vIFJlc2V0IERPTSBtb2Nrc1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTW9jayB2YXVsdCB3aXRoIG5lY2Vzc2FyeSBtZXRob2RzXHJcbiAgICAgICAgbW9ja1ZhdWx0ID0ge1xyXG4gICAgICAgICAgICByZWFkTGlua0ZpbGU6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgZ2V0RnJvbUxpbms6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgZ2V0RnJvbUZpbGU6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgYXBwOiB7XHJcbiAgICAgICAgICAgICAgICB2YXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldE5hbWU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJ1Rlc3RWYXVsdCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldEFic3RyYWN0RmlsZUJ5UGF0aDogamVzdC5mbigpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgd29ya3NwYWNlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TGVhZjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5GaWxlOiBqZXN0LmZuKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldEljb246IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdEZpbGU6IGplc3QuZm4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAgIGZpbGVQcm9wZXJ0eSA9IG5ldyBGaWxlUHJvcGVydHkoJ3Rlc3RGaWxlJywgbW9ja1ZhdWx0LCBbJ2NsYXNzMScsICdjbGFzczInXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnY29uc3RydWN0b3InLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgRmlsZVByb3BlcnR5IHdpdGggY29ycmVjdCB0eXBlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LnR5cGUpLnRvQmUoJ2ZpbGUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBpbmhlcml0IGZyb20gTGlua1Byb3BlcnR5JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5KS50b0JlSW5zdGFuY2VPZihMaW5rUHJvcGVydHkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHN0b3JlIGNsYXNzZXMgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LmNsYXNzZXMpLnRvRXF1YWwoWydjbGFzczEnLCAnY2xhc3MyJ10pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHBhc3MgYXJncyB0byBwYXJlbnQgY29uc3RydWN0b3InLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUFyZ3MgPSB7IGljb246ICdjdXN0b20taWNvbicgfTtcclxuICAgICAgICAgICAgY29uc3QgY3VzdG9tUHJvcGVydHkgPSBuZXcgRmlsZVByb3BlcnR5KCdjdXN0b21OYW1lJywgbW9ja1ZhdWx0LCBbJ2NsYXNzMSddLCBjdXN0b21BcmdzKTtcclxuICAgICAgICAgICAgZXhwZWN0KGN1c3RvbVByb3BlcnR5Lm5hbWUpLnRvQmUoJ2N1c3RvbU5hbWUnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGN1c3RvbVByb3BlcnR5LmNsYXNzZXMpLnRvRXF1YWwoWydjbGFzczEnXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGNsYXNzZXMgYXJyYXknLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtcHR5Q2xhc3NQcm9wZXJ0eSA9IG5ldyBGaWxlUHJvcGVydHkoJ2VtcHR5JywgbW9ja1ZhdWx0LCBbXSk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbXB0eUNsYXNzUHJvcGVydHkuY2xhc3NlcykudG9FcXVhbChbXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnZ2V0Q2xhc3NlcycsICgpID0+IHtcclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBjbGFzc2VzIGFycmF5JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LmdldENsYXNzZXMoKSkudG9FcXVhbChbJ2NsYXNzMScsICdjbGFzczInXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gbm8gY2xhc3NlcycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZW1wdHlQcm9wZXJ0eSA9IG5ldyBGaWxlUHJvcGVydHkoJ3Rlc3QnLCBtb2NrVmF1bHQsIFtdKTtcclxuICAgICAgICAgICAgZXhwZWN0KGVtcHR5UHJvcGVydHkuZ2V0Q2xhc3NlcygpKS50b0VxdWFsKFtdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gc2FtZSByZWZlcmVuY2UgdG8gY2xhc3NlcyBhcnJheScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFsndGVzdDEnLCAndGVzdDInXTtcclxuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBuZXcgRmlsZVByb3BlcnR5KCd0ZXN0JywgbW9ja1ZhdWx0LCBjbGFzc2VzKTtcclxuICAgICAgICAgICAgZXhwZWN0KHByb3BlcnR5LmdldENsYXNzZXMoKSkudG9CZShjbGFzc2VzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGRlc2NyaWJlKCdnZXRQYXJlbnRWYWx1ZScsICgpID0+IHtcclxuICAgIC8vICAgICBpdCgnc2hvdWxkIHJldHVybiBpbnB1dCB2YWx1ZSB1bmNoYW5nZWQnLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGNvbnN0IHRlc3RWYWx1ZSA9ICdbW1Rlc3RGaWxlXV0nO1xyXG4gICAgLy8gICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LmdldFBhcmVudFZhbHVlKHRlc3RWYWx1ZSkpLnRvQmUodGVzdFZhbHVlKTtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCB2YWx1ZScsICgpID0+IHtcclxuICAgIC8vICAgICAgICAgZXhwZWN0KGZpbGVQcm9wZXJ0eS5nZXRQYXJlbnRWYWx1ZShudWxsKSkudG9CZShudWxsKTtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIHZhbHVlJywgKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LmdldFBhcmVudFZhbHVlKHVuZGVmaW5lZCkpLnRvQmUodW5kZWZpbmVkKTtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgb2JqZWN0IHZhbHVlcycsICgpID0+IHtcclxuICAgIC8vICAgICAgICAgY29uc3Qgb2JqZWN0VmFsdWUgPSB7IHRlc3Q6ICd2YWx1ZScgfTtcclxuICAgIC8vICAgICAgICAgZXhwZWN0KGZpbGVQcm9wZXJ0eS5nZXRQYXJlbnRWYWx1ZShvYmplY3RWYWx1ZSkpLnRvQmUob2JqZWN0VmFsdWUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ2dldFByZXR0eScsICgpID0+IHtcclxuICAgICAgICBpdCgnc2hvdWxkIGNhbGwgdmF1bHQucmVhZExpbmtGaWxlIHdpdGggdmFsdWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlc3RWYWx1ZSA9ICdbW1Rlc3RGaWxlXV0nO1xyXG4gICAgICAgICAgICBtb2NrVmF1bHQucmVhZExpbmtGaWxlLm1vY2tSZXR1cm5WYWx1ZSgnVGVzdEZpbGUnKTtcclxuICAgICAgICAgICAgZmlsZVByb3BlcnR5LnZhdWx0ID0gbW9ja1ZhdWx0O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZmlsZVByb3BlcnR5LmdldFByZXR0eSh0ZXN0VmFsdWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KG1vY2tWYXVsdC5yZWFkTGlua0ZpbGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ1Rlc3RGaWxlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHZhbHVlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2NrVmF1bHQucmVhZExpbmtGaWxlLm1vY2tSZXR1cm5WYWx1ZSgnJyk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG1vY2tWYXVsdDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5nZXRQcmV0dHkoJycpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KG1vY2tWYXVsdC5yZWFkTGlua0ZpbGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnZ2V0Q2xhc3NlJywgKCkgPT4ge1xyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGNsYXNzZSB3aGVuIGZvdW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrQ2xhc3NlID0geyBuYW1lOiAnVGVzdENsYXNzJyB9O1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrUmVhZCA9IHt9IGFzIGFueTtcclxuICAgICAgICAgICAgY29uc3QgdGVzdExpbmsgPSAnW1tUZXN0RmlsZV1dJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS5yZWFkID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh0ZXN0TGluayk7XHJcbiAgICAgICAgICAgIG1vY2tWYXVsdC5nZXRGcm9tTGluay5tb2NrUmV0dXJuVmFsdWUobW9ja0NsYXNzZSk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG1vY2tWYXVsdDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5nZXRDbGFzc2UobW9ja1JlYWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KGZpbGVQcm9wZXJ0eS5yZWFkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrUmVhZCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChtb2NrVmF1bHQuZ2V0RnJvbUxpbmspLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RMaW5rKTtcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShtb2NrQ2xhc3NlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdW5kZWZpbmVkIHdoZW4gbm8gbGluayBmb3VuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9ja1JlYWQgPSB7fSBhcyBhbnk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmaWxlUHJvcGVydHkucmVhZCA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG1vY2tWYXVsdDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5nZXRDbGFzc2UobW9ja1JlYWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiB1bmRlZmluZWQgd2hlbiBjbGFzc2Ugbm90IGZvdW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrUmVhZCA9IHt9IGFzIGFueTtcclxuICAgICAgICAgICAgY29uc3QgdGVzdExpbmsgPSAnW1tUZXN0RmlsZV1dJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS5yZWFkID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh0ZXN0TGluayk7XHJcbiAgICAgICAgICAgIG1vY2tWYXVsdC5nZXRGcm9tTGluay5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG1vY2tWYXVsdDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5nZXRDbGFzc2UobW9ja1JlYWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ3ZhbGlkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgIGl0KCdzaG91bGQgZXh0cmFjdCBhbmQgcmV0dXJuIHZhbGlkIE9ic2lkaWFuIGxpbmsnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gJ1tbVGVzdEZpbGVdXSc7XHJcbiAgICAgICAgICAgIGV4cGVjdChmaWxlUHJvcGVydHkudmFsaWRhdGUoaW5wdXQpKS50b0JlKCdbW1Rlc3RGaWxlXV0nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleHRyYWN0IGxpbmsgZnJvbSB0ZXh0IHdpdGggbGluaycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSAnU29tZSB0ZXh0IFtbVGVzdEZpbGVdXSBtb3JlIHRleHQnO1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LnZhbGlkYXRlKGlucHV0KSkudG9CZSgnW1tUZXN0RmlsZV1dJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGxpbmsgd2l0aCBhbGlhcycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSAnW1tUZXN0RmlsZXxBbGlhc11dJztcclxuICAgICAgICAgICAgZXhwZWN0KGZpbGVQcm9wZXJ0eS52YWxpZGF0ZShpbnB1dCkpLnRvQmUoJ1tbVGVzdEZpbGV8QWxpYXNdXScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSBzdHJpbmcgZm9yIGludmFsaWQgZm9ybWF0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9ICdKdXN0IHBsYWluIHRleHQnO1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LnZhbGlkYXRlKGlucHV0KSkudG9CZSgnJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IHN0cmluZyBmb3IgbWFsZm9ybWVkIGxpbmtzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9ICdbW1Rlc3RGaWxlJztcclxuICAgICAgICAgICAgZXhwZWN0KGZpbGVQcm9wZXJ0eS52YWxpZGF0ZShpbnB1dCkpLnRvQmUoJycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBzdHJpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGV4cGVjdChmaWxlUHJvcGVydHkudmFsaWRhdGUoJycpKS50b0JlKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgbGlua3MgYW5kIHJldHVybiBmaXJzdCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSAnW1tGaXJzdEZpbGVdXSBhbmQgW1tTZWNvbmRGaWxlXV0nO1xyXG4gICAgICAgICAgICBleHBlY3QoZmlsZVByb3BlcnR5LnZhbGlkYXRlKGlucHV0KSkudG9CZSgnW1tGaXJzdEZpbGVdXScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ2dldExpbmsnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG1vY2tWYXVsdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBvYnNpZGlhbiBVUkwgd2l0aCBmaWxlIHBhdGggd2hlbiBmaWxlIGV4aXN0cycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGVzdFZhbHVlID0gJ1tbVGVzdEZpbGVdXSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gJ3BhdGgvdG8vVGVzdEZpbGUubWQnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LnJlYWRMaW5rRmlsZS5tb2NrUmV0dXJuVmFsdWVPbmNlKGZpbGVQYXRoKS5tb2NrUmV0dXJuVmFsdWVPbmNlKCdUZXN0RmlsZScpO1xyXG4gICAgICAgICAgICBtb2NrVmF1bHQuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmaWxlUHJvcGVydHkuZ2V0TGluayh0ZXN0VmFsdWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnb2JzaWRpYW46Ly9vcGVuP3ZhdWx0PVRlc3RWYXVsdCZmaWxlPXBhdGglMkZ0byUyRlRlc3RGaWxlLm1kJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgdXNlIGZhbGxiYWNrIHdoZW4gZmlsZSBkb2VzIG5vdCBleGlzdCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGVzdFZhbHVlID0gJ1tbVGVzdEZpbGVdXSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gJ3BhdGgvdG8vVGVzdEZpbGUubWQnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LnJlYWRMaW5rRmlsZS5tb2NrUmV0dXJuVmFsdWVPbmNlKGZpbGVQYXRoKS5tb2NrUmV0dXJuVmFsdWVPbmNlKCdUZXN0RmlsZScpO1xyXG4gICAgICAgICAgICBtb2NrVmF1bHQuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmaWxlUHJvcGVydHkuZ2V0TGluayh0ZXN0VmFsdWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnb2JzaWRpYW46Ly9vcGVuP3ZhdWx0PVRlc3RWYXVsdCZmaWxlPVRlc3RGaWxlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgc2V0IHZhdWx0IHdoZW4gcHJvdmlkZWQgYXMgcGFyYW1ldGVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWYXVsdCA9IHsgLi4ubW9ja1ZhdWx0IH07XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG51bGw7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtb2NrVmF1bHQucmVhZExpbmtGaWxlLm1vY2tSZXR1cm5WYWx1ZSgnVGVzdEZpbGUnKTtcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgubW9ja1JldHVyblZhbHVlKG51bGwpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZmlsZVByb3BlcnR5LmdldExpbmsoJ1tbVGVzdEZpbGVdXScsIG5ld1ZhdWx0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV4cGVjdChmaWxlUHJvcGVydHkudmF1bHQpLnRvQmUobmV3VmF1bHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGVuY29kZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gdmF1bHQgbmFtZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGVzdFZhbHVlID0gJ1tbVGVzdEZpbGVdXSc7XHJcbiAgICAgICAgICAgIG1vY2tWYXVsdC5hcHAudmF1bHQuZ2V0TmFtZS5tb2NrUmV0dXJuVmFsdWUoJ015IFZhdWx0ICYgU3R1ZmYnKTtcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LnJlYWRMaW5rRmlsZS5tb2NrUmV0dXJuVmFsdWUoJ1Rlc3RGaWxlJyk7XHJcbiAgICAgICAgICAgIG1vY2tWYXVsdC5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5nZXRMaW5rKHRlc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0NvbnRhaW4oJ3ZhdWx0PU15JTIwVmF1bHQlMjAlMjYlMjBTdHVmZicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ2NyZWF0ZUljb25Db250YWluZXInLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgaWNvbiBjb250YWluZXIgd2l0aCBjb3JyZWN0IHN0cnVjdHVyZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9ja1VwZGF0ZSA9IGplc3QuZm4oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5jcmVhdGVJY29uQ29udGFpbmVyKG1vY2tVcGRhdGUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50YWdOYW1lKS50b0JlKCdESVYnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jbGFzc0xpc3QuY29udGFpbnMoJ2ljb24tY29udGFpbmVyJykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY2hpbGRyZW4ubGVuZ3RoKS50b0JlKDEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHNldCBjdXJzb3IgcG9pbnRlciB3aGVuIG5vdCBzdGF0aWMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS5zdGF0aWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVQcm9wZXJ0eS5jcmVhdGVJY29uQ29udGFpbmVyKG1vY2tVcGRhdGUpO1xyXG4gICAgICAgICAgICBjb25zdCBpY29uID0gcmVzdWx0LmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KGljb24uc3R5bGUuY3Vyc29yKS50b0JlKCdwb2ludGVyJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgbm90IHNldCBjdXJzb3IgcG9pbnRlciB3aGVuIHN0YXRpYycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9ja1VwZGF0ZSA9IGplc3QuZm4oKTtcclxuICAgICAgICAgICAgZmlsZVByb3BlcnR5LnN0YXRpYyA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmaWxlUHJvcGVydHkuY3JlYXRlSWNvbkNvbnRhaW5lcihtb2NrVXBkYXRlKTtcclxuICAgICAgICAgICAgY29uc3QgaWNvbiA9IHJlc3VsdC5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV4cGVjdChpY29uLnN0eWxlLmN1cnNvcikudG9CZSgnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnaGFuZGxlSWNvbkNsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAgICAgICBmaWxlUHJvcGVydHkudmF1bHQgPSBtb2NrVmF1bHQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgY2FsbCBzZWxlY3RGaWxlIHdpdGggY29ycmVjdCBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrVXBkYXRlID0gamVzdC5mbigpO1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgICAgIH0gYXMgYW55O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LmFwcC5zZWxlY3RGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgZmlsZVByb3BlcnR5LmhhbmRsZUljb25DbGljayhtb2NrVXBkYXRlLCBtb2NrRXZlbnQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KG1vY2tWYXVsdC5hcHAuc2VsZWN0RmlsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgICAgICAgICBtb2NrVmF1bHQsXHJcbiAgICAgICAgICAgICAgICBbJ2NsYXNzMScsICdjbGFzczInXSxcclxuICAgICAgICAgICAgICAgIHsgaGludDogXCJDaG9pc2lzc2V6IHVuIGZpY2hpZXIgY2xhc3MxIG91IGNsYXNzMlwiIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgdmFsdWUgd2hlbiBmaWxlIHNlbGVjdGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrVXBkYXRlID0gamVzdC5mbigpO1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrRmlsZSA9IHtcclxuICAgICAgICAgICAgICAgIGdldExpbms6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJ1tbU2VsZWN0ZWRGaWxlXV0nKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBtb2NrRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgICAgIH0gYXMgYW55O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LmFwcC5tb2NrVmF1bHQuYXBwLnNlbGVjdEZpbGUubW9ja1Jlc29sdmVkVmFsdWUobW9ja0ZpbGUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgZmlsZVByb3BlcnR5LmhhbmRsZUljb25DbGljayhtb2NrVXBkYXRlLCBtb2NrRXZlbnQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KG1vY2tVcGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdbW1NlbGVjdGVkRmlsZV1dJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgbm90IHVwZGF0ZSB3aGVuIG5vIGZpbGUgc2VsZWN0ZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tFdmVudCA9IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICAgICAgfSBhcyBhbnk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtb2NrVmF1bHQuYXBwLnNlbGVjdEZpbGUubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBhd2FpdCBmaWxlUHJvcGVydHkuaGFuZGxlSWNvbkNsaWNrKG1vY2tVcGRhdGUsIG1vY2tFdmVudCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBleHBlY3QobW9ja1VwZGF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdjcmVhdGVGaWVsZENvbnRhaW5lckNvbnRlbnQnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS52YXVsdCA9IG1vY2tWYXVsdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgZmllbGQgY29udGFpbmVyIHdpdGggY29ycmVjdCBzdHJ1Y3R1cmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlc3RWYWx1ZSA9ICdbW1Rlc3RGaWxlXV0nO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LnJlYWRMaW5rRmlsZS5tb2NrUmV0dXJuVmFsdWUoJ1Rlc3RGaWxlJyk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS5nZXRMaW5rID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgnb2JzaWRpYW46Ly90ZXN0Jyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmaWxlUHJvcGVydHkuY3JlYXRlRmllbGRDb250YWluZXJDb250ZW50KG1vY2tVcGRhdGUsIHRlc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRhZ05hbWUpLnRvQmUoJ0RJVicpO1xyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNsYXNzTGlzdC5jb250YWlucygnZmllbGQtY29udGFpbmVyJykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGxpbmsgd2l0aCBjb3JyZWN0IGhyZWYgYW5kIHRleHQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlc3RWYWx1ZSA9ICdbW1Rlc3RGaWxlXV0nO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LnJlYWRMaW5rRmlsZS5tb2NrUmV0dXJuVmFsdWUoJ1Rlc3RGaWxlJyk7XHJcbiAgICAgICAgICAgIGZpbGVQcm9wZXJ0eS5nZXRMaW5rID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgnb2JzaWRpYW46Ly90ZXN0Jyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmaWxlUHJvcGVydHkuY3JlYXRlRmllbGRDb250YWluZXJDb250ZW50KG1vY2tVcGRhdGUsIHRlc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSByZXN1bHQucXVlcnlTZWxlY3RvcignYScpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZXhwZWN0KGxpbms/LmhyZWYpLnRvQmUoJ29ic2lkaWFuOi8vdGVzdCcpO1xyXG4gICAgICAgICAgICBleHBlY3QobGluaz8udGV4dENvbnRlbnQpLnRvQmUoJ1Rlc3RGaWxlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChsaW5rPy5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpZWxkLWxpbmsnKSkudG9CZSh0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgdmFsdWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlc3RWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9ja1ZhdWx0LnJlYWRMaW5rRmlsZS5tb2NrUmV0dXJuVmFsdWUoJycpO1xyXG4gICAgICAgICAgICBmaWxlUHJvcGVydHkuZ2V0TGluayA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJ29ic2lkaWFuOi8vdGVzdCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZmlsZVByb3BlcnR5LmNyZWF0ZUZpZWxkQ29udGFpbmVyQ29udGVudChtb2NrVXBkYXRlLCB0ZXN0VmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zdCBsaW5rID0gcmVzdWx0LnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGV4cGVjdChsaW5rPy50ZXh0Q29udGVudCkudG9CZSgnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7XHJcbiJdLCJ2ZXJzaW9uIjozfQ==