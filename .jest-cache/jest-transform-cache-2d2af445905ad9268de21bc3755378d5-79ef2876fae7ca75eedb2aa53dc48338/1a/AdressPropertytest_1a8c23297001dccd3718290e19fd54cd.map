{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\AdressProperty.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\__tests__\\Properties\\AdressProperty.test.ts"],"sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\r\nimport { AdressProperty } from '../../src/properties/AdressProperty';\r\nimport { LinkProperty } from '../../src/properties/LinkProperty';\r\n\r\njest.mock('../../src/vault/Utils', () => ({\r\n    setIcon: jest.fn()\r\n}));\r\n\r\ndescribe('AdressProperty', () => {\r\n    let adressProperty: AdressProperty;\r\n\r\n    beforeEach(() => {\r\n        // Reset DOM mocks\r\n        document.body.innerHTML = '';\r\n        jest.clearAllMocks();\r\n    });\r\n\r\n    beforeEach(() => {\r\n        adressProperty = new AdressProperty('testAdress', mockVault, mockVault);\r\n    });\r\n\r\n    describe('constructor', () => {\r\n        it('should create AdressProperty with correct type', () => {\r\n            expect(adressProperty.type).toBe('adress');\r\n        });\r\n\r\n        it('should inherit from LinkProperty', () => {\r\n            expect(adressProperty).toBeInstanceOf(LinkProperty);\r\n        });\r\n\r\n        it('should use default icon when no args provided', () => {\r\n            const defaultProperty = new AdressProperty('defaultTest', mockVault, mockVault);\r\n            expect(defaultProperty.name).toBe('defaultTest');\r\n            expect(defaultProperty.type).toBe('adress');\r\n        });\r\n\r\n        it('should pass custom args to parent constructor', () => {\r\n            const customArgs = { icon: 'custom-icon', flexSpan: 3 };\r\n            const customProperty = new AdressProperty('customName', mockVault, customArgs);\r\n            expect(customProperty.name).toBe('customName');\r\n        });\r\n    });\r\n\r\n    describe('validate', () => {\r\n        it('should return input value unchanged', () => {\r\n            const testAddress = '123 Main St, Paris, France';\r\n            expect(adressProperty.validate(testAddress)).toBe(testAddress);\r\n        });\r\n\r\n        it('should handle empty string', () => {\r\n            expect(adressProperty.validate('')).toBe('');\r\n        });\r\n\r\n        it('should handle special characters in address', () => {\r\n            const specialAddress = 'Rue de l\\'Église, 75001 Paris';\r\n            expect(adressProperty.validate(specialAddress)).toBe(specialAddress);\r\n        });\r\n\r\n        it('should handle unicode characters', () => {\r\n            const unicodeAddress = '北京市朝阳区';\r\n            expect(adressProperty.validate(unicodeAddress)).toBe(unicodeAddress);\r\n        });\r\n\r\n        it('should handle multiline addresses', () => {\r\n            const multilineAddress = '123 Main St\\\\nApt 4B\\\\nParis, France';\r\n            expect(adressProperty.validate(multilineAddress)).toBe(multilineAddress);\r\n        });\r\n    });\r\n\r\n    describe('getLink', () => {\r\n        it('should generate Google Maps search URL for simple address', () => {\r\n            const address = '123 Main St, Paris';\r\n            const expectedUrl = 'https://www.google.com/maps/search/123%20Main%20St%2C%20Paris';\r\n            expect(adressProperty.getLink(address)).toBe(expectedUrl);\r\n        });\r\n\r\n        it('should properly encode special characters', () => {\r\n            const address = 'Rue de l\\'Église & Café';\r\n            const expectedUrl = 'https://www.google.com/maps/search/Rue%20de%20l\\'%C3%89glise%20%26%20Caf%C3%A9';\r\n            expect(adressProperty.getLink(address)).toBe(expectedUrl);\r\n        });\r\n\r\n        it('should handle empty address', () => {\r\n            const address = '';\r\n            const expectedUrl = 'https://www.google.com/maps/search/';\r\n            expect(adressProperty.getLink(address)).toBe(expectedUrl);\r\n        });\r\n\r\n        it('should encode spaces correctly', () => {\r\n            const address = 'New York City';\r\n            const expectedUrl = 'https://www.google.com/maps/search/New%20York%20City';\r\n            expect(adressProperty.getLink(address)).toBe(expectedUrl);\r\n        });\r\n\r\n        it('should handle complex international address', () => {\r\n            const address = '東京都渋谷区, Japan';\r\n            const result = adressProperty.getLink(address);\r\n            expect(result).toContain('https://www.google.com/maps/search/');\r\n            expect(result).toContain('%E6%9D%B1%E4%BA%AC%E9%83%BD'); // Encoded Tokyo characters\r\n        });\r\n\r\n        it('should handle address with numbers and symbols', () => {\r\n            const address = '123-45 Main St #456';\r\n            const result = adressProperty.getLink(address);\r\n            expect(result).toContain('https://www.google.com/maps/search/');\r\n            expect(result).toContain('123-45%20Main%20St%20%23456');\r\n        });\r\n\r\n        it('should handle very long address', () => {\r\n            const longAddress = 'Very Long Street Name With Many Words And Details Including Building Number 12345 Apartment Complex Building A Unit 456 City State Postal Code Country';\r\n            const result = adressProperty.getLink(longAddress);\r\n            expect(result).toContain('https://www.google.com/maps/search/');\r\n            expect(result.length).toBeGreaterThan(50); // Should be encoded and long\r\n        });\r\n    });\r\n\r\n    describe('inheritance from LinkProperty', () => {\r\n        it('should have fillDisplay method from parent', () => {\r\n            expect(typeof adressProperty.fillDisplay).toBe('function');\r\n        });\r\n\r\n        it('should have validate method from parent', () => {\r\n            expect(typeof adressProperty.validate).toBe('function');\r\n        });\r\n\r\n        it('should have getLink method', () => {\r\n            expect(typeof adressProperty.getLink).toBe('function');\r\n        });\r\n\r\n        it('should have createFieldLink method from parent', () => {\r\n            expect(typeof adressProperty.createFieldLink).toBe('function');\r\n        });\r\n\r\n        it('should have getPretty method from parent', () => {\r\n            expect(typeof adressProperty.getPretty).toBe('function');\r\n        });\r\n\r\n        it('should have name property from parent', () => {\r\n            expect(adressProperty.name).toBe('testAdress');\r\n        });\r\n    });\r\n\r\n    describe('link functionality integration', () => {\r\n        it('should create clickable link with Google Maps URL', () => {\r\n            const mockFile = {};\r\n            const mockUpdate = jest.fn();\r\n            const address = 'Paris, France';\r\n            \r\n            const result = adressProperty.fillDisplay(null, address, mockUpdate, mockFile);\r\n            \r\n            expect(result).toBeTruthy();\r\n            expect(result.tagName).toBe('DIV');\r\n        });\r\n\r\n        it('should handle null value in fillDisplay', () => {\r\n            const mockFile = {};\r\n            const mockUpdate = jest.fn();\r\n            \r\n            const result = adressProperty.fillDisplay(null, null, mockUpdate, mockFile);\r\n            \r\n            expect(result).toBeTruthy();\r\n            expect(result.tagName).toBe('DIV');\r\n        });\r\n\r\n        it('should handle undefined value in fillDisplay', () => {\r\n            const mockFile = {};\r\n            const mockUpdate = jest.fn();\r\n            \r\n            const result = adressProperty.fillDisplay(null, undefined, mockUpdate, mockFile);\r\n            \r\n            expect(result).toBeTruthy();\r\n            expect(result.tagName).toBe('DIV');\r\n        });\r\n    });\r\n});\r\n"],"version":3}