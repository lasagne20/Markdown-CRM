{"file":"C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\properties\\HeaderProperty.ts","mappings":"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","names":[],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\properties\\HeaderProperty.ts"],"sourcesContent":["import { LinkProperty } from \"./LinkProperty\";\r\nimport { Property } from \"./Property\";\r\nimport axios from 'axios';\r\nimport { Vault } from \"../vault/Vault\";\r\n\r\n// Temporary type declarations for missing imports\r\ndeclare const Notice: any;\r\ndeclare const TFile: any;\r\n\r\nexport class HearderProperty extends Property {\r\n  public override type: string = \"header\";\r\n\r\n  constructor(name: string, vault: Vault, args = {}) {\r\n    super(name, vault, args);\r\n  }\r\n\r\n  override fillDisplay(vault : any, value: any, update: (value: any) => Promise<void>, args : {size ?: string} = {size : \"2em\"}) {\r\n        this.vault = vault;\r\n        const field = this.createFieldContainer();\r\n        const fieldContainer = this.createFieldContainerContent(update, value);\r\n        \r\n        if (fieldContainer && args.size) {\r\n            const link = fieldContainer.querySelector('.field-headerlink') as HTMLElement;\r\n            const input = fieldContainer.querySelector('.field-header') as HTMLInputElement;\r\n            input.style.fontSize = args.size;\r\n            link.style.fontSize = args.size;\r\n        }\r\n\r\n        field.appendChild(fieldContainer);\r\n        return field;\r\n    }\r\n\r\n  override createFieldInput(value: string) {\r\n    const input = document.createElement(\"input\");\r\n    input.type = \"text\";\r\n    input.value = value || \"\";\r\n    input.classList.add(\"field-header\");\r\n    \r\n\r\n    return input;\r\n  }\r\n\r\n  override createFieldContainer() {\r\n    const field = document.createElement(\"div\");\r\n    field.classList.add(\"metadata-headerfield\");\r\n    return field;\r\n  }\r\n\r\n  override createFieldLink(value: string) {\r\n    const link = document.createElement(\"h2\");\r\n    link.innerHTML = value || \"\";\r\n    link.classList.add(\"field-headerlink\");\r\n    link.style.cursor = this.static ? \"default\" : \"text\";\r\n    \r\n    if (!this.static) {\r\n      link.onclick = (event) => this.modifyField(event);\r\n    }\r\n    return link;\r\n  }\r\n\r\n  override modifyField(event: Event) {\r\n    const link = (event.target as HTMLElement).closest('.metadata-headerfield')?.querySelector('.field-headerlink') as HTMLElement;\r\n    const input = (event.target as HTMLElement).closest('.metadata-headerfield')?.querySelector('.field-header') as HTMLInputElement;\r\n    if (link && input) {\r\n      link.style.display = \"none\";\r\n      input.style.display = \"block\";\r\n      input.focus();\r\n    }\r\n  }\r\n\r\n  override handleFieldInput(update: (value: string) => Promise<void>, input: HTMLInputElement | HTMLTextAreaElement, link: HTMLElement) {\r\n    input.onblur = async () => {\r\n        await this.updateField(update, input, link);\r\n        return;\r\n    };\r\n\r\n    input.onkeydown = async (event) => {\r\n        if ((event as KeyboardEvent).key === \"Escape\" || (event as KeyboardEvent).key === \"Enter\") {\r\n                event.preventDefault();\r\n                await this.updateField(update, input, link);\r\n        }\r\n    };\r\n  }\r\n}\r\n"],"version":3}