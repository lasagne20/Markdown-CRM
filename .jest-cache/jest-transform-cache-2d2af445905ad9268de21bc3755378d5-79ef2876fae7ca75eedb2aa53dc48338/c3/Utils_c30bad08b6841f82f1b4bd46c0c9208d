fac33830d96c46aae00fc88550308a88
"use strict";
// Utility functions for file metadata operations
Object.defineProperty(exports, "__esModule", { value: true });
exports.selectFile = exports.sendNotice = exports.setIcon = exports.waitForMetaDataCacheUpdate = exports.waitForFileMetaDataUpdate = void 0;
const waitForFileMetaDataUpdate = async (app, filePath, key, callback) => {
    // Attendre que les métadonnées du fichier soient mises à jour
    // Dans un environnement réel, ceci surveillerait les changements de métadonnées
    let attempts = 0;
    const maxAttempts = 50;
    while (attempts < maxAttempts) {
        const file = app.vault.getAbstractFileByPath(filePath);
        if (file) {
            const metadata = app.metadataCache.getFileCache(file)?.frontmatter;
            if (metadata && metadata[key] !== undefined) {
                await callback();
                return;
            }
        }
        await new Promise(resolve => setTimeout(resolve, 100));
        attempts++;
    }
    // Si on n'arrive pas à détecter le changement, on exécute quand même le callback
    await callback();
};
exports.waitForFileMetaDataUpdate = waitForFileMetaDataUpdate;
const waitForMetaDataCacheUpdate = async (app, callback) => {
    // Attendre que le cache des métadonnées soit mis à jour
    // Simulation d'une attente courte
    await new Promise(resolve => setTimeout(resolve, 100));
    await callback();
};
exports.waitForMetaDataCacheUpdate = waitForMetaDataCacheUpdate;
const setIcon = (container, iconName) => {
    throw new Error("setIcon function is not implemented in this environment");
};
exports.setIcon = setIcon;
const sendNotice = (message, type = "info") => {
    throw new Error("Notice function is not implemented in this environment");
};
exports.sendNotice = sendNotice;
const selectFile = async (vault, classes, options) => {
    throw new Error("selectFile function is not implemented in this environment");
};
exports.selectFile = selectFile;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxzcmNcXHZhdWx0XFxVdGlscy50cyIsIm1hcHBpbmdzIjoiO0FBQUEsaURBQWlEOzs7QUFFMUMsTUFBTSx5QkFBeUIsR0FBRyxLQUFLLEVBQzFDLEdBQVEsRUFDUixRQUFnQixFQUNoQixHQUFXLEVBQ1gsUUFBNkIsRUFDaEIsRUFBRTtJQUNmLDhEQUE4RDtJQUM5RCxnRkFBZ0Y7SUFDaEYsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUV2QixPQUFPLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQztRQUM1QixNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZELElBQUksSUFBSSxFQUFFLENBQUM7WUFDUCxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRSxXQUFXLENBQUM7WUFDbkUsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUMxQyxNQUFNLFFBQVEsRUFBRSxDQUFDO2dCQUNqQixPQUFPO1lBQ1gsQ0FBQztRQUNMLENBQUM7UUFFRCxNQUFNLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELFFBQVEsRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVELGlGQUFpRjtJQUNqRixNQUFNLFFBQVEsRUFBRSxDQUFDO0FBQ3JCLENBQUMsQ0FBQztBQTNCVyxRQUFBLHlCQUF5Qiw2QkEyQnBDO0FBRUssTUFBTSwwQkFBMEIsR0FBRyxLQUFLLEVBQzNDLEdBQVEsRUFDUixRQUE2QixFQUNoQixFQUFFO0lBQ2Ysd0RBQXdEO0lBQ3hELGtDQUFrQztJQUNsQyxNQUFNLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sUUFBUSxFQUFFLENBQUM7QUFDckIsQ0FBQyxDQUFDO0FBUlcsUUFBQSwwQkFBMEIsOEJBUXJDO0FBRUssTUFBTSxPQUFPLEdBQUcsQ0FDbkIsU0FBc0IsRUFDdEIsUUFBZ0IsRUFDWixFQUFFO0lBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQyx5REFBeUQsQ0FBQyxDQUFDO0FBQy9FLENBQUMsQ0FBQztBQUxXLFFBQUEsT0FBTyxXQUtsQjtBQUVLLE1BQU0sVUFBVSxHQUFHLENBQUMsT0FBZSxFQUFFLE9BQXFDLE1BQU0sRUFBUSxFQUFFO0lBQzdGLE1BQU0sSUFBSSxLQUFLLENBQUMsd0RBQXdELENBQUMsQ0FBQztBQUM5RSxDQUFDLENBQUM7QUFGVyxRQUFBLFVBQVUsY0FFckI7QUFFSyxNQUFNLFVBQVUsR0FBRyxLQUFLLEVBQUUsS0FBVSxFQUFFLE9BQWlCLEVBQUUsT0FBWSxFQUFnQixFQUFFO0lBQzFGLE1BQU0sSUFBSSxLQUFLLENBQUMsNERBQTRELENBQUMsQ0FBQztBQUNsRixDQUFDLENBQUM7QUFGVyxRQUFBLFVBQVUsY0FFckIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsZW9kdVxcRG9jdW1lbnRzXFwxIC0gUHJvXFxUZXN0IHBsdWdpbiBvYnNpZGlhblxcLm9ic2lkaWFuXFxwbHVnaW5zXFxvYnNpZGlhbi1DUk1cXGR5bmFtaWMtZmllbGRzXFxzcmNcXHZhdWx0XFxVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgZmlsZSBtZXRhZGF0YSBvcGVyYXRpb25zXHJcblxyXG5leHBvcnQgY29uc3Qgd2FpdEZvckZpbGVNZXRhRGF0YVVwZGF0ZSA9IGFzeW5jIChcclxuICAgIGFwcDogYW55LFxyXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcclxuICAgIGtleTogc3RyaW5nLFxyXG4gICAgY2FsbGJhY2s6ICgpID0+IFByb21pc2U8dm9pZD5cclxuKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAvLyBBdHRlbmRyZSBxdWUgbGVzIG3DqXRhZG9ubsOpZXMgZHUgZmljaGllciBzb2llbnQgbWlzZXMgw6Agam91clxyXG4gICAgLy8gRGFucyB1biBlbnZpcm9ubmVtZW50IHLDqWVsLCBjZWNpIHN1cnZlaWxsZXJhaXQgbGVzIGNoYW5nZW1lbnRzIGRlIG3DqXRhZG9ubsOpZXNcclxuICAgIGxldCBhdHRlbXB0cyA9IDA7XHJcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDUwO1xyXG4gICAgXHJcbiAgICB3aGlsZSAoYXR0ZW1wdHMgPCBtYXhBdHRlbXB0cykge1xyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcclxuICAgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKT8uZnJvbnRtYXR0ZXI7XHJcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YSAmJiBtZXRhZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xyXG4gICAgICAgIGF0dGVtcHRzKys7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNpIG9uIG4nYXJyaXZlIHBhcyDDoCBkw6l0ZWN0ZXIgbGUgY2hhbmdlbWVudCwgb24gZXjDqWN1dGUgcXVhbmQgbcOqbWUgbGUgY2FsbGJhY2tcclxuICAgIGF3YWl0IGNhbGxiYWNrKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgd2FpdEZvck1ldGFEYXRhQ2FjaGVVcGRhdGUgPSBhc3luYyAoXHJcbiAgICBhcHA6IGFueSxcclxuICAgIGNhbGxiYWNrOiAoKSA9PiBQcm9taXNlPHZvaWQ+XHJcbik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgLy8gQXR0ZW5kcmUgcXVlIGxlIGNhY2hlIGRlcyBtw6l0YWRvbm7DqWVzIHNvaXQgbWlzIMOgIGpvdXJcclxuICAgIC8vIFNpbXVsYXRpb24gZCd1bmUgYXR0ZW50ZSBjb3VydGVcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcclxuICAgIGF3YWl0IGNhbGxiYWNrKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0SWNvbiA9IChcclxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXHJcbiAgICBpY29uTmFtZTogc3RyaW5nXHJcbik6IHZvaWQgPT4ge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic2V0SWNvbiBmdW5jdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBlbnZpcm9ubWVudFwiKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZW5kTm90aWNlID0gKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogXCJpbmZvXCIgfCBcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIiA9IFwiaW5mb1wiKTogdm9pZCA9PiB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3RpY2UgZnVuY3Rpb24gaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgZW52aXJvbm1lbnRcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0RmlsZSA9IGFzeW5jICh2YXVsdDogYW55LCBjbGFzc2VzOiBzdHJpbmdbXSwgb3B0aW9uczogYW55KTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcInNlbGVjdEZpbGUgZnVuY3Rpb24gaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgZW52aXJvbm1lbnRcIik7XHJcbn07Il0sInZlcnNpb24iOjN9