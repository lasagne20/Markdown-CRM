{"version":3,"names":["cov_1rx32ghcuf","actualCoverage","s","Property_1","require","HearderProperty","Property","constructor","name","vault","args","b","f","type","fillDisplay","value","update","size","field","createFieldContainer","fieldContainer","createFieldContainerContent","link","querySelector","input","style","fontSize","appendChild","createFieldInput","document","createElement","classList","add","createFieldLink","innerHTML","cursor","static","onclick","event","modifyField","target","closest","display","focus","handleFieldInput","onblur","updateField","onkeydown","key","preventDefault","exports"],"sources":["C:\\Users\\leodu\\Documents\\1 - Pro\\Test plugin obsidian\\.obsidian\\plugins\\obsidian-CRM\\dynamic-fields\\src\\properties\\HeaderProperty.ts"],"sourcesContent":["import { LinkProperty } from \"./LinkProperty\";\r\nimport { Property } from \"./Property\";\r\nimport axios from 'axios';\r\nimport { Vault } from \"../vault/Vault\";\r\n\r\n// Temporary type declarations for missing imports\r\ndeclare const Notice: any;\r\ndeclare const TFile: any;\r\n\r\nexport class HearderProperty extends Property {\r\n  public override type: string = \"header\";\r\n\r\n  constructor(name: string, vault: Vault, args = {}) {\r\n    super(name, vault, args);\r\n  }\r\n\r\n  override fillDisplay(vault : any, value: any, update: (value: any) => Promise<void>, args : {size ?: string} = {size : \"2em\"}) {\r\n        this.vault = vault;\r\n        const field = this.createFieldContainer();\r\n        const fieldContainer = this.createFieldContainerContent(update, value);\r\n        \r\n        if (fieldContainer && args.size) {\r\n            const link = fieldContainer.querySelector('.field-headerlink') as HTMLElement;\r\n            const input = fieldContainer.querySelector('.field-header') as HTMLInputElement;\r\n            input.style.fontSize = args.size;\r\n            link.style.fontSize = args.size;\r\n        }\r\n\r\n        field.appendChild(fieldContainer);\r\n        return field;\r\n    }\r\n\r\n  override createFieldInput(value: string) {\r\n    const input = document.createElement(\"input\");\r\n    input.type = \"text\";\r\n    input.value = value || \"\";\r\n    input.classList.add(\"field-header\");\r\n    \r\n\r\n    return input;\r\n  }\r\n\r\n  override createFieldContainer() {\r\n    const field = document.createElement(\"div\");\r\n    field.classList.add(\"metadata-headerfield\");\r\n    return field;\r\n  }\r\n\r\n  override createFieldLink(value: string) {\r\n    const link = document.createElement(\"h2\");\r\n    link.innerHTML = value || \"\";\r\n    link.classList.add(\"field-headerlink\");\r\n    link.style.cursor = this.static ? \"default\" : \"text\";\r\n    \r\n    if (!this.static) {\r\n      link.onclick = (event) => this.modifyField(event);\r\n    }\r\n    return link;\r\n  }\r\n\r\n  override modifyField(event: Event) {\r\n    const link = (event.target as HTMLElement).closest('.metadata-headerfield')?.querySelector('.field-headerlink') as HTMLElement;\r\n    const input = (event.target as HTMLElement).closest('.metadata-headerfield')?.querySelector('.field-header') as HTMLInputElement;\r\n    if (link && input) {\r\n      link.style.display = \"none\";\r\n      input.style.display = \"block\";\r\n      input.focus();\r\n    }\r\n  }\r\n\r\n  override handleFieldInput(update: (value: string) => Promise<void>, input: HTMLInputElement | HTMLTextAreaElement, link: HTMLElement) {\r\n    input.onblur = async () => {\r\n        await this.updateField(update, input, link);\r\n        return;\r\n    };\r\n\r\n    input.onkeydown = async (event) => {\r\n        if ((event as KeyboardEvent).key === \"Escape\" || (event as KeyboardEvent).key === \"Enter\") {\r\n                event.preventDefault();\r\n                await this.updateField(update, input, link);\r\n        }\r\n    };\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuBY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;;AAtBZ,MAAAC,UAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,OAAAE,OAAA;AAQA,MAAaC,eAAgB;AAAA;AAAA,CAAQF,UAAA,CAAAG,QAAQ;EAG3CC,YAAYC,IAAY,EAAEC,KAAY,EAAEC,IAAI;EAAA;EAAA,CAAAV,cAAA,GAAAW,CAAA,UAAG,EAAE;IAAA;IAAAX,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAE,CAAA;IAC/C,KAAK,CAACM,IAAI,EAAEC,KAAK,EAAEC,IAAI,CAAC;IAAC;IAAAV,cAAA,GAAAE,CAAA;IAHX,KAAAW,IAAI,GAAW,QAAQ;EAIvC;EAESC,WAAWA,CAACL,KAAW,EAAEM,KAAU,EAAEC,MAAqC,EAAEN,IAAA;EAAA;EAAA,CAAAV,cAAA,GAAAW,CAAA,UAA0B;IAACM,IAAI,EAAG;EAAK,CAAC;IAAA;IAAAjB,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAE,CAAA;IACvH,IAAI,CAACO,KAAK,GAAGA,KAAK;IAClB,MAAMS,KAAK;IAAA;IAAA,CAAAlB,cAAA,GAAAE,CAAA,OAAG,IAAI,CAACiB,oBAAoB,EAAE;IACzC,MAAMC,cAAc;IAAA;IAAA,CAAApB,cAAA,GAAAE,CAAA,OAAG,IAAI,CAACmB,2BAA2B,CAACL,MAAM,EAAED,KAAK,CAAC;IAAC;IAAAf,cAAA,GAAAE,CAAA;IAEvE;IAAI;IAAA,CAAAF,cAAA,GAAAW,CAAA,UAAAS,cAAc;IAAA;IAAA,CAAApB,cAAA,GAAAW,CAAA,UAAID,IAAI,CAACO,IAAI,GAAE;MAAA;MAAAjB,cAAA,GAAAW,CAAA;MAC7B,MAAMW,IAAI;MAAA;MAAA,CAAAtB,cAAA,GAAAE,CAAA,OAAGkB,cAAc,CAACG,aAAa,CAAC,mBAAmB,CAAgB;MAC7E,MAAMC,KAAK;MAAA;MAAA,CAAAxB,cAAA,GAAAE,CAAA,QAAGkB,cAAc,CAACG,aAAa,CAAC,eAAe,CAAqB;MAAC;MAAAvB,cAAA,GAAAE,CAAA;MAChFsB,KAAK,CAACC,KAAK,CAACC,QAAQ,GAAGhB,IAAI,CAACO,IAAI;MAAC;MAAAjB,cAAA,GAAAE,CAAA;MACjCoB,IAAI,CAACG,KAAK,CAACC,QAAQ,GAAGhB,IAAI,CAACO,IAAI;IACnC,CAAC;IAAA;IAAA;MAAAjB,cAAA,GAAAW,CAAA;IAAA;IAAAX,cAAA,GAAAE,CAAA;IAEDgB,KAAK,CAACS,WAAW,CAACP,cAAc,CAAC;IAAC;IAAApB,cAAA,GAAAE,CAAA;IAClC,OAAOgB,KAAK;EAChB;EAEOU,gBAAgBA,CAACb,KAAa;IAAA;IAAAf,cAAA,GAAAY,CAAA;IACrC,MAAMY,KAAK;IAAA;IAAA,CAAAxB,cAAA,GAAAE,CAAA,QAAG2B,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAAC;IAAA9B,cAAA,GAAAE,CAAA;IAC9CsB,KAAK,CAACX,IAAI,GAAG,MAAM;IAAC;IAAAb,cAAA,GAAAE,CAAA;IACpBsB,KAAK,CAACT,KAAK;IAAG;IAAA,CAAAf,cAAA,GAAAW,CAAA,UAAAI,KAAK;IAAA;IAAA,CAAAf,cAAA,GAAAW,CAAA,UAAI,EAAE;IAAC;IAAAX,cAAA,GAAAE,CAAA;IAC1BsB,KAAK,CAACO,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;IAAC;IAAAhC,cAAA,GAAAE,CAAA;IAGpC,OAAOsB,KAAK;EACd;EAESL,oBAAoBA,CAAA;IAAA;IAAAnB,cAAA,GAAAY,CAAA;IAC3B,MAAMM,KAAK;IAAA;IAAA,CAAAlB,cAAA,GAAAE,CAAA,QAAG2B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAAC;IAAA9B,cAAA,GAAAE,CAAA;IAC5CgB,KAAK,CAACa,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC;IAAC;IAAAhC,cAAA,GAAAE,CAAA;IAC5C,OAAOgB,KAAK;EACd;EAESe,eAAeA,CAAClB,KAAa;IAAA;IAAAf,cAAA,GAAAY,CAAA;IACpC,MAAMU,IAAI;IAAA;IAAA,CAAAtB,cAAA,GAAAE,CAAA,QAAG2B,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;IAAC;IAAA9B,cAAA,GAAAE,CAAA;IAC1CoB,IAAI,CAACY,SAAS;IAAG;IAAA,CAAAlC,cAAA,GAAAW,CAAA,UAAAI,KAAK;IAAA;IAAA,CAAAf,cAAA,GAAAW,CAAA,UAAI,EAAE;IAAC;IAAAX,cAAA,GAAAE,CAAA;IAC7BoB,IAAI,CAACS,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAAC;IAAAhC,cAAA,GAAAE,CAAA;IACvCoB,IAAI,CAACG,KAAK,CAACU,MAAM,GAAG,IAAI,CAACC,MAAM;IAAA;IAAA,CAAApC,cAAA,GAAAW,CAAA,UAAG,SAAS;IAAA;IAAA,CAAAX,cAAA,GAAAW,CAAA,UAAG,MAAM;IAAC;IAAAX,cAAA,GAAAE,CAAA;IAErD,IAAI,CAAC,IAAI,CAACkC,MAAM,EAAE;MAAA;MAAApC,cAAA,GAAAW,CAAA;MAAAX,cAAA,GAAAE,CAAA;MAChBoB,IAAI,CAACe,OAAO,GAAIC,KAAK,IAAK;QAAA;QAAAtC,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAE,CAAA;QAAA,WAAI,CAACqC,WAAW,CAACD,KAAK,CAAC;MAAD,CAAC;IACnD,CAAC;IAAA;IAAA;MAAAtC,cAAA,GAAAW,CAAA;IAAA;IAAAX,cAAA,GAAAE,CAAA;IACD,OAAOoB,IAAI;EACb;EAESiB,WAAWA,CAACD,KAAY;IAAA;IAAAtC,cAAA,GAAAY,CAAA;IAC/B,MAAMU,IAAI;IAAA;IAAA,CAAAtB,cAAA,GAAAE,CAAA,QAAIoC,KAAK,CAACE,MAAsB,CAACC,OAAO,CAAC,uBAAuB,CAAC,EAAElB,aAAa,CAAC,mBAAmB,CAAgB;IAC9H,MAAMC,KAAK;IAAA;IAAA,CAAAxB,cAAA,GAAAE,CAAA,QAAIoC,KAAK,CAACE,MAAsB,CAACC,OAAO,CAAC,uBAAuB,CAAC,EAAElB,aAAa,CAAC,eAAe,CAAqB;IAAC;IAAAvB,cAAA,GAAAE,CAAA;IACjI;IAAI;IAAA,CAAAF,cAAA,GAAAW,CAAA,UAAAW,IAAI;IAAA;IAAA,CAAAtB,cAAA,GAAAW,CAAA,UAAIa,KAAK,GAAE;MAAA;MAAAxB,cAAA,GAAAW,CAAA;MAAAX,cAAA,GAAAE,CAAA;MACjBoB,IAAI,CAACG,KAAK,CAACiB,OAAO,GAAG,MAAM;MAAC;MAAA1C,cAAA,GAAAE,CAAA;MAC5BsB,KAAK,CAACC,KAAK,CAACiB,OAAO,GAAG,OAAO;MAAC;MAAA1C,cAAA,GAAAE,CAAA;MAC9BsB,KAAK,CAACmB,KAAK,EAAE;IACf,CAAC;IAAA;IAAA;MAAA3C,cAAA,GAAAW,CAAA;IAAA;EACH;EAESiC,gBAAgBA,CAAC5B,MAAwC,EAAEQ,KAA6C,EAAEF,IAAiB;IAAA;IAAAtB,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAE,CAAA;IAClIsB,KAAK,CAACqB,MAAM,GAAG,YAAW;MAAA;MAAA7C,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAE,CAAA;MACtB,MAAM,IAAI,CAAC4C,WAAW,CAAC9B,MAAM,EAAEQ,KAAK,EAAEF,IAAI,CAAC;MAAC;MAAAtB,cAAA,GAAAE,CAAA;MAC5C;IACJ,CAAC;IAAC;IAAAF,cAAA,GAAAE,CAAA;IAEFsB,KAAK,CAACuB,SAAS,GAAG,MAAOT,KAAK,IAAI;MAAA;MAAAtC,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAE,CAAA;MAC9B;MAAK;MAAA,CAAAF,cAAA,GAAAW,CAAA,WAAA2B,KAAuB,CAACU,GAAG,KAAK,QAAQ;MAAA;MAAA,CAAAhD,cAAA,GAAAW,CAAA,WAAK2B,KAAuB,CAACU,GAAG,KAAK,OAAO,GAAE;QAAA;QAAAhD,cAAA,GAAAW,CAAA;QAAAX,cAAA,GAAAE,CAAA;QACnFoC,KAAK,CAACW,cAAc,EAAE;QAAC;QAAAjD,cAAA,GAAAE,CAAA;QACvB,MAAM,IAAI,CAAC4C,WAAW,CAAC9B,MAAM,EAAEQ,KAAK,EAAEF,IAAI,CAAC;MACnD,CAAC;MAAA;MAAA;QAAAtB,cAAA,GAAAW,CAAA;MAAA;IACL,CAAC;EACH;;AACD;AAAAX,cAAA,GAAAE,CAAA;AA1EDgD,OAAA,CAAA7C,eAAA,GAAAA,eAAA","ignoreList":[]}